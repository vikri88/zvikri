function latest_blog_post(){new google.feeds.Feed("http://blog.iconfinder.com/feed/").load(function(a){if(!a.error){var b=a.feed.entries[0],c=(b.content,{title:b.title,link:b.link,author:b.author}),d=Handlebars.templates["helpers/templates/latest_post.html"](c);$("#latest-post").html(d)}})}function decodeQueryParameters(a){return function(a){if(""==a)return{};for(var b={},c=0;c<a.length;++c){var d=a[c].split("=");2==d.length&&(b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," ")))}return b}(a.split("&"))}function getQueryParameters(){return decodeQueryParameters(window.location.search.substr(1))}function handleKey(a){if($(".pagination").is(":visible")){if(("body"==a.target.localName||"html"==a.target.localName)&&!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)){var b=a.which;37==b?prevPage():39==b&&nextPage()}}if(27==a.which&&($(".comments-overlay").is(":visible")&&window.Nextfinder.comments.hideCommentsOverlay(),$(".share-button").hasClass("active")&&$(".share-button").removeClass("active"),$(".escapable").is(":visible"))){var c=$("video");$(c).each(function(){var a=$(this).get(0);a.paused?a.play():a.pause()}),$(".escapable:visible").each(function(){$(this).hasClass("on-escape-hide")?$(this).fadeOut(function(){}):$(this).fadeOut(function(){$(this).remove()})})}67==a.which&&$(".bitly-short").is(":visible")&&($.pnotify({pnotify_title:"URL was copied to clipboard",pnotify_history:!1}),$(".bitly-short").fadeOut("slow"),setTimeout(function(){$(".bitly-short").remove()},2e3))}function prevPage(){var a=$(".pageslist .prev").attr("href");a&&a!=document.location&&(document.location=a)}function nextPage(){var a=$(".pageslist .next").attr("href");a&&a!=document.location&&(document.location=a)}function showSharingWindow(a,b,c){var d=(window.screen.width-b)/2,e=(window.screen.height-c)/2;window.open(a,"SharingWindow","status=1,height="+c+",width="+b+",resizable=0,screenX="+d+",screenY="+e)}function getCampaignTrackingURL(a,b){var c=-1===a.indexOf("?")?"?":"&",d="utm_source=sharing-feature&utm_medium=social&utm_content="+b+"&utm_campaign=sharing-feature";return a+c+("undefined"!=typeof USER?"ref="+USER.username+"&":"")+d}function showInfoMenu(a,b){return hideInfoMenu($(document).find(".infomenu")),infomenu=$("#infomenu-"+a),$("#infolink-"+a).addClass("selected"),infomenu.css("display","block"),infomenu.position().left>140&&infomenu.css("left",b-140+"px"),infomenu.addClass("loading"),hiddensize=$("#size-"+a).val(),$.get("/icons/ajax/"+a+"/"+hiddensize+"/info",function(a){infomenu.html(a),infomenu.removeClass("loading"),Nextfinder.tracking.trackEvent("Search results","Info menu","Show info")}),obj=null,a=null,hiddensize=null,!1}function hideInfoMenu(a){a.siblings(".infolink").removeClass("selected"),a.fadeOut("fast")}function videoPopUp(a){$('<div class="modal-backdrop escapable" />').appendTo(document.body);var b=$(a).find("video").get(0);$(a).fadeIn("fast"),b.play()}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=ma.type(a);return"function"!==c&&!ma.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(ma.isFunction(b))return ma.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ma.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ta.test(b))return ma.filter(b,a,c);b=ma.filter(b,a)}return ma.grep(a,function(a){return ma.inArray(a,b)>-1!==c})}function e(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function f(a){var b={};return ma.each(a.match(ya)||[],function(a,c){b[c]=!0}),b}function g(){da.addEventListener?(da.removeEventListener("DOMContentLoaded",h),a.removeEventListener("load",h)):(da.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(da.addEventListener||"load"===a.event.type||"complete"===da.readyState)&&(g(),ma.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Da,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ca.test(c)?ma.parseJSON(c):c)}catch(a){}ma.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!ma.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(Ba(a)){var e,f,g=ma.expando,h=a.nodeType,i=h?ma.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=ca.pop()||ma.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ma.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=ma.extend(i[j],b):i[j].data=ma.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ma.camelCase(b)]=c),"string"==typeof b?null==(e=f[b])&&(e=f[ma.camelCase(b)]):e=f,e}}function l(a,b,c){if(Ba(a)){var d,e,f=a.nodeType,g=f?ma.cache:a,h=f?a[ma.expando]:ma.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ma.isArray(b)?b=b.concat(ma.map(b,ma.camelCase)):b in d?b=[b]:(b=ma.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!ma.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?ma.cleanData([a],!0):la.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}function m(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return ma.css(a,b,"")},i=h(),j=c&&c[3]||(ma.cssNumber[b]?"":"px"),k=(ma.cssNumber[b]||"px"!==j&&+i)&&Fa.exec(ma.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,ma.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function n(a){var b=Na.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){var c,d,e=0,f=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ma.nodeName(d,b)?f.push(d):ma.merge(f,o(d,b));return void 0===b||b&&ma.nodeName(a,b)?ma.merge([a],f):f}function p(a,b){for(var c,d=0;null!=(c=a[d]);d++)ma._data(c,"globalEval",!b||ma._data(b[d],"globalEval"))}function q(a){Ja.test(a.type)&&(a.defaultChecked=a.checked)}function r(a,b,c,d,e){for(var f,g,h,i,j,k,l,m=a.length,r=n(b),s=[],t=0;t<m;t++)if((g=a[t])||0===g)if("object"===ma.type(g))ma.merge(s,g.nodeType?[g]:g);else if(Pa.test(g)){for(i=i||r.appendChild(b.createElement("div")),j=(Ka.exec(g)||["",""])[1].toLowerCase(),l=Oa[j]||Oa._default,i.innerHTML=l[1]+ma.htmlPrefilter(g)+l[2],f=l[0];f--;)i=i.lastChild;if(!la.leadingWhitespace&&Ma.test(g)&&s.push(b.createTextNode(Ma.exec(g)[0])),!la.tbody)for(g="table"!==j||Qa.test(g)?"<table>"!==l[1]||Qa.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;f--;)ma.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);for(ma.merge(s,i.childNodes),i.textContent="";i.firstChild;)i.removeChild(i.firstChild);i=r.lastChild}else s.push(b.createTextNode(g));for(i&&r.removeChild(i),la.appendChecked||ma.grep(o(s,"input"),q),t=0;g=s[t++];)if(d&&ma.inArray(g,d)>-1)e&&e.push(g);else if(h=ma.contains(g.ownerDocument,g),i=o(r.appendChild(g),"script"),h&&p(i),c)for(f=0;g=i[f++];)La.test(g.type||"")&&c.push(g);return i=null,r}function s(){return!0}function t(){return!1}function u(){try{return da.activeElement}catch(a){}}function v(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)v(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=t;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ma().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ma.guid++)),a.each(function(){ma.event.add(this,b,e,d,c)})}function w(a,b){return ma.nodeName(a,"table")&&ma.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function x(a){return a.type=(null!==ma.find.attr(a,"type"))+"/"+a.type,a}function y(a){var b=Za.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function z(a,b){if(1===b.nodeType&&ma.hasData(a)){var c,d,e,f=ma._data(a),g=ma._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)ma.event.add(b,c,h[c][d])}g.data&&(g.data=ma.extend({},g.data))}}function A(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!la.noCloneEvent&&b[ma.expando]){e=ma._data(b);for(d in e.events)ma.removeEvent(b,d,e.handle);b.removeAttribute(ma.expando)}"script"===c&&b.text!==a.text?(x(b).text=a.text,y(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),la.html5Clone&&a.innerHTML&&!ma.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Ja.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function B(a,b,c,d){b=fa.apply([],b);var e,f,g,h,i,j,k=0,l=a.length,m=l-1,n=b[0],p=ma.isFunction(n);if(p||l>1&&"string"==typeof n&&!la.checkClone&&Ya.test(n))return a.each(function(e){var f=a.eq(e);p&&(b[0]=n.call(this,e,f.html())),B(f,b,c,d)});if(l&&(j=r(b,a[0].ownerDocument,!1,a,d),e=j.firstChild,1===j.childNodes.length&&(j=e),e||d)){for(h=ma.map(o(j,"script"),x),g=h.length;k<l;k++)f=j,k!==m&&(f=ma.clone(f,!0,!0),g&&ma.merge(h,o(f,"script"))),c.call(a[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,ma.map(h,y),k=0;k<g;k++)f=h[k],La.test(f.type||"")&&!ma._data(f,"globalEval")&&ma.contains(i,f)&&(f.src?ma._evalUrl&&ma._evalUrl(f.src):ma.globalEval((f.text||f.textContent||f.innerHTML||"").replace($a,"")));j=e=null}return a}function C(a,b,c){for(var d,e=b?ma.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ma.cleanData(o(d)),d.parentNode&&(c&&ma.contains(d.ownerDocument,d)&&p(o(d,"script")),d.parentNode.removeChild(d));return a}function D(a,b){var c=ma(b.createElement(a)).appendTo(b.body),d=ma.css(c[0],"display");return c.detach(),d}function E(a){var b=da,c=cb[a];return c||(c=D(a,b),"none"!==c&&c||(bb=(bb||ma("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(bb[0].contentWindow||bb[0].contentDocument).document,b.write(),b.close(),c=D(a,b),bb.detach()),cb[a]=c),c}function F(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function G(a){if(a in rb)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=qb.length;c--;)if((a=qb[c]+b)in rb)return a}function H(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=ma._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ha(d)&&(f[g]=ma._data(d,"olddisplay",E(d.nodeName)))):(e=Ha(d),(c&&"none"!==c||!e)&&ma._data(d,"olddisplay",e?c:ma.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function I(a,b,c){var d=nb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function J(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ma.css(a,c+Ga[f],!0,e)),d?("content"===c&&(g-=ma.css(a,"padding"+Ga[f],!0,e)),"margin"!==c&&(g-=ma.css(a,"border"+Ga[f]+"Width",!0,e))):(g+=ma.css(a,"padding"+Ga[f],!0,e),"padding"!==c&&(g+=ma.css(a,"border"+Ga[f]+"Width",!0,e)));return g}function K(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=hb(a),g=la.boxSizing&&"border-box"===ma.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=ib(a,b,f),(e<0||null==e)&&(e=a.style[b]),eb.test(e))return e;d=g&&(la.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+J(a,b,c||(g?"border":"content"),d,f)+"px"}function L(a,b,c,d,e){return new L.prototype.init(a,b,c,d,e)}function M(){return a.setTimeout(function(){sb=void 0}),sb=ma.now()}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=Ga[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a,b,c){for(var d,e=(R.tweeners[b]||[]).concat(R.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&Ha(a),o=ma._data(a,"fxshow");c.queue||(h=ma._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,ma.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=ma.css(a,"display"),"inline"===("none"===j?ma._data(a,"olddisplay")||E(a.nodeName):j)&&"none"===ma.css(a,"float")&&(la.inlineBlockNeedsLayout&&"inline"!==E(a.nodeName)?m.zoom=1:m.display="inline-block")),c.overflow&&(m.overflow="hidden",la.shrinkWrapBlocks()||k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ub.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||ma.style(a,d)}else j=void 0;if(ma.isEmptyObject(l))"inline"===("none"===j?E(a.nodeName):j)&&(m.display=j);else{o?"hidden"in o&&(n=o.hidden):o=ma._data(a,"fxshow",{}),f&&(o.hidden=!n),n?ma(a).show():k.done(function(){ma(a).hide()}),k.done(function(){var b;ma._removeData(a,"fxshow");for(b in l)ma.style(a,b,l[b])});for(d in l)g=O(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=ma.camelCase(c),e=b[d],f=a[c],ma.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ma.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f=0,g=R.prefilters.length,h=ma.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=sb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ma.extend({},b),opts:ma.extend(!0,{specialEasing:{},easing:ma.easing._default},c),originalProperties:b,originalOptions:c,startTime:sb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ma.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);f<g;f++)if(d=R.prefilters[f].call(j,a,k,j.opts))return ma.isFunction(d.stop)&&(ma._queueHooks(j.elem,j.opts.queue).stop=ma.proxy(d.stop,d)),d;return ma.map(k,O,j),ma.isFunction(j.opts.start)&&j.opts.start.call(a,j),ma.fx.timer(ma.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function S(a){return ma.attr(a,"class")||""}function T(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ya)||[];if(ma.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function U(a,b,c,d){function e(h){var i;return f[h]=!0,ma.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Nb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function V(a,b){var c,d,e=ma.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ma.extend(!0,a,c),a}function W(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function X(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Y(a){return a.style&&a.style.display||ma.css(a,"display")}function Z(a){if(!ma.contains(a.ownerDocument||da,a))return!0;for(;a&&1===a.nodeType;){if("none"===Y(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}function $(a,b,c,d){var e;if(ma.isArray(b))ma.each(b,function(b,e){c||Rb.test(a)?d(a,e):$(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==ma.type(b))d(a,b);else for(e in b)$(a+"["+e+"]",b[e],c,d)}function _(){try{return new a.XMLHttpRequest}catch(a){}}function aa(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function ba(a){return ma.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var ca=[],da=a.document,ea=ca.slice,fa=ca.concat,ga=ca.push,ha=ca.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la={},ma=function(a,b){return new ma.fn.init(a,b)},na=function(a,b){return b.toUpperCase()};ma.fn=ma.prototype={jquery:"1.12.4",constructor:ma,selector:"",length:0,toArray:function(){return ea.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:ea.call(this)},pushStack:function(a){var b=ma.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return ma.each(this,a)},map:function(a){return this.pushStack(ma.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ca.sort,splice:ca.splice},ma.extend=ma.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ma.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ma.isPlainObject(c)||(b=ma.isArray(c)))?(b?(b=!1,f=a&&ma.isArray(a)?a:[]):f=a&&ma.isPlainObject(a)?a:{},g[d]=ma.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ma.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ma.type(a)},isArray:Array.isArray||function(a){return"array"===ma.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!ma.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ma.type(a)||a.nodeType||ma.isWindow(a))return!1;try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(!la.ownFirst)for(b in a)return ka.call(a,b);for(b in a);return void 0===b||ka.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(b){b&&ma.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,na)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ma.merge(d,"string"==typeof a?[a]:a):ga.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ha)return ha.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)null!=(f=b(a[g],g,d))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,d))&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),ma.isFunction(a))return c=ea.call(arguments,2),d=function(){return a.apply(b||this,c.concat(ea.call(arguments)))},d.guid=a.guid=a.guid||ma.guid++,d},now:function(){return+new Date},support:la}),"function"==typeof Symbol&&(ma.fn[Symbol.iterator]=ca[Symbol.iterator]),ma.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var oa=function(a){function b(a,b,c,d){var e,f,g,h,j,l,m,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:M)!==E&&D(b),b=b||E,G)){if(11!==p&&(l=pa.exec(a)))if(e=l[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&K(b,g)&&g.id===e)return c.push(g),c}else{if(l[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((e=l[3])&&t.getElementsByClassName&&b.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(e)),c}if(t.qsa&&!R[a+" "]&&(!H||!H.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ra,"\\$&"):b.setAttribute("id",h=L),m=x(a),f=m.length,j=ka.test(h)?"#"+h:"[id='"+h+"']";f--;)m[f]=j+" "+k(m[f]);n=m.join(","),o=qa.test(a)&&i(b.parentNode)||b}if(n)try{return Y.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===L&&b.removeAttribute("id")}}}return z(a.replace(fa,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>u.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[L]=!0,a}function e(a){var b=E.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)u.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||T)-(~a.sourceIndex||T);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function i(a){return a&&void 0!==a.getElementsByTagName&&a}function j(){}function k(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function l(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=O++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[N,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[L]||(b[L]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===N&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function m(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function n(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function o(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function p(a,b,c,e,f,g){return e&&!e[L]&&(e=p(e)),f&&!f[L]&&(f=p(f,g)),d(function(d,g,h,i){var j,k,l,m=[],p=[],q=g.length,r=d||n(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:o(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=o(t,p),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[p[k]]=!(s[p[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=o(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function q(a){for(var b,c,d,e=a.length,f=u.relative[a[0].type],g=f||u.relative[" "],h=f?1:0,i=l(function(a){return a===b},g,!0),j=l(function(a){return $(b,a)>-1},g,!0),n=[function(a,c,d){var e=!f&&(d||c!==A)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=u.relative[a[h].type])n=[l(m(n),c)];else{if(c=u.filter[a[h].type].apply(null,a[h].matches),c[L]){for(d=++h;d<e&&!u.relative[a[d].type];d++);return p(h>1&&m(n),h>1&&k(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(fa,"$1"),c,h<d&&q(a.slice(h,d)),d<e&&q(a=a.slice(d)),d<e&&k(a))}n.push(c)}return m(n)}function r(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,p="0",q=d&&[],r=[],s=A,t=d||f&&u.find.TAG("*",j),v=N+=null==s?1:Math.random()||.1,w=t.length;for(j&&(A=g===E||g||j);p!==w&&null!=(k=t[p]);p++){if(f&&k){for(l=0,g||k.ownerDocument===E||(D(k),h=!G);m=a[l++];)if(m(k,g||E,h)){i.push(k);break}j&&(N=v)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=p,e&&p!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;p--;)q[p]||r[p]||(r[p]=W.call(i));r=o(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(N=v,A=s),q};return e?d(g):g}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L="sizzle"+1*new Date,M=a.document,N=0,O=0,P=c(),Q=c(),R=c(),S=function(a,b){return a===b&&(C=!0),0},T=1<<31,U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)"+aa+"*\\]",da=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ca+")*)|.*)\\)|)",ea=new RegExp(aa+"+","g"),fa=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=new RegExp("^"+aa+"*,"+aa+"*"),ha=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ia=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ja=new RegExp(da),ka=new RegExp("^"+ba+"$"),la={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba+"|[*])"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,ra=/'|\\/g,sa=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),ta=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ua=function(){D()};try{Y.apply(V=Z.call(M.childNodes),M.childNodes),V[M.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}t=b.support={},w=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},D=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:M;return d!==E&&9===d.nodeType&&d.documentElement?(E=d,F=E.documentElement,G=!w(E),(c=E.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",ua,!1):c.attachEvent&&c.attachEvent("onunload",ua)),t.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),t.getElementsByTagName=e(function(a){return a.appendChild(E.createComment("")),!a.getElementsByTagName("*").length}),t.getElementsByClassName=oa.test(E.getElementsByClassName),t.getById=e(function(a){return F.appendChild(a).id=L,!E.getElementsByName||!E.getElementsByName(L).length}),t.getById?(u.find.ID=function(a,b){if(void 0!==b.getElementById&&G){var c=b.getElementById(a);return c?[c]:[]}},u.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){return a.getAttribute("id")===b}}):(delete u.find.ID,u.filter.ID=function(a){var b=a.replace(sa,ta);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),u.find.TAG=t.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):t.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},u.find.CLASS=t.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&G)return b.getElementsByClassName(a)},I=[],H=[],(t.qsa=oa.test(E.querySelectorAll))&&(e(function(a){F.appendChild(a).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||H.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+L+"-]").length||H.push("~="),a.querySelectorAll(":checked").length||H.push(":checked"),a.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),e(function(a){var b=E.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&H.push("name"+aa+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),H.push(",.*:")})),(t.matchesSelector=oa.test(J=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&e(function(a){t.disconnectedMatch=J.call(a,"div"),J.call(a,"[s!='']:x"),I.push("!=",da)}),H=H.length&&new RegExp(H.join("|")),I=I.length&&new RegExp(I.join("|")),b=oa.test(F.compareDocumentPosition),K=b||oa.test(F.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},S=b?function(a,b){if(a===b)return C=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!t.sortDetached&&b.compareDocumentPosition(a)===c?a===E||a.ownerDocument===M&&K(M,a)?-1:b===E||b.ownerDocument===M&&K(M,b)?1:B?$(B,a)-$(B,b):0:4&c?-1:1)}:function(a,b){if(a===b)return C=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===E?-1:b===E?1:e?-1:f?1:B?$(B,a)-$(B,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===M?-1:i[d]===M?1:0},E):E},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==E&&D(a),c=c.replace(ia,"='$1']"),t.matchesSelector&&G&&!R[c+" "]&&(!I||!I.test(c))&&(!H||!H.test(c)))try{var d=J.call(a,c)
;if(d||t.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,E,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==E&&D(a),K(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==E&&D(a);var c=u.attrHandle[b.toLowerCase()],d=c&&U.call(u.attrHandle,b.toLowerCase())?c(a,b,!G):void 0;return void 0!==d?d:t.attributes||!G?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(C=!t.detectDuplicates,B=!t.sortStable&&a.slice(0),a.sort(S),C){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return B=null,a},v=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=v(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=v(b);return c},u=b.selectors={cacheLength:50,createPseudo:d,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(sa,ta),a[3]=(a[3]||a[4]||a[5]||"").replace(sa,ta),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=x(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(sa,ta).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=P[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&P(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ea," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===N&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[N,n,t];break}}else if(s&&(m=b,l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===N&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[L]||(m[L]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[N,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=u.pseudos[a]||u.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[L]?f(c):f.length>1?(e=[a,a,"",c],u.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=y(a.replace(fa,"$1"));return e[L]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(sa,ta),function(b){return(b.textContent||b.innerText||v(b)).indexOf(a)>-1}}),lang:d(function(a){return ka.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(sa,ta).toLowerCase(),function(b){var c;do{if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:h(function(){return[0]}),last:h(function(a,b){return[b-1]}),eq:h(function(a,b,c){return[c<0?c+b:c]}),even:h(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:h(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:h(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:h(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},u.pseudos.nth=u.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[s]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(s);for(s in{submit:!0,reset:!0})u.pseudos[s]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(s);return j.prototype=u.filters=u.pseudos,u.setFilters=new j,x=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=Q[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=u.preFilter;h;){d&&!(e=ga.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ha.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(fa," ")}),h=h.slice(d.length));for(g in u.filter)!(e=la[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):Q(a,i).slice(0)},y=b.compile=function(a,b){var c,d=[],e=[],f=R[a+" "];if(!f){for(b||(b=x(a)),c=b.length;c--;)f=q(b[c]),f[L]?d.push(f):e.push(f);f=R(a,r(e,d)),f.selector=a}return f},z=b.select=function(a,b,c,d){var e,f,g,h,j,l="function"==typeof a&&a,m=!d&&x(a=l.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&t.getById&&9===b.nodeType&&G&&u.relative[f[1].type]){if(!(b=(u.find.ID(g.matches[0].replace(sa,ta),b)||[])[0]))return c;l&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=la.needsContext.test(a)?0:f.length;e--&&(g=f[e],!u.relative[h=g.type]);)if((j=u.find[h])&&(d=j(g.matches[0].replace(sa,ta),qa.test(f[0].type)&&i(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&k(f)))return Y.apply(c,d),c;break}}return(l||y(a,m))(d,b,!G,c,!b||qa.test(a)&&i(b.parentNode)||b),c},t.sortStable=L.split("").sort(S).join("")===L,t.detectDuplicates=!!C,D(),t.sortDetached=e(function(a){return 1&a.compareDocumentPosition(E.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),t.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ma.find=oa,ma.expr=oa.selectors,ma.expr[":"]=ma.expr.pseudos,ma.uniqueSort=ma.unique=oa.uniqueSort,ma.text=oa.getText,ma.isXMLDoc=oa.isXML,ma.contains=oa.contains;var pa=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ma(a).is(c))break;d.push(a)}return d},qa=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ra=ma.expr.match.needsContext,sa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ta=/^.[^:#\[\.,]*$/;ma.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ma.find.matchesSelector(d,a)?[d]:[]:ma.find.matches(a,ma.grep(b,function(a){return 1===a.nodeType}))},ma.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ma(a).filter(function(){for(b=0;b<e;b++)if(ma.contains(d[b],this))return!0}));for(b=0;b<e;b++)ma.find(a,d[b],c);return c=this.pushStack(e>1?ma.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ra.test(a)?ma(a):a||[],!1).length}});var ua,va=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ma.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||ua,"string"==typeof a){if(!(d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:va.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ma?b[0]:b,ma.merge(this,ma.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:da,!0)),sa.test(d[1])&&ma.isPlainObject(b))for(d in b)ma.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}if((e=da.getElementById(d[2]))&&e.parentNode){if(e.id!==d[2])return ua.find(a);this.length=1,this[0]=e}return this.context=da,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ma.isFunction(a)?void 0!==c.ready?c.ready(a):a(ma):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ma.makeArray(a,this))}).prototype=ma.fn,ua=ma(da);var wa=/^(?:parents|prev(?:Until|All))/,xa={children:!0,contents:!0,next:!0,prev:!0};ma.fn.extend({has:function(a){var b,c=ma(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(ma.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ra.test(a)||"string"!=typeof a?ma(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ma.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ma.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ma.inArray(this[0],ma(a)):ma.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ma.uniqueSort(ma.merge(this.get(),ma(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ma.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return pa(a,"parentNode")},parentsUntil:function(a,b,c){return pa(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return pa(a,"nextSibling")},prevAll:function(a){return pa(a,"previousSibling")},nextUntil:function(a,b,c){return pa(a,"nextSibling",c)},prevUntil:function(a,b,c){return pa(a,"previousSibling",c)},siblings:function(a){return qa((a.parentNode||{}).firstChild,a)},children:function(a){return qa(a.firstChild)},contents:function(a){return ma.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ma.merge([],a.childNodes)}},function(a,b){ma.fn[a]=function(c,d){var e=ma.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ma.filter(d,e)),this.length>1&&(xa[a]||(e=ma.uniqueSort(e)),wa.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ya=/\S+/g;ma.Callbacks=function(a){a="string"==typeof a?f(a):ma.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)!1===g[i].apply(c[0],c[1])&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){ma.each(c,function(c,d){ma.isFunction(d)?a.unique&&k.has(d)||g.push(d):d&&d.length&&"string"!==ma.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return ma.each(arguments,function(a,b){for(var c;(c=ma.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?ma.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=!0,c||k.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},ma.extend({Deferred:function(a){var b=[["resolve","done",ma.Callbacks("once memory"),"resolved"],["reject","fail",ma.Callbacks("once memory"),"rejected"],["notify","progress",ma.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ma.Deferred(function(c){ma.each(b,function(b,f){var g=ma.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ma.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ma.extend(a,d):d}},e={};return d.pipe=d.then,ma.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=ea.call(arguments),g=f.length,h=1!==g||a&&ma.isFunction(a.promise)?g:0,i=1===h?a:ma.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?ea.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&ma.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var za;ma.fn.ready=function(a){return ma.ready.promise().done(a),this},ma.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ma.readyWait++:ma.ready(!0)},ready:function(a){(!0===a?--ma.readyWait:ma.isReady)||(ma.isReady=!0,!0!==a&&--ma.readyWait>0||(za.resolveWith(da,[ma]),ma.fn.triggerHandler&&(ma(da).triggerHandler("ready"),ma(da).off("ready"))))}}),ma.ready.promise=function(b){if(!za)if(za=ma.Deferred(),"complete"===da.readyState||"loading"!==da.readyState&&!da.documentElement.doScroll)a.setTimeout(ma.ready);else if(da.addEventListener)da.addEventListener("DOMContentLoaded",h),a.addEventListener("load",h);else{da.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&da.documentElement}catch(a){}c&&c.doScroll&&function b(){if(!ma.isReady){try{c.doScroll("left")}catch(c){return a.setTimeout(b,50)}g(),ma.ready()}}()}return za.promise(b)},ma.ready.promise();var Aa;for(Aa in ma(la))break;la.ownFirst="0"===Aa,la.inlineBlockNeedsLayout=!1,ma(function(){var a,b,c,d;(c=da.getElementsByTagName("body")[0])&&c.style&&(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),void 0!==b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",la.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=da.createElement("div");la.deleteExpando=!0;try{delete a.test}catch(a){la.deleteExpando=!1}a=null}();var Ba=function(a){var b=ma.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)},Ca=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Da=/([A-Z])/g;ma.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?ma.cache[a[ma.expando]]:a[ma.expando])&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),ma.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ma.data(f),1===f.nodeType&&!ma._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ma.camelCase(d.slice(5)),i(f,d,e[d])));ma._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ma.data(this,a)}):arguments.length>1?this.each(function(){ma.data(this,a,b)}):f?i(f,a,ma.data(f,a)):void 0},removeData:function(a){return this.each(function(){ma.removeData(this,a)})}}),ma.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=ma._data(a,b),c&&(!d||ma.isArray(c)?d=ma._data(a,b,ma.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ma.queue(a,b),d=c.length,e=c.shift(),f=ma._queueHooks(a,b),g=function(){ma.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ma._data(a,c)||ma._data(a,c,{empty:ma.Callbacks("once memory").add(function(){ma._removeData(a,b+"queue"),ma._removeData(a,c)})})}}),ma.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ma.queue(this[0],a):void 0===b?this:this.each(function(){var c=ma.queue(this,a,b);ma._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ma.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ma.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ma.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=ma._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;la.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return(c=da.getElementsByTagName("body")[0])&&c.style?(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),void 0!==b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(da.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ea=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fa=new RegExp("^(?:([+-])=|)("+Ea+")([a-z%]*)$","i"),Ga=["Top","Right","Bottom","Left"],Ha=function(a,b){return a=b||a,"none"===ma.css(a,"display")||!ma.contains(a.ownerDocument,a)},Ia=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ma.type(c)){e=!0;for(h in c)Ia(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ma.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ma(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ja=/^(?:checkbox|radio)$/i,Ka=/<([\w:-]+)/,La=/^$|\/(?:java|ecma)script/i,Ma=/^\s+/,Na="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var a=da.createElement("div"),b=da.createDocumentFragment(),c=da.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",la.leadingWhitespace=3===a.firstChild.nodeType,la.tbody=!a.getElementsByTagName("tbody").length,la.htmlSerialize=!!a.getElementsByTagName("link").length,la.html5Clone="<:nav></:nav>"!==da.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),la.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",la.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=da.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),la.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,la.noCloneEvent=!!a.addEventListener,a[ma.expando]=1,la.attributes=!a.getAttribute(ma.expando)}();var Oa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:la.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Oa.optgroup=Oa.option,Oa.tbody=Oa.tfoot=Oa.colgroup=Oa.caption=Oa.thead,Oa.th=Oa.td;var Pa=/<|&#?\w+;/,Qa=/<tbody/i;!function(){var b,c,d=da.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(la[b]=c in a)||(d.setAttribute(c,"t"),la[b]=!1===d.attributes[c].expando);d=null}();var Ra=/^(?:input|select|textarea)$/i,Sa=/^key/,Ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ua=/^(?:focusinfocus|focusoutblur)$/,Va=/^([^.]*)(?:\.(.+)|)/;ma.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ma._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ma.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return void 0===ma||a&&ma.event.triggered===a.type?void 0:ma.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ya)||[""],h=b.length;h--;)f=Va.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ma.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ma.event.special[n]||{},l=ma.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ma.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&!1!==j.setup.call(a,d,o,k)||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),ma.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ma.hasData(a)&&ma._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ya)||[""],j=b.length;j--;)if(h=Va.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ma.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ma.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ma.event.remove(a,n+b[j],c,d,!0);ma.isEmptyObject(k)&&(delete q.handle,ma._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||da],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||da,3!==d.nodeType&&8!==d.nodeType&&!Ua.test(n+ma.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ma.expando]?b:new ma.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ma.makeArray(c,[b]),j=ma.event.special[n]||{},e||!j.trigger||!1!==j.trigger.apply(d,c))){if(!e&&!j.noBubble&&!ma.isWindow(d)){for(i=j.delegateType||n,Ua.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||da)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ma._data(h,"events")||{})[b.type]&&ma._data(h,"handle"),f&&f.apply(h,c),(f=g&&h[g])&&f.apply&&Ba(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||!1===j._default.apply(m.pop(),c))&&Ba(d)&&g&&d[n]&&!ma.isWindow(d)){k=d[g],k&&(d[g]=null),ma.event.triggered=n;try{d[n]()}catch(a){}ma.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ma.event.fix(a);var b,c,d,e,f,g=[],h=ea.call(arguments),i=(ma._data(this,"events")||{})[a.type]||[],j=ma.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=ma.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,void 0!==(d=((ma.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?ma(e,this).index(i)>-1:ma.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ma.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ta.test(e)?this.mouseHooks:Sa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ma.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||da),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||da,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ma.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return ma.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=ma.extend(new ma.Event,c,{type:a,isSimulated:!0});ma.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},ma.removeEvent=da.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&(void 0===a[d]&&(a[d]=null),a.detachEvent(d,c))},ma.Event=function(a,b){if(!(this instanceof ma.Event))return new ma.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?s:t):this.type=a,b&&ma.extend(this,b),this.timeStamp=a&&a.timeStamp||ma.now(),this[ma.expando]=!0},ma.Event.prototype={constructor:ma.Event,isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=s,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=s,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=s,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},ma.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ma.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ma.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),la.submit||(ma.event.special.submit={setup:function(){if(ma.nodeName(this,"form"))return!1;ma.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ma.nodeName(b,"input")||ma.nodeName(b,"button")?ma.prop(b,"form"):void 0;c&&!ma._data(c,"submit")&&(ma.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),ma._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&ma.event.simulate("submit",this.parentNode,a))},teardown:function(){if(ma.nodeName(this,"form"))return!1;ma.event.remove(this,"._submit")}}),la.change||(ma.event.special.change={setup:function(){if(Ra.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ma.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),ma.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),ma.event.simulate("change",this,a)})),!1;ma.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ra.test(b.nodeName)&&!ma._data(b,"change")&&(ma.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ma.event.simulate("change",this.parentNode,a)}),ma._data(b,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return ma.event.remove(this,"._change"),!Ra.test(this.nodeName)}}),la.focusin||ma.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ma.event.simulate(b,a.target,ma.event.fix(a))};ma.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ma._data(d,b);e||d.addEventListener(a,c,!0),ma._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ma._data(d,b)-1;e?ma._data(d,b,e):(d.removeEventListener(a,c,!0),ma._removeData(d,b))}}}),ma.fn.extend({on:function(a,b,c,d){return v(this,a,b,c,d)},one:function(a,b,c,d){return v(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ma(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=t),this.each(function(){ma.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){
ma.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ma.event.trigger(a,b,c,!0)}});var Wa=new RegExp("<(?:"+Na+")[\\s/>]","i"),Xa=/<script|<style|<link/i,Ya=/checked\s*(?:[^=]|=\s*.checked.)/i,Za=/^true\/(.*)/,$a=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_a=n(da),ab=_a.appendChild(da.createElement("div"));ma.extend({htmlPrefilter:function(a){return a.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=ma.contains(a.ownerDocument,a);if(la.html5Clone||ma.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ab.innerHTML=a.outerHTML,ab.removeChild(f=ab.firstChild)),!(la.noCloneEvent&&la.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ma.isXMLDoc(a)))for(d=o(f),h=o(a),g=0;null!=(e=h[g]);++g)d[g]&&A(e,d[g]);if(b)if(c)for(h=h||o(a),d=d||o(f),g=0;null!=(e=h[g]);g++)z(e,d[g]);else z(a,f);return d=o(f,"script"),d.length>0&&p(d,!i&&o(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ma.expando,i=ma.cache,j=la.attributes,k=ma.event.special;null!=(c=a[g]);g++)if((b||Ba(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ma.event.remove(c,d):ma.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j||void 0===c.removeAttribute?c[h]=void 0:c.removeAttribute(h),ca.push(e))}}}),ma.fn.extend({domManip:B,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return Ia(this,function(a){return void 0===a?ma.text(this):this.empty().append((this[0]&&this[0].ownerDocument||da).createTextNode(a))},null,a,arguments.length)},append:function(){return B(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,a).appendChild(a)}})},prepend:function(){return B(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return B(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return B(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ma.cleanData(o(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ma.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ma.clone(this,a,b)})},html:function(a){return Ia(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(/ jQuery\d+="(?:null|\d+)"/g,""):void 0;if("string"==typeof a&&!Xa.test(a)&&(la.htmlSerialize||!Wa.test(a))&&(la.leadingWhitespace||!Ma.test(a))&&!Oa[(Ka.exec(a)||["",""])[1].toLowerCase()]){a=ma.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ma.cleanData(o(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return B(this,arguments,function(b){var c=this.parentNode;ma.inArray(this,a)<0&&(ma.cleanData(o(this)),c&&c.replaceChild(b,this))},a)}}),ma.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ma.fn[a]=function(a){for(var c,d=0,e=[],f=ma(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),ma(f[d])[b](c),ga.apply(e,c.get());return this.pushStack(e)}});var bb,cb={HTML:"block",BODY:"block"},db=/^margin/,eb=new RegExp("^("+Ea+")(?!px)[a-z%]+$","i"),fb=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},gb=da.documentElement;!function(){function b(){var b,k,l=da.documentElement;l.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c=e=h=!1,d=g=!0,a.getComputedStyle&&(k=a.getComputedStyle(j),c="1%"!==(k||{}).top,h="2px"===(k||{}).marginLeft,e="4px"===(k||{width:"4px"}).width,j.style.marginRight="50%",d="4px"===(k||{marginRight:"4px"}).marginRight,b=j.appendChild(da.createElement("div")),b.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",b.style.marginRight=b.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(b)||{}).marginRight),j.removeChild(b)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",b=j.getElementsByTagName("td"),b[0].style.cssText="margin:0;border:0;padding:0;display:none",(f=0===b[0].offsetHeight)&&(b[0].style.display="",b[1].style.display="none",f=0===b[0].offsetHeight)),l.removeChild(i)}var c,d,e,f,g,h,i=da.createElement("div"),j=da.createElement("div");j.style&&(j.style.cssText="float:left;opacity:.5",la.opacity="0.5"===j.style.opacity,la.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",la.clearCloneStyle="content-box"===j.style.backgroundClip,i=da.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),la.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,ma.extend(la,{reliableHiddenOffsets:function(){return null==c&&b(),f},boxSizingReliable:function(){return null==c&&b(),e},pixelMarginRight:function(){return null==c&&b(),d},pixelPosition:function(){return null==c&&b(),c},reliableMarginRight:function(){return null==c&&b(),g},reliableMarginLeft:function(){return null==c&&b(),h}}))}();var hb,ib,jb=/^(top|right|bottom|left)$/;a.getComputedStyle?(hb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},ib=function(a,b,c){var d,e,f,g,h=a.style;return c=c||hb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||ma.contains(a.ownerDocument,a)||(g=ma.style(a,b)),c&&!la.pixelMarginRight()&&eb.test(g)&&db.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):gb.currentStyle&&(hb=function(a){return a.currentStyle},ib=function(a,b,c){var d,e,f,g,h=a.style;return c=c||hb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),eb.test(g)&&!jb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});var kb=/alpha\([^)]*\)/i,lb=/opacity\s*=\s*([^)]*)/i,mb=/^(none|table(?!-c[ea]).+)/,nb=new RegExp("^("+Ea+")(.*)$","i"),ob={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:"0",fontWeight:"400"},qb=["Webkit","O","Moz","ms"],rb=da.createElement("div").style;ma.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=ib(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:la.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ma.camelCase(b),i=a.style;if(b=ma.cssProps[h]||(ma.cssProps[h]=G(h)||h),g=ma.cssHooks[b]||ma.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Fa.exec(c))&&e[1]&&(c=m(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(ma.cssNumber[h]?"":"px")),la.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=ma.camelCase(b);return b=ma.cssProps[h]||(ma.cssProps[h]=G(h)||h),g=ma.cssHooks[b]||ma.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=ib(a,b,d)),"normal"===f&&b in pb&&(f=pb[b]),""===c||c?(e=parseFloat(f),!0===c||isFinite(e)?e||0:f):f}}),ma.each(["height","width"],function(a,b){ma.cssHooks[b]={get:function(a,c,d){if(c)return mb.test(ma.css(a,"display"))&&0===a.offsetWidth?fb(a,ob,function(){return K(a,b,d)}):K(a,b,d)},set:function(a,c,d){var e=d&&hb(a);return I(a,c,d?J(a,b,d,la.boxSizing&&"border-box"===ma.css(a,"boxSizing",!1,e),e):0)}}}),la.opacity||(ma.cssHooks.opacity={get:function(a,b){return lb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ma.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ma.trim(f.replace(kb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=kb.test(f)?f.replace(kb,e):f+" "+e)}}),ma.cssHooks.marginRight=F(la.reliableMarginRight,function(a,b){if(b)return fb(a,{display:"inline-block"},ib,[a,"marginRight"])}),ma.cssHooks.marginLeft=F(la.reliableMarginLeft,function(a,b){if(b)return(parseFloat(ib(a,"marginLeft"))||(ma.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-fb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"}),ma.each({margin:"",padding:"",border:"Width"},function(a,b){ma.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ga[d]+b]=f[d]||f[d-2]||f[0];return e}},db.test(a)||(ma.cssHooks[a+b].set=I)}),ma.fn.extend({css:function(a,b){return Ia(this,function(a,b,c){var d,e,f={},g=0;if(ma.isArray(b)){for(d=hb(a),e=b.length;g<e;g++)f[b[g]]=ma.css(a,b[g],!1,d);return f}return void 0!==c?ma.style(a,b,c):ma.css(a,b)},a,b,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ha(this)?ma(this).show():ma(this).hide()})}}),ma.Tween=L,L.prototype={constructor:L,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ma.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ma.cssNumber[c]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var b,c=L.propHooks[this.prop];return this.options.duration?this.pos=b=ma.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ma.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ma.fx.step[a.prop]?ma.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[ma.cssProps[a.prop]]&&!ma.cssHooks[a.prop]?a.elem[a.prop]=a.now:ma.style(a.elem,a.prop,a.now+a.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ma.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ma.fx=L.prototype.init,ma.fx.step={};var sb,tb,ub=/^(?:toggle|show|hide)$/,vb=/queueHooks$/;ma.Animation=ma.extend(R,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return m(c.elem,a,Fa.exec(b),c),c}]},tweener:function(a,b){ma.isFunction(a)?(b=a,a=["*"]):a=a.match(ya);for(var c,d=0,e=a.length;d<e;d++)c=a[d],R.tweeners[c]=R.tweeners[c]||[],R.tweeners[c].unshift(b)},prefilters:[P],prefilter:function(a,b){b?R.prefilters.unshift(a):R.prefilters.push(a)}}),ma.speed=function(a,b,c){var d=a&&"object"==typeof a?ma.extend({},a):{complete:c||!c&&b||ma.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ma.isFunction(b)&&b};return d.duration=ma.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ma.fx.speeds?ma.fx.speeds[d.duration]:ma.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){ma.isFunction(d.old)&&d.old.call(this),d.queue&&ma.dequeue(this,d.queue)},d},ma.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ha).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ma.isEmptyObject(a),f=ma.speed(b,c,d),g=function(){var b=R(this,ma.extend({},a),f);(e||ma._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ma.timers,g=ma._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&vb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ma.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=ma._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ma.timers,g=d?d.length:0;for(c.finish=!0,ma.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ma.each(["toggle","show","hide"],function(a,b){var c=ma.fn[b];ma.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),ma.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ma.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ma.timers=[],ma.fx.tick=function(){var a,b=ma.timers,c=0;for(sb=ma.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||ma.fx.stop(),sb=void 0},ma.fx.timer=function(a){ma.timers.push(a),a()?ma.fx.start():ma.timers.pop()},ma.fx.interval=13,ma.fx.start=function(){tb||(tb=a.setInterval(ma.fx.tick,ma.fx.interval))},ma.fx.stop=function(){a.clearInterval(tb),tb=null},ma.fx.speeds={slow:600,fast:200,_default:400},ma.fn.delay=function(b,c){return b=ma.fx?ma.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=da.createElement("input"),c=da.createElement("div"),d=da.createElement("select"),e=d.appendChild(da.createElement("option"));c=da.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",la.getSetAttribute="t"!==c.className,la.style=/top/.test(a.getAttribute("style")),la.hrefNormalized="/a"===a.getAttribute("href"),la.checkOn=!!b.value,la.optSelected=e.selected,la.enctype=!!da.createElement("form").enctype,d.disabled=!0,la.optDisabled=!e.disabled,b=da.createElement("input"),b.setAttribute("value",""),la.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),la.radioValue="t"===b.value}();ma.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ma.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ma(this).val()):a,null==e?e="":"number"==typeof e?e+="":ma.isArray(e)&&(e=ma.map(e,function(a){return null==a?"":a+""})),(b=ma.valHooks[this.type]||ma.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=ma.valHooks[e.type]||ma.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(/\r/g,""):null==c?"":c)}}}),ma.extend({valHooks:{option:{get:function(a){var b=ma.find.attr(a,"value");return null!=b?b:ma.trim(ma.text(a)).replace(/[\x20\t\r\n\f]+/g," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(la.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ma.nodeName(c.parentNode,"optgroup"))){if(b=ma(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ma.makeArray(b),g=e.length;g--;)if(d=e[g],ma.inArray(ma.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ma.each(["radio","checkbox"],function(){ma.valHooks[this]={set:function(a,b){if(ma.isArray(b))return a.checked=ma.inArray(ma(a).val(),b)>-1}},la.checkOn||(ma.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb,xb,yb=ma.expr.attrHandle,zb=/^(?:checked|selected)$/i,Ab=la.getSetAttribute,Bb=la.input;ma.fn.extend({attr:function(a,b){return Ia(this,ma.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ma.removeAttr(this,a)})}}),ma.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?ma.prop(a,b,c):(1===f&&ma.isXMLDoc(a)||(b=b.toLowerCase(),e=ma.attrHooks[b]||(ma.expr.match.bool.test(b)?xb:wb)),void 0!==c?null===c?void ma.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ma.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!la.radioValue&&"radio"===b&&ma.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ya);if(f&&1===a.nodeType)for(;c=f[e++];)d=ma.propFix[c]||c,ma.expr.match.bool.test(c)?Bb&&Ab||!zb.test(c)?a[d]=!1:a[ma.camelCase("default-"+c)]=a[d]=!1:ma.attr(a,c,""),a.removeAttribute(Ab?c:d)}}),xb={set:function(a,b,c){return!1===b?ma.removeAttr(a,c):Bb&&Ab||!zb.test(c)?a.setAttribute(!Ab&&ma.propFix[c]||c,c):a[ma.camelCase("default-"+c)]=a[c]=!0,c}},ma.each(ma.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yb[b]||ma.find.attr;Bb&&Ab||!zb.test(b)?yb[b]=function(a,b,d){var e,f;return d||(f=yb[b],yb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,yb[b]=f),e}:yb[b]=function(a,b,c){if(!c)return a[ma.camelCase("default-"+b)]?b.toLowerCase():null}}),Bb&&Ab||(ma.attrHooks.value={set:function(a,b,c){if(!ma.nodeName(a,"input"))return wb&&wb.set(a,b,c);a.defaultValue=b}}),Ab||(wb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},yb.id=yb.name=yb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ma.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:wb.set},ma.attrHooks.contenteditable={set:function(a,b,c){wb.set(a,""!==b&&b,c)}},ma.each(["width","height"],function(a,b){ma.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),la.style||(ma.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i;ma.fn.extend({prop:function(a,b){return Ia(this,ma.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ma.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),ma.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ma.isXMLDoc(a)||(b=ma.propFix[b]||b,e=ma.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ma.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),la.hrefNormalized||ma.each(["href","src"],function(a,b){ma.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),la.optSelected||(ma.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ma.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ma.propFix[this.toLowerCase()]=this}),la.enctype||(ma.propFix.enctype="encoding");ma.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ma.isFunction(a))return this.each(function(b){ma(this).addClass(a.call(this,b,S(this)))});if("string"==typeof a&&a)for(b=a.match(ya)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(/[\t\r\n\f]/g," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=ma.trim(d),e!==h&&ma.attr(c,"class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ma.isFunction(a))return this.each(function(b){ma(this).removeClass(a.call(this,b,S(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(ya)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(/[\t\r\n\f]/g," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=ma.trim(d),e!==h&&ma.attr(c,"class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ma.isFunction(a)?this.each(function(c){ma(this).toggleClass(a.call(this,c,S(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=ma(this),f=a.match(ya)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=S(this),b&&ma._data(this,"__className__",b),ma.attr(this,"class",b||!1===a?"":ma._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+S(c)+" ").replace(/[\t\r\n\f]/g," ").indexOf(b)>-1)return!0;return!1}}),ma.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ma.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ma.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Eb=a.location,Fb=ma.now(),Gb=/\?/;ma.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ma.trim(b+"");return e&&!ma.trim(e.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ma.error("Invalid JSON: "+b)},ma.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ma.error("Invalid XML: "+b),c};var Hb=/([?&])_=[^&]*/,Ib=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kb=/^(?:GET|HEAD)$/,Lb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Mb={},Nb={},Ob="*/".concat("*"),Pb=Eb.href,Qb=Lb.exec(Pb.toLowerCase())||[];ma.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pb,type:"GET",isLocal:Jb.test(Qb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ob,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ma.parseJSON,"text xml":ma.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?V(V(a,ma.ajaxSettings),b):V(ma.ajaxSettings,a)},ajaxPrefilter:T(Mb),ajaxTransport:T(Nb),ajax:function(b,c){function d(b,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),k=void 0,h=e||"",w.readyState=b>0?4:0,f=b>=200&&b<300||304===b,d&&(t=W(m,w,d)),t=X(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ma.lastModified[g]=v),(v=w.getResponseHeader("etag"))&&(ma.etag[g]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--ma.active||ma.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=ma.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ma(n):ma.event,p=ma.Deferred(),q=ma.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Ib.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||Pb)+"").replace(/#.*$/,"").replace(/^\/\//,Qb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ma.trim(m.dataType||"*").toLowerCase().match(ya)||[""],null==m.crossDomain&&(e=Lb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Qb[1]&&e[2]===Qb[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Qb[3]||("http:"===Qb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ma.param(m.data,m.traditional)),U(Mb,m,c,w),2===u)return w;j=ma.event&&m.global,j&&0==ma.active++&&ma.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Kb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Gb.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Hb.test(g)?g.replace(Hb,"$1_="+Fb++):g+(Gb.test(g)?"&":"?")+"_="+Fb++)),m.ifModified&&(ma.lastModified[g]&&w.setRequestHeader("If-Modified-Since",ma.lastModified[g]),ma.etag[g]&&w.setRequestHeader("If-None-Match",ma.etag[g])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ob+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(!1===m.beforeSend.call(n,w,m)||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=U(Nb,m,c,w)){if(w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return ma.get(a,b,c,"json")},getScript:function(a,b){return ma.get(a,void 0,b,"script")}}),ma.each(["get","post"],function(a,b){ma[b]=function(a,c,d,e){return ma.isFunction(c)&&(e=e||d,d=c,c=void 0),ma.ajax(ma.extend({url:a,type:b,dataType:e,data:c,success:d},ma.isPlainObject(a)&&a))}}),ma._evalUrl=function(a){return ma.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ma.fn.extend({wrapAll:function(a){if(ma.isFunction(a))return this.each(function(b){ma(this).wrapAll(a.call(this,b))});if(this[0]){var b=ma(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ma.isFunction(a)?this.each(function(b){ma(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ma(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ma.isFunction(a);return this.each(function(c){ma(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ma.nodeName(this,"body")||ma(this).replaceWith(this.childNodes)}).end()}}),ma.expr.filters.hidden=function(a){return la.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Z(a)},ma.expr.filters.visible=function(a){return!ma.expr.filters.hidden(a)};var Rb=/\[\]$/,Sb=/^(?:submit|button|image|reset|file)$/i,Tb=/^(?:input|select|textarea|keygen)/i;ma.param=function(a,b){var c,d=[],e=function(a,b){b=ma.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ma.ajaxSettings&&ma.ajaxSettings.traditional),ma.isArray(a)||a.jquery&&!ma.isPlainObject(a))ma.each(a,function(){e(this.name,this.value)});else for(c in a)$(c,a[c],b,e);return d.join("&").replace(/%20/g,"+")},ma.fn.extend({serialize:function(){return ma.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ma.prop(this,"elements");return a?ma.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ma(this).is(":disabled")&&Tb.test(this.nodeName)&&!Sb.test(a)&&(this.checked||!Ja.test(a))}).map(function(a,b){var c=ma(this).val();return null==c?null:ma.isArray(c)?ma.map(c,function(a){return{name:b.name,value:a.replace(/\r?\n/g,"\r\n")}}):{name:b.name,value:c.replace(/\r?\n/g,"\r\n")}}).get()}}),ma.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?aa():da.documentMode>8?_():/^(get|post|head|put|delete|options)$/i.test(this.type)&&_()||aa()}:_;var Ub=0,Vb={},Wb=ma.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Vb)Vb[a](void 0,!0)}),la.cors=!!Wb&&"withCredentials"in Wb,Wb=la.ajax=!!Wb,Wb&&ma.ajaxTransport(function(b){if(!b.crossDomain||la.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++Ub;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete Vb[h],c=void 0,g.onreadystatechange=ma.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(a){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=Vb[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}}),ma.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ma.globalEval(a),a}}}),ma.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ma.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=da.head||ma("head")[0]||da.documentElement;return{send:function(d,e){b=da.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Xb=[],Yb=/(=)\?(?=&|$)|\?\?/;ma.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Xb.pop()||ma.expando+"_"+Fb++
;return this[a]=!0,a}}),ma.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Yb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ma.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Yb,"$1"+e):!1!==b.jsonp&&(b.url+=(Gb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ma.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?ma(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Xb.push(e)),g&&ma.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ma.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||da;var d=sa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=r([a],b,e),e&&e.length&&ma(e).remove(),ma.merge([],d.childNodes))};var Zb=ma.fn.load;ma.fn.load=function(a,b,c){if("string"!=typeof a&&Zb)return Zb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=ma.trim(a.slice(h,a.length)),a=a.slice(0,h)),ma.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ma.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ma("<div>").append(ma.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ma.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ma.fn[b]=function(a){return this.on(b,a)}}),ma.expr.filters.animated=function(a){return ma.grep(ma.timers,function(b){return a===b.elem}).length},ma.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ma.css(a,"position"),l=ma(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ma.css(a,"top"),i=ma.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ma.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ma.isFunction(b)&&(b=b.call(a,c,ma.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ma.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ma.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,ma.contains(b,e)?(void 0!==e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=ba(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ma.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ma.nodeName(a[0],"html")||(c=a.offset()),c.top+=ma.css(a[0],"borderTopWidth",!0),c.left+=ma.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ma.css(d,"marginTop",!0),left:b.left-c.left-ma.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!ma.nodeName(a,"html")&&"static"===ma.css(a,"position");)a=a.offsetParent;return a||gb})}}),ma.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ma.fn[a]=function(d){return Ia(this,function(a,d,e){var f=ba(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?ma(f).scrollLeft():e,c?e:ma(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}}),ma.each(["top","left"],function(a,b){ma.cssHooks[b]=F(la.pixelPosition,function(a,c){if(c)return c=ib(a,b),eb.test(c)?ma(a).position()[b]+"px":c})}),ma.each({Height:"height",Width:"width"},function(a,b){ma.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ma.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return Ia(this,function(b,c,d){var e;return ma.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ma.css(b,c,g):ma.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ma.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),ma.fn.size=function(){return this.length},ma.fn.andSelf=ma.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ma});var $b=a.jQuery,_b=a.$;return ma.noConflict=function(b){return a.$===ma&&(a.$=_b),b&&a.jQuery===ma&&(a.jQuery=$b),ma},b||(a.jQuery=a.$=ma),ma}),function(a){var b,c,d,e=a(window),f={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}},g=function(){d=a("body"),e=a(window),e.bind("resize",function(){c&&clearTimeout(c),c=setTimeout(a.pnotify_position_all,10)})};document.body?g():a(g),a.extend({pnotify_remove_all:function(){var b=e.data("pnotify");b&&b.length&&a.each(b,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){c&&clearTimeout(c),c=null;var b=e.data("pnotify");b&&b.length&&(a.each(b,function(){var a=this.opts.stack;a&&(a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0)}),a.each(b,function(){this.pnotify_position()}))},pnotify:function(g){var i,j;"object"!=typeof g?(j=a.extend({},a.pnotify.defaults),j.text=g):j=a.extend({},a.pnotify.defaults,g);for(var k in j)"string"==typeof k&&k.match(/^pnotify_/)&&(j[k.replace(/^pnotify_/,"")]=j[k]);if(j.before_init&&!1===j.before_init(j))return null;var l,m=function(b,c){o.css("display","none");var d=document.elementFromPoint(b.clientX,b.clientY);o.css("display","block");var e=a(d),f=e.css("cursor");o.css("cursor","auto"!=f?f:"default"),l&&l.get(0)==d||(l&&(h.call(l.get(0),"mouseleave",b.originalEvent),h.call(l.get(0),"mouseout",b.originalEvent)),h.call(d,"mouseenter",b.originalEvent),h.call(d,"mouseover",b.originalEvent)),h.call(d,c,b.originalEvent),l=e},n=f[j.styling],o=a("<div />",{class:"ui-pnotify "+j.addclass,css:{display:"none"},mouseenter:function(a){j.nonblock&&a.stopPropagation(),j.mouse_reset&&"out"==i&&(o.stop(!0),i="in",o.css("height","auto").animate({width:j.width,opacity:j.nonblock?j.nonblock_opacity:j.opacity},"fast")),j.nonblock&&o.animate({opacity:j.nonblock_opacity},"fast"),j.hide&&j.mouse_reset&&o.pnotify_cancel_remove(),j.sticker&&!j.nonblock&&o.sticker.trigger("pnotify_icon").css("visibility","visible"),j.closer&&!j.nonblock&&o.closer.css("visibility","visible")},mouseleave:function(b){j.nonblock&&b.stopPropagation(),l=null,o.css("cursor","auto"),j.nonblock&&"out"!=i&&o.animate({opacity:j.opacity},"fast"),j.hide&&j.mouse_reset&&o.pnotify_queue_remove(),j.sticker_hover&&o.sticker.css("visibility","hidden"),j.closer_hover&&o.closer.css("visibility","hidden"),a.pnotify_position_all()},mouseover:function(a){j.nonblock&&a.stopPropagation()},mouseout:function(a){j.nonblock&&a.stopPropagation()},mousemove:function(a){j.nonblock&&(a.stopPropagation(),m(a,"onmousemove"))},mousedown:function(a){j.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmousedown"))},mouseup:function(a){j.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmouseup"))},click:function(a){j.nonblock&&(a.stopPropagation(),m(a,"onclick"))},dblclick:function(a){j.nonblock&&(a.stopPropagation(),m(a,"ondblclick"))}});o.opts=j,o.container=a("<div />",{class:n.container+" ui-pnotify-container "+("error"==j.type?n.error:"info"==j.type?n.info:"success"==j.type?n.success:n.notice)}).appendTo(o),""!=j.cornerclass&&o.container.removeClass("ui-corner-all").addClass(j.cornerclass),j.shadow&&o.container.addClass("ui-pnotify-shadow"),o.pnotify_version="1.2.0",o.pnotify=function(b){var c=j;"string"==typeof b?j.text=b:j=a.extend({},j,b);for(var d in j)"string"==typeof d&&d.match(/^pnotify_/)&&(j[d.replace(/^pnotify_/,"")]=j[d]);return o.opts=j,j.cornerclass!=c.cornerclass&&o.container.removeClass("ui-corner-all").addClass(j.cornerclass),j.shadow!=c.shadow&&(j.shadow?o.container.addClass("ui-pnotify-shadow"):o.container.removeClass("ui-pnotify-shadow")),!1===j.addclass?o.removeClass(c.addclass):j.addclass!==c.addclass&&o.removeClass(c.addclass).addClass(j.addclass),!1===j.title?o.title_container.slideUp("fast"):j.title!==c.title&&(j.title_escape?o.title_container.text(j.title).slideDown(200):o.title_container.html(j.title).slideDown(200)),!1===j.text?o.text_container.slideUp("fast"):j.text!==c.text&&(j.text_escape?o.text_container.text(j.text).slideDown(200):o.text_container.html(j.insert_brs?String(j.text).replace(/\n/g,"<br />"):j.text).slideDown(200)),o.pnotify_history=j.history,o.pnotify_hide=j.hide,j.type!=c.type&&o.container.removeClass(n.error+" "+n.notice+" "+n.success+" "+n.info).addClass("error"==j.type?n.error:"info"==j.type?n.info:"success"==j.type?n.success:n.notice),(j.icon!==c.icon||!0===j.icon&&j.type!=c.type)&&(o.container.find("div.ui-pnotify-icon").remove(),!1!==j.icon&&a("<div />",{class:"ui-pnotify-icon"}).append(a("<span />",{class:!0===j.icon?"error"==j.type?n.error_icon:"info"==j.type?n.info_icon:"success"==j.type?n.success_icon:n.notice_icon:j.icon})).prependTo(o.container)),j.width!==c.width&&o.animate({width:j.width}),j.min_height!==c.min_height&&o.container.animate({minHeight:j.min_height}),j.opacity!==c.opacity&&o.fadeTo(j.animate_speed,j.opacity),!j.closer||j.nonblock?o.closer.css("display","none"):o.closer.css("display","block"),!j.sticker||j.nonblock?o.sticker.css("display","none"):o.sticker.css("display","block"),o.sticker.trigger("pnotify_icon"),j.sticker_hover?o.sticker.css("visibility","hidden"):j.nonblock||o.sticker.css("visibility","visible"),j.closer_hover?o.closer.css("visibility","hidden"):j.nonblock||o.closer.css("visibility","visible"),j.hide?c.hide||o.pnotify_queue_remove():o.pnotify_cancel_remove(),o.pnotify_queue_position(),o},o.pnotify_position=function(a){var b=o.opts.stack;if(b){b.nextpos1||(b.nextpos1=b.firstpos1),b.nextpos2||(b.nextpos2=b.firstpos2),b.addpos2||(b.addpos2=0);var c="none"==o.css("display");if(!c||a){var d,f,g,h={};switch(b.dir1){case"down":g="top";break;case"up":g="bottom";break;case"left":g="right";break;case"right":g="left"}d=parseInt(o.css(g)),isNaN(d)&&(d=0),void 0!==b.firstpos1||c||(b.firstpos1=d,b.nextpos1=b.firstpos1);var i;switch(b.dir2){case"down":i="top";break;case"up":i="bottom";break;case"left":i="right";break;case"right":i="left"}if(f=parseInt(o.css(i)),isNaN(f)&&(f=0),void 0!==b.firstpos2||c||(b.firstpos2=f,b.nextpos2=b.firstpos2),("down"==b.dir1&&b.nextpos1+o.height()>e.height()||"up"==b.dir1&&b.nextpos1+o.height()>e.height()||"left"==b.dir1&&b.nextpos1+o.width()>e.width()||"right"==b.dir1&&b.nextpos1+o.width()>e.width())&&(b.nextpos1=b.firstpos1,b.nextpos2+=b.addpos2+(void 0===b.spacing2?25:b.spacing2),b.addpos2=0),b.animation&&b.nextpos2<f)switch(b.dir2){case"down":h.top=b.nextpos2+"px";break;case"up":h.bottom=b.nextpos2+"px";break;case"left":h.right=b.nextpos2+"px";break;case"right":h.left=b.nextpos2+"px"}else o.css(i,b.nextpos2+"px");switch(b.dir2){case"down":case"up":o.outerHeight(!0)>b.addpos2&&(b.addpos2=o.height());break;case"left":case"right":o.outerWidth(!0)>b.addpos2&&(b.addpos2=o.width())}if(b.nextpos1)if(b.animation&&(d>b.nextpos1||h.top||h.bottom||h.right||h.left))switch(b.dir1){case"down":h.top=b.nextpos1+"px";break;case"up":h.bottom=b.nextpos1+"px";break;case"left":h.right=b.nextpos1+"px";break;case"right":h.left=b.nextpos1+"px"}else o.css(g,b.nextpos1+"px");switch((h.top||h.bottom||h.right||h.left)&&o.animate(h,{duration:500,queue:!1}),b.dir1){case"down":case"up":b.nextpos1+=o.height()+(void 0===b.spacing1?25:b.spacing1);break;case"left":case"right":b.nextpos1+=o.width()+(void 0===b.spacing1?25:b.spacing1)}}}},o.pnotify_queue_position=function(b){c&&clearTimeout(c),b||(b=10),c=setTimeout(a.pnotify_position_all,b)},o.pnotify_display=function(){o.parent().length||o.appendTo(d),j.before_open&&!1===j.before_open(o)||("top"!=j.stack.push&&o.pnotify_position(!0),"fade"==j.animation||"fade"==j.animation.effect_in?o.show().fadeTo(0,0).hide():1!=j.opacity&&o.show().fadeTo(0,j.opacity).hide(),o.animate_in(function(){j.after_open&&j.after_open(o),o.pnotify_queue_position(),j.hide&&o.pnotify_queue_remove()}))},o.pnotify_remove=function(){o.timer&&(window.clearTimeout(o.timer),o.timer=null),j.before_close&&!1===j.before_close(o)||o.animate_out(function(){j.after_close&&!1===j.after_close(o)||(o.pnotify_queue_position(),j.remove&&o.detach())})},o.animate_in=function(a){i="in";var b;b=void 0!==j.animation.effect_in?j.animation.effect_in:j.animation,"none"==b?(o.show(),a()):"show"==b?o.show(j.animate_speed,a):"fade"==b?o.show().fadeTo(j.animate_speed,j.opacity,a):"slide"==b?o.slideDown(j.animate_speed,a):"function"==typeof b?b("in",a,o):o.show(b,"object"==typeof j.animation.options_in?j.animation.options_in:{},j.animate_speed,a)},o.animate_out=function(a){i="out";var b;b=void 0!==j.animation.effect_out?j.animation.effect_out:j.animation,"none"==b?(o.hide(),a()):"show"==b?o.hide(j.animate_speed,a):"fade"==b?o.fadeOut(j.animate_speed,a):"slide"==b?o.slideUp(j.animate_speed,a):"function"==typeof b?b("out",a,o):o.hide(b,"object"==typeof j.animation.options_out?j.animation.options_out:{},j.animate_speed,a)},o.pnotify_cancel_remove=function(){o.timer&&window.clearTimeout(o.timer)},o.pnotify_queue_remove=function(){o.pnotify_cancel_remove(),o.timer=window.setTimeout(function(){o.pnotify_remove()},isNaN(j.delay)?0:j.delay)},o.closer=a("<div />",{class:"ui-pnotify-closer",css:{cursor:"pointer",visibility:j.closer_hover?"hidden":"visible"},click:function(){o.pnotify_remove(),o.sticker.css("visibility","hidden"),o.closer.css("visibility","hidden")}}).append(a("<span />",{class:n.closer})).appendTo(o.container),j.closer&&!j.nonblock||o.closer.css("display","none"),o.sticker=a("<div />",{class:"ui-pnotify-sticker",css:{cursor:"pointer",visibility:j.sticker_hover?"hidden":"visible"},click:function(){j.hide=!j.hide,j.hide?o.pnotify_queue_remove():o.pnotify_cancel_remove(),a(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){a(this).children().removeClass(n.pin_up+" "+n.pin_down).addClass(j.hide?n.pin_up:n.pin_down)}).append(a("<span />",{class:n.pin_up})).appendTo(o.container),j.sticker&&!j.nonblock||o.sticker.css("display","none"),!1!==j.icon&&a("<div />",{class:"ui-pnotify-icon"}).append(a("<span />",{class:!0===j.icon?"error"==j.type?n.error_icon:"info"==j.type?n.info_icon:"success"==j.type?n.success_icon:n.notice_icon:j.icon})).prependTo(o.container),o.title_container=a("<h4 />",{class:"ui-pnotify-title"}).appendTo(o.container),!1===j.title?o.title_container.hide():j.title_escape?o.title_container.text(j.title):o.title_container.html(j.title),o.text_container=a("<div />",{class:"ui-pnotify-text"}).appendTo(o.container),!1===j.text?o.text_container.hide():j.text_escape?o.text_container.text(j.text):o.text_container.html(j.insert_brs?String(j.text).replace(/\n/g,"<br />"):j.text),"string"==typeof j.width&&o.css("width",j.width),"string"==typeof j.min_height&&o.container.css("min-height",j.min_height),o.pnotify_history=j.history,o.pnotify_hide=j.hide;var p=e.data("pnotify");if(null!=p&&"object"==typeof p||(p=[]),p="top"==j.stack.push?a.merge([o],p):a.merge(p,[o]),e.data("pnotify",p),"top"==j.stack.push&&o.pnotify_queue_position(1),j.after_init&&j.after_init(o),j.history){var q=e.data("pnotify_history");if(void 0===q){q=a("<div />",{class:"ui-pnotify-history-container "+n.hi_menu,mouseleave:function(){q.animate({top:"-"+b+"px"},{duration:100,queue:!1})}}).append(a("<div />",{class:"ui-pnotify-history-header",text:"Redisplay"})).append(a("<button />",{class:"ui-pnotify-history-all "+n.hi_btn,text:"All",mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){return a.each(p,function(){this.pnotify_history&&(this.is(":visible")?this.pnotify_hide&&this.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())}),!1}})).append(a("<button />",{class:"ui-pnotify-history-last "+n.hi_btn,text:"Last",mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){var a,b=-1;do{if(a=-1==b?p.slice(b):p.slice(b,b+1),!a[0])break;b--}while(!a[0].pnotify_history||a[0].is(":visible"));return!!a[0]&&(a[0].pnotify_display&&a[0].pnotify_display(),!1)}})).appendTo(d);var r=a("<span />",{class:"ui-pnotify-history-pulldown "+n.hi_hnd,mouseenter:function(){q.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(q);b=r.offset().top+2,q.css({top:"-"+b+"px"}),e.data("pnotify_history",q)}}return j.stack.animation=!1,o.pnotify_display(),o}});var h=function(b,c){var d;if(b=b.toLowerCase(),document.createEvent&&this.dispatchEvent){if(b=b.replace(/^on/,""),b.match(/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/)?(a(this).offset(),d=document.createEvent("MouseEvents"),d.initMouseEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)):b.match(/^(focus|blur|select|change|reset)$|^key(press|down|up)$/)?(d=document.createEvent("UIEvents"),d.initUIEvent(b,c.bubbles,c.cancelable,c.view,c.detail)):b.match(/^(scroll|resize|(un)?load|abort|error)$/)&&(d=document.createEvent("HTMLEvents"),d.initEvent(b,c.bubbles,c.cancelable)),!d)return;this.dispatchEvent(d)}else b.match(/^on/)||(b="on"+b),d=document.createEventObject(c),this.fireEvent(b,d)};a.pnotify.defaults={title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:!1,nonblock_opacity:.2,history:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"slow",opacity:1,shadow:!0,closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25}}}(jQuery),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=[].slice,z=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};a=window.jQuery||window.Zepto||window.$,a.payment={},a.payment.fn={},a.fn.payment=function(){var b,c;return c=arguments[0],b=2<=arguments.length?y.call(arguments,1):[],a.payment.fn[c].apply(this,b)},e=/(\d{1,4})/g,a.payment.cards=d=[{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:e,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:e,length:[16],cvcLength:[3],luhn:!0}],b=function(a){var b,c,e,f,g,h,i,j;for(a=(a+"").replace(/\D/g,""),f=0,h=d.length;f<h;f++)for(b=d[f],j=b.patterns,g=0,i=j.length;g<i;g++)if(e=j[g],c=e+"",a.substr(0,c.length)===c)return b},c=function(a){var b,c,e;for(c=0,e=d.length;c<e;c++)if(b=d[c],b.type===a)return b},m=function(a){var b,c,d,e,f,g;for(d=!0,e=0,c=(a+"").split("").reverse(),f=0,g=c.length;f<g;f++)b=c[f],b=parseInt(b,10),(d=!d)&&(b*=2),b>9&&(b-=9),e+=b;return e%10==0},l=function(a){var b;return null!=a.prop("selectionStart")&&a.prop("selectionStart")!==a.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(b=document.selection)?b.createRange:void 0)||!document.selection.createRange().text)},w=function(a,b){var c,d,e,f,g;try{d=b.prop("selectionStart")}catch(a){a,d=null}if(f=b.val(),b.val(a),null!==d&&b.is(":focus"))return d===f.length&&(d=a.length),f!==a&&(g=f.slice(d-1,+d+1||9e9),c=a.slice(d-1,+d+1||9e9),e=a[d],/\d/.test(e)&&g===e+" "&&c===" "+e&&(d+=1)),b.prop("selectionStart",d),b.prop("selectionEnd",d)},r=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a=""),d="",e="0123456789",g="",b=a.split(""),h=0,i=b.length;h<i;h++)c=b[h],f=d.indexOf(c),f>-1&&(c=e[f]),g+=c;return g},q=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var a;return a=c.val(),a=r(a),a=a.replace(/\D/g,""),w(a,c)})},o=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var b;return b=c.val(),b=r(b),b=a.payment.formatCardNumber(b),w(b,c)})},h=function(c){var d,e,f,g,h,i,j;if(f=String.fromCharCode(c.which),/^\d+$/.test(f)&&(d=a(c.currentTarget),j=d.val(),e=b(j+f),g=(j.replace(/\D/g,"")+f).length,i=16,e&&(i=e.length[e.length.length-1]),!(g>=i||null!=d.prop("selectionStart")&&d.prop("selectionStart")!==j.length)))return h=e&&"amex"===e.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,h.test(j)?(c.preventDefault(),setTimeout(function(){return d.val(j+" "+f)})):h.test(j+f)?(c.preventDefault(),setTimeout(function(){return d.val(j+f+" ")})):void 0},f=function(b){var c,d;if(c=a(b.currentTarget),d=c.val(),8===b.which&&(null==c.prop("selectionStart")||c.prop("selectionStart")===d.length))return/\d\s$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d\s$/,""))})):/\s\d?$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d$/,""))})):void 0},p=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var b;return b=c.val(),b=r(b),b=a.payment.formatExpiry(b),w(b,c)})},i=function(b){var c,d,e;if(d=String.fromCharCode(b.which),/^\d+$/.test(d))return c=a(b.currentTarget),e=c.val()+d,/^\d$/.test(e)&&"0"!==e&&"1"!==e?(b.preventDefault(),setTimeout(function(){return c.val("0"+e+" / ")})):/^\d\d$/.test(e)?(b.preventDefault(),setTimeout(function(){var a,b;return a=parseInt(e[0],10),b=parseInt(e[1],10),b>2&&0!==a?c.val("0"+a+" / "+b):c.val(e+" / ")})):void 0},j=function(b){var c,d,e;if(d=String.fromCharCode(b.which),/^\d+$/.test(d))return c=a(b.currentTarget),e=c.val(),/^\d\d$/.test(e)?c.val(e+" / "):void 0},k=function(b){var c,d,e;if("/"===(e=String.fromCharCode(b.which))||" "===e)return c=a(b.currentTarget),d=c.val(),/^\d$/.test(d)&&"0"!==d?c.val("0"+d+" / "):void 0},g=function(b){var c,d;if(c=a(b.currentTarget),d=c.val(),8===b.which&&(null==c.prop("selectionStart")||c.prop("selectionStart")===d.length))return/\d\s\/\s$/.test(d)?(b.preventDefault(),setTimeout(function(){return c.val(d.replace(/\d\s\/\s$/,""))})):void 0},n=function(b){var c;return c=a(b.currentTarget),setTimeout(function(){var a;return a=c.val(),a=r(a),a=a.replace(/\D/g,"").slice(0,4),w(a,c)})},v=function(a){var b;return!(!a.metaKey&&!a.ctrlKey)||32!==a.which&&(0===a.which||(a.which<33||(b=String.fromCharCode(a.which),!!/[\d\s]/.test(b))))},t=function(c){var d,e,f,g;if(d=a(c.currentTarget),f=String.fromCharCode(c.which),/^\d+$/.test(f)&&!l(d))return g=(d.val()+f).replace(/\D/g,""),e=b(g),e?g.length<=e.length[e.length.length-1]:g.length<=16},u=function(b){var c,d,e;if(c=a(b.currentTarget),d=String.fromCharCode(b.which),/^\d+$/.test(d)&&!l(c))return e=c.val()+d,e=e.replace(/\D/g,""),!(e.length>6)&&void 0},s=function(b){var c,d,e;if(c=a(b.currentTarget),d=String.fromCharCode(b.which),/^\d+$/.test(d)&&!l(c))return e=c.val()+d,e.length<=4},x=function(b){var c,e,f,g,h;if(c=a(b.currentTarget),h=c.val(),g=a.payment.cardType(h)||"unknown",!c.hasClass(g))return e=function(){var a,b,c;for(c=[],a=0,b=d.length;a<b;a++)f=d[a],c.push(f.type);return c}(),c.removeClass("unknown"),c.removeClass(e.join(" ")),c.addClass(g),c.toggleClass("identified","unknown"!==g),c.trigger("payment.cardType",g)},a.payment.fn.formatCardCVC=function(){return this.on("keypress",v),this.on("keypress",s),this.on("paste",n),this.on("change",n),this.on("input",n),this},a.payment.fn.formatCardExpiry=function(){return this.on("keypress",v),this.on("keypress",u),this.on("keypress",i),this.on("keypress",k),this.on("keypress",j),this.on("keydown",g),this.on("change",p),this.on("input",p),this},a.payment.fn.formatCardNumber=function(){return this.on("keypress",v),this.on("keypress",t),this.on("keypress",h),this.on("keydown",f),this.on("keyup",x),this.on("paste",o),this.on("change",o),this.on("input",o),this.on("input",x),this},a.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this.on("paste",q),this.on("change",q),this.on("input",q),this},a.payment.fn.cardExpiryVal=function(){return a.payment.cardExpiryVal(a(this).val())},a.payment.cardExpiryVal=function(a){var b,c,d,e;return e=a.split(/[\s\/]+/,2),b=e[0],d=e[1],2===(null!=d?d.length:void 0)&&/^\d+$/.test(d)&&(c=(new Date).getFullYear(),c=c.toString().slice(0,2),d=c+d),b=parseInt(b,10),d=parseInt(d,10),{month:b,year:d}},a.payment.validateCardNumber=function(a){var c,d;return a=(a+"").replace(/\s+|-/g,""),!!/^\d+$/.test(a)&&(!!(c=b(a))&&(d=a.length,z.call(c.length,d)>=0&&(!1===c.luhn||m(a))))},a.payment.validateCardExpiry=function(b,c){var d,e,f;return"object"==typeof b&&"month"in b&&(f=b,b=f.month,c=f.year),!(!b||!c)&&(b=a.trim(b),c=a.trim(c),!!/^\d+$/.test(b)&&(!!/^\d+$/.test(c)&&(1<=b&&b<=12&&(2===c.length&&(c=c<70?"20"+c:"19"+c),4===c.length&&(e=new Date(c,b),d=new Date,e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()+1,1),e>d)))))},a.payment.validateCardCVC=function(b,d){var e,f;return b=a.trim(b),!!/^\d+$/.test(b)&&(e=c(d),null!=e?(f=b.length,z.call(e.cvcLength,f)>=0):b.length>=3&&b.length<=4)},a.payment.cardType=function(a){var c;return a?(null!=(c=b(a))?c.type:void 0)||null:null},a.payment.formatCardNumber=function(c){var d,e,f,g;return c=c.replace(/\D/g,""),(d=b(c))?(f=d.length[d.length.length-1],c=c.slice(0,f),d.format.global?null!=(g=c.match(d.format))?g.join(" "):void 0:null!=(e=d.format.exec(c))?(e.shift(),e=a.grep(e,function(a){return a}),e.join(" ")):void 0):c},a.payment.formatExpiry=function(a){var b,c,d,e;return(c=a.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(b=c[1]||"",d=c[2]||"",e=c[3]||"",e.length>0?d=" / ":" /"===d?(b=b.substring(0,1),d=""):2===b.length||d.length>0?d=" / ":1===b.length&&"0"!==b&&"1"!==b&&(b="0"+b,d=" / "),b+d+e):""}}.call(this),function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(a){if(null===a)return"null";var b,c,d,e,f=$.type(a);if("undefined"!==f){if("number"===f||"boolean"===f)return String(a);if("string"===f)return $.quoteString(a);if("function"==typeof a.toJSON)return $.toJSON(a.toJSON());if("date"===f){var g=a.getUTCMonth()+1,h=a.getUTCDate(),i=a.getUTCFullYear(),j=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),m=a.getUTCMilliseconds();return g<10&&(g="0"+g),h<10&&(h="0"+h),j<10&&(j="0"+j),k<10&&(k="0"+k),l<10&&(l="0"+l),m<100&&(m="0"+m),m<10&&(m="0"+m),'"'+i+"-"+g+"-"+h+"T"+j+":"+k+":"+l+"."+m+'Z"'}if(b=[],$.isArray(a)){for(c=0;c<a.length;c++)b.push($.toJSON(a[c])||"null");return"["+b.join(",")+"]"}if("object"==typeof a){for(c in a)if(hasOwn.call(a,c)){if("number"===(f=typeof c))d='"'+c+'"';else{if("string"!==f)continue;d=$.quoteString(c)}f=typeof a[c],"function"!==f&&"undefined"!==f&&(e=$.toJSON(a[c]),b.push(d+":"+e))}return"{"+b.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(a){return a.match(escape)?'"'+a.replace(escape,function(a){var b=meta[a];return"string"==typeof b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(a){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c||(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){(b=c.element(this)&&b)||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&null!=j.form){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":
a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]);var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))))&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h)}),c=!1!==this.check(f),h=h&&c,this.invalid[f.name]=!c,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&void 0!==b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"))>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);if("function"==typeof f.normalizer){if("string"!=typeof(i=f.normalizer.call(b,i)))throw new TypeError("The normalizer should return a string value.");delete f.normalizer}for(d in f){e={method:d,parameters:f[d]};try{if("dependency-mismatch"===(c=a.validator.methods[d].call(this,i,b,e.parameters))&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",a),a instanceof TypeError&&(a.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),a}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),(e=this.groups[b.name])&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{boolean:function(a){return a},string:function(b,c){return!!a(b,c.form).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(!1===e)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!=0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=!0===a||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a}),function(a){"use strict";function b(a,b){return Math.round(a/b)*b}function c(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){if(!b)return!0;c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function u(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function x(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(!0===b&&2===a.handles)a.connect=3;else{if(!1!==b)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function z(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(a,b){if(!c(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function B(a,b){if(!c(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function C(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(d<0&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a("<div><div/></div>").addClass(U[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(U[3]+" "+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;d<a;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return B[["width","height"][c.ort]]()}function j(a){var b,c=[D.val()];for(b=0;b<a.length;b+=1)D.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){D.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,M);D[0].linkAPI&&D[0].linkAPI[b]&&D[0].linkAPI[b].change(I[c],C[c].children(),D)}function n(b,d){var e=a.inArray(b,M);return d&&d.appendTo(C[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<M.length;a+=1)this.linkAPI&&this.linkAPI[b=M[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,S+" ")+S,b.on(a,function(a){return!D.attr("disabled")&&(!D.hasClass(U[14])&&(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e)))})}function q(a,b){var c,d=b.handles||C,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==C[0][0]?1:0;c=G(f,b.positions,d.length>1),e=u(d[0],c[g],1===d.length),d.length>1&&(e=u(d[1],c[g?0:1],!1)||e),e&&j(["slide"])}function r(b){a("."+U[15]).removeClass(U[15]),b.cursor&&a("body").css("cursor","").off(S),Q.off(S),D.removeClass(U[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[E[0],E[C.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),C.length>1&&D.addClass(U[12]),a("body").on("selectstart"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(C,function(){g+=this.offset()[c.style]}),g=f<g/2||1===C.length?0:1,f-=B.offset()[c.style],d=100*f/i(),c.events.snap||e(D,U[14],300),u(C[g],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[C[g]]})}function u(a,b,d){var e=a[0]!==C[0][0]?1:0,g=E[0]+c.margin,h=E[1]-c.margin,i=E[0]+c.limit,j=E[1]-c.limit;return C.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),!1!==d&&c.limit&&C.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=F.getStep(b),(b=f(parseFloat(b.toFixed(7))))!==E[e]&&(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(U[17],b>50),E[e]=b,I[e]=F.fromStepping(b),m(M[e]),!0)}function v(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;d<a;d+=1)e=d%2,null!==(f=b[e])&&!1!==f&&("number"==typeof f&&(f=String(f)),(!1===(f=c.format.from(f))||isNaN(f)||!1===u(C[e],F.toStepping(f),d===3-c.dir))&&m(M[e]))}function w(a){if(D[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==E[0]&&e(D,U[14],300),b=C.length>1?3:1,1===d.length&&(b=1),v(b,d),j(["set"]),this}function x(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(I[a]);return k(b)}function y(){return a(this).off(S).removeClass(U.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function z(){return k(a.map(E,function(a,b){var c=F.getApplicableStep(a),d=h(String(c[2])),e=I[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d));return[[0===a?null:g>=c[1]?c[2]:c[0]||!1,f]]}))}function A(){return d}var B,C,D=a(b),E=[-1,-1],F=c.spectrum,I=[],M=["lower","upper"].slice(0,c.handles);if(c.dir&&M.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,D.hasClass(U[0]))throw new Error("Slider was already initialized.");B=L(c.dir,c.ort,D),C=K(c.handles,c.dir,B),J(c.connect,D,C),function(a){var b,c;if(!a.fixed)for(b=0;b<C.length;b+=1)p(T.start,C[b].children(),s,{handles:[C[b]]});a.tap&&p(T.start,B,t,{handles:C}),a.drag&&(c=B.find("."+U[7]).addClass(U[10]),a.fixed&&(c=c.add(B.children().not(c).children())),p(T.start,c,s,{handles:C}))}(c.events),b.vSet=w,b.vGet=x,b.destroy=y,b.getCurrentStep=z,b.getOriginalOptions=A,b.getInfo=function(){return[F,c.style,c.ort]},D.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=".nui",T=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];s.prototype.getMargin=function(a){return 2===this.xPct.length&&j(this.xVal,a)},s.prototype.toStepping=function(a){
return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(this);if(d.value===f.attr(h?"placeholder-x":"placeholder")&&f.hasClass(n.customClass))if(d.value="",f.removeClass(n.customClass),f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),!0===b)return f[0].value=c,c;f.focus()}else d==e()&&d.select()}function d(d){var e,f=this,g=a(this),i=f.id;if(!d||"blur"!==d.type||!g.hasClass(n.customClass))if(""===f.value){if("password"===f.type){if(!g.data("placeholder-textinput")){try{e=g.clone().prop({type:"text"})}catch(c){e=a("<input>").attr(a.extend(b(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":g,"placeholder-id":i}).bind("focus.placeholder",c),g.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}f.value="",g=g.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g.data("placeholder-id")).show()}else{var j=g.data("placeholder-password");j&&(j[0].value="",g.attr("id",g.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}g.addClass(n.customClass),g[0].value=g.attr(h?"placeholder-x":"placeholder")}else g.removeClass(n.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h=!1,i="[object OperaMini]"===Object.prototype.toString.call(window.operamini),j="placeholder"in document.createElement("input")&&!i&&!h,k="placeholder"in document.createElement("textarea")&&!i&&!h,l=a.valHooks,m=a.propHooks,n={};j&&k?(g=a.fn.placeholder=function(){return this},g.input=!0,g.textarea=!0):(g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};return n=a.extend({},e,b),this.filter((j?"textarea":":input")+"["+(h?"placeholder-x":"placeholder")+"]").not("."+n.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder")},g.input=j,g.textarea=k,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(n.customClass)?"":b.value},set:function(b,f){var g,h,i=a(b);return""!==f&&(g=i.data("placeholder-textinput"),h=i.data("placeholder-password"),g?(c.call(g[0],!0,f)||(b.value=f),g[0].value=f):h&&(c.call(b,!0,f)||(h[0].value=f),b.value=f)),i.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):(i.hasClass(n.customClass)&&c.call(b),b.value=f),i):(b.value=f,i)}},j||(l.input=f,m.value=f),k||(l.textarea=f,m.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+n.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){var b=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(b=!1)}catch(a){}b&&a("."+n.customClass).each(function(){this.value=""})}))}),function(a,b){"object"==typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=i.substring(0,i.indexOf("Animation")).toLowerCase(),k=h&&"-"+h+"-"||"";return l[e]||(j.insertRule("@"+k+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",j.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;if(b=b.charAt(0).toUpperCase()+b.slice(1),void 0!==e[b])return b;for(d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,m)}var i,j,k=["webkit","Moz","ms","O"],l={},m={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=a(null,{className:d.className});if(e(f,{position:d.position,width:0,zIndex:d.zIndex,left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!i){var g,h=0,j=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function a(){h++;for(var b=0;b<d.lines;b++)g=Math.max(1-(h+(d.lines-b)*n)%l*m,d.opacity),c.opacity(f,b*d.direction+j,g,d);c.timeout=c.el&&setTimeout(a,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.scale*(f.length+f.width)+"px",height:f.scale*f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.scale*f.radius+"px,0)",borderRadius:(f.corners*f.scale*f.width>>1)+"px"})}for(var j,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)j=e(a(),{position:"absolute",top:1+~(f.scale*f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:i&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(j,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(j,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),"undefined"!=typeof document){j=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}();var n=e(a("group"),{behavior:"url(#default#VML)"});!d(n,"transform")&&n.adj?function(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}j.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.scale*d.width,left:d.scale*d.radius,top:-d.scale*d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.scale*(d.length+d.width),k=2*d.scale*j,l=-(d.width+d.length)*d.scale*2+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,(e=e&&e.firstChild)&&(e.opacity=c))}}():i=d(n,"animation")}return h}),function(a){void 0===a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&!1!==b.call(c[0],d,c););return this}})}(jQuery),function(a,b){"use strict";function c(a){var b,c,d,e;if(!a||a.length<1)return a;for(b="",c=0,d=a.length;c<d;c++)e=a.charAt(c),b+=N[e]||e;return b}function d(a,b){for(var c=0,d=b.length;c<d;c+=1)if(f(a,b[c]))return c;return-1}function e(){var b=a(M);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function f(a,c){return a===c||a!==b&&c!==b&&(null!==a&&null!==c&&(a.constructor===String?a+""==c+"":c.constructor===String&&c+""==a+""))}function g(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;e<f;e+=1)d[e]=a.trim(d[e]);return d}function h(a){return a.outerWidth(!1)-a.width()}function i(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function j(c){c.on("mousemove",function(c){var d=L;d!==b&&d.x===c.pageX&&d.y===c.pageY||a(c.target).trigger("mousemove-filtered",c)})}function k(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function l(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}}function m(a,b){var c=k(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){d(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus(),a.is(":visible")&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!I){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);I=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),a("body").append(I)}return I.text(b.val()),I.width()}function s(b,c,d){var e,f,g=[];e=b.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=c.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(f=d(this))&&g.push(this)})),b.attr("class",g.join(" "))}function t(a,b,d,e){var f=c(a.toUpperCase()).indexOf(c(b.toUpperCase())),g=b.length;if(f<0)return void d.push(e(a));d.push(e(a.substring(0,f))),d.push("<span class='select2-match'>"),d.push(e(a.substring(f,f+g))),d.push("</span>"),d.push(e(a.substring(f+g,a.length)))}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page);i.callback(b)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={results:d}),!1===a.isFunction(e)&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={results:[]};if(""===d)return void b.callback(e());c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),b.callback(g)}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g)}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;throw new Error(c+" must be a function or a falsy value")}function z(b){return a.isFunction(b)?b():b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var g,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;i<j&&(k=e.tokenSeparators[i],!((h=a.indexOf(k))>=0));i++);if(h<0)break;if(g=a.substring(0,h),a=a.substring(h+k.length),g.length>0&&(g=e.createSearchChoice.call(this,g,c))!==b&&null!==g&&e.id(g)!==b&&null!==e.id(g)){for(m=!1,i=0,j=c.length;i<j;i++)if(f(e.id(g),e.id(c[i]))){m=!0;break}m||d(g)}}return l!==a?a:void 0}function C(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var D,E,F,G,H,I,J,K,L={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return!!a.metaKey},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&a<=123}},M="<div class='select2-measure-scrollbar'></div>",N={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};J=a(document),H=function(){var a=1;return function(){return a++}}(),J.on("mousemove",function(a){L.x=a.pageX,L.y=a.pageY}),E=C(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,f,g,h;this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+H()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=l(function(){return c.element.closest("body")}),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss)),this.container.addClass(z(c.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(z(c.dropdownCssClass)),this.dropdown.data("select2",this),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.results=d=this.container.find(".select2-results"),this.search=f=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),j(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent)),m(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&f-e<=0?(d.scrollTop(0),p(a)):e<0&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),i(f),f.on("keyup-change input paste",this.bind(this.updateResults)),f.on("focus",function(){f.addClass("select2-focused")}),f.on("blur",function(){f.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var g=c.element.prop("disabled");g===b&&(g=!1),this.enable(!g);var h=c.element.prop("readonly");h===b&&(h=!1),this.readonly(h),K=K||e(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=b},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),c!==b&&(c.container.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:f(a.attr("locked"),"locked")||f(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,h,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id;(g=function(d,e,i){var k,l,m,n,o,p,q,r,s,t;for(d=c.sortResults(d,e,f),k=0,l=d.length;k<l;k+=1)m=d[k],o=!0===m.disabled,n=!o&&h(m)!==b,p=m.children&&m.children.length>0,q=a("<li></li>"),q.addClass("select2-results-dept-"+i),q.addClass("select2-result"),q.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&q.addClass("select2-disabled"),p&&q.addClass("select2-result-with-children"),q.addClass(j.opts.formatResultCssClass(m)),r=a(document.createElement("div")),r.addClass("select2-result-label"),t=c.formatResult(m,r,f,j.opts.escapeMarkup),t!==b&&r.html(t),q.append(r),p&&(s=a("<ul></ul>"),s.addClass("select2-result-sub"),g(m.children,s,i+1),q.append(s)),q.data("select2-data",m),e.append(q)})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(h=c.id,c.id=function(a){return a[h]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={results:[],more:!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption())&&(c=c.not(e)),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id},c.formatResultCssClass=function(a){return a.css}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(g(b.val(),c.separator)).each(function(){var b=this,d=this,g=c.tags;a.isFunction(g)&&(g=g()),a(g).each(function(){if(f(this.id,b))return d=this.text,!1}),e.push({id:b,text:d})}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){var a,c=this.opts.element;c.on("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),a=this.bind(function(){var a,d=c.prop("disabled");d===b&&(d=!1),this.enable(!d);var a=c.prop("readonly");a===b&&(a=!1),this.readonly(a),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass)),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass))}),c.on("propertychange.select2 DOMAttrModified.select2",a),this.mutationCallback===b&&(this.mutationCallback=function(b){b.forEach(a)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b,c,d,e,f=this.dropdown,g=this.container.offset(),h=this.container.outerHeight(!1),i=this.container.outerWidth(!1),j=f.outerHeight(!1),k=a(window).scrollLeft()+a(window).width(),l=a(window).scrollTop()+a(window).height(),m=g.top+h,n=g.left,o=m+j<=l,p=g.top-j>=this.body().scrollTop(),q=f.outerWidth(!1),r=n+q<=k,s=f.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(e=a(".select2-results",f)[0],f.addClass("select2-drop-auto-width"),f.css("width",""),q=f.outerWidth(!1)+(e.scrollHeight===e.clientHeight?0:K.width),q>i?i=q:q=i,r=n+q<=k):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(b=this.body().offset(),m-=b.top,n-=b.left),s?(c=!0,!p&&o&&(c=!1)):(c=!1,!o&&p&&(c=!0)),r||(n=g.left+i-q),c?(m=g.top-j,this.container.addClass("select2-drop-above"),f.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),f.removeClass("select2-drop-above")),d=a.extend({top:m,left:n,width:i},z(this.opts.dropdownCss)),f.css(d)},shouldOpen:function(){var b;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var b,c=this.containerId,d="scroll."+c,e="resize."+c,f="orientationchange."+c;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),b=a("#select2-drop-mask"),0==b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body()),b.on("mousedown touchstart click",function(b){var c,d=a("#select2-drop");d.length>0&&(c=d.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({noFocus:!0}),c.close({focus:!1}),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),
b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(e+" "+d+" "+f,function(a){g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return z(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i=this.results;if(!((c=this.highlight())<0)){if(0==c)return void i.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),e=d.offset().top+d.outerHeight(!0),c===b.length-1&&(h=i.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=i.offset().top+i.outerHeight(!0),e>f&&i.scrollTop(i.scrollTop()+(e-f)),g=d.offset().top-i.offset().top,g<0&&"none"!=d.css("display")&&i.scrollTop(i.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c,e,f=this.findHighlightableChoices();if(0===arguments.length)return d(f.filter(".select2-highlighted")[0],f.get());b>=f.length&&(b=f.length-1),b<0&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.ensureHighlightVisible(),(e=c.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c=this.resultsPage+1,d=this,e=this.search.val(),f=this.context;0!==b.length&&b.offset().top-a.offset().top-a.height()<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:e,page:c,context:f,matcher:this.opts.matcher,callback:this.bind(function(g){d.opened()&&(d.opts.populateResults.call(this,a,g.results,{term:e,page:c,context:f}),d.postprocessResults(g,!1,!1),!0===g.more?(b.detach().appendTo(a).text(d.opts.formatLoadMore(c+1)),window.setTimeout(function(){d.loadMoreIfNeeded()},10)):b.remove(),d.positionDropdown(),d.resultsPage=c,d.context=g.context,this.opts.element.trigger({type:"select2-loaded",items:g}))})}))},tokenize:function(){},updateResults:function(c){function d(){j.removeClass("select2-active"),m.positionDropdown()}function e(a){k.html(a),d()}var g,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((!0===c||!o||!f(n,o))&&(a.data(this.container,"select2-last-term",n),!0===c||!1!==this.showSearchInput&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(g=this.data(),a.isArray(g)&&g.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+l.formatInputTooShort(j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+l.formatInputTooLong(j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+l.formatSearching()+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({element:l.element,term:j.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(g){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),g.results))!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(g.results).filter(function(){return f(m.id(this),m.id(h))}).length&&g.results.unshift(h),0===g.results.length&&y(l.formatNoMatches,"formatNoMatches"))return void e("<li class='select2-no-results'>"+l.formatNoMatches(j.val())+"</li>");k.empty(),m.opts.populateResults.call(this,k,g.results,{term:j.val(),page:this.resultsPage,context:null}),!0===g.more&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class='select2-more-results'>"+m.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),d(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){n(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var a=this.select.children().first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){function c(){var c,d,e,f,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((c=this.opts.element.attr("style"))!==b)for(d=c.split(";"),f=0,g=d.length;f<g;f+=1)if(null!==(e=d[f].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),F=C(E,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e)),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,c=this.container,d=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=c.find(".select2-choice"),this.focusser=c.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+H()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===D.PAGE_UP||a.which===D.PAGE_DOWN)return void p(a);switch(a.which){case D.UP:case D.DOWN:return this.moveHighlight(a.which===D.UP?-1:1),void p(a);case D.ENTER:return this.selectHighlighted(),void p(a);case D.TAB:return void(this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}));case D.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(a){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==D.TAB&&!D.isControl(a)&&!D.isFunctionKey(a)&&a.which!==D.ESC){if(!1===this.opts.openOnEnter&&a.which===D.ENTER)return void p(a);if(a.which==D.DOWN||a.which==D.UP||a.which==D.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==D.DELETE||a.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),i(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection.focus())})),b.on("mousedown",this.bind(function(b){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(b)})),d.on("mousedown",this.bind(function(){this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");if(b){var c=this.getPlaceholderOption();this.opts.element.val(c?c.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return!!this.opts.placeholder&&((a=this.getPlaceholderOption())!==b&&a.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val())},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find(":selected");b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),g=null;b.query({matcher:function(a,c,d){var h=f(e,b.id(d));return h&&(g=d),h},callback:a.isFunction(d)?function(){d(g)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){if(f(e.id(b.data("select2-data")),e.opts.element.val()))return d=a,!1}),!1!==c&&(!0===b&&d>=0?this.highlight(d):this.highlight(0)),!0===b){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(A(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||this.selection.focus(),f(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find(":selected").each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;if(0===arguments.length)return c=this.selection.data("select2-data"),c==b&&(c=null),c;arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)}}),G=C(E,{createContainer:function(){return a(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find(":selected").each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=g(c.val(),b.separator),h=[];b.query({matcher:function(c,d,g){var i=a.grep(e,function(a){return f(a,b.id(g))}).length;return i&&h.push(g),i},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],i=0;i<h.length;i++){var j=h[i];if(f(g,b.id(j))){a.push(j),h.splice(i,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-search-choice",function(b){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+H()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==D.LEFT||a.which==D.RIGHT||a.which==D.BACKSPACE||a.which==D.DELETE||a.which==D.ENTER)){var g=c;return a.which==D.LEFT&&d.length?g=d:a.which==D.RIGHT?g=e.length?e:null:a.which===D.BACKSPACE?(this.unselect(c.first()),this.search.width(10),g=d.length?d:e):a.which==D.DELETE?(this.unselect(c.first()),this.search.width(10),g=e.length?e:null):a.which==D.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===D.BACKSPACE&&1==this.keydowns||a.which==D.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case D.UP:case D.DOWN:return this.moveHighlight(a.which===D.UP?-1:1),void p(a);case D.ENTER:return this.selectHighlighted(),void p(a);case D.TAB:return this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(a),void p(a)}if(a.which!==D.TAB&&!D.isControl(a)&&!D.isFunctionKey(a)&&a.which!==D.BACKSPACE&&a.which!==D.ESC){if(a.which===D.ENTER){if(!1===this.opts.openOnEnter)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),a.which!==D.PAGE_UP&&a.which!==D.PAGE_DOWN||p(a),a.which===D.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(a){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],e=[],f=this;a(b).each(function(){d(f.id(this),c)<0&&(c.push(f.id(this)),e.push(this))}),b=e,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var a=this.search.val();null!=(a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts))&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var d,e,f=!c.locked,g=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),h=a("<li class='select2-search-choice select2-locked'><div></div></li>"),i=f?g:h,j=this.id(c),k=this.getVal();d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&i.find("div").replaceWith("<div>"+d+"</div>"),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(b))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),k.push(j),this.setVal(k)},unselect:function(a){var b,c,e=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";(b=a.data("select2-data"))&&(c=d(this.id(b),e),c>=0&&(e.splice(c,1),this.setVal(e),this.select&&this.postprocessResults()),a.remove(),this.opts.element.trigger({type:"removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}))},postprocessResults:function(a,b,c){var e=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){d(h.id(b.data("select2-data")),e)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&!1!==c&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+h.opts.formatNoMatches(h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-h(this.search)},resizeSearch:function(){var a,b,c,d,e,f=h(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,e<a&&(e=c-f),e<40&&(e=c-f),e<=0&&(e=a),this.search.width(e)},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),g(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){d(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)f(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var d,e,f=this;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data()))}}),a.fn.select2=function(){var c,e,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),e=h?new G:new F,e.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(d(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,(e=a(this).data("select2"))===b)return;if(f=i[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(m[f]&&(f=m[f]),g=e[f].apply(e,i.slice(1))),d(i[0],k)>=0||d(i[0],l)&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return t(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a,b,c){return a},formatResultCssClass:function(a){return b},formatSelectionCssClass:function(a,c){return b},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return c(""+b).toUpperCase().indexOf(c(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:B,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return b}},a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:w,tags:x},util:{debounce:k,markMatch:t,escapeMarkup:u,stripDiacritics:c},class:{abstract:E,single:F,multi:G}}}}(jQuery),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if(void 0!==c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,b,c){return b&&b.originalEvent&&b.originalEvent[a]||c&&c[a]||void 0},onDomLoad:function(a){d(a)}},void 0!==c.init&&c.init()}(window),function(a,b){"use strict"
;var c=a.console||void 0,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;try{f.setItem("TEST","1"),f.removeItem("TEST")}catch(a){f=!1}if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,void 0!==m.init)throw new Error("History.js Core has already been loaded...");m.init=function(a){return void 0!==m.Adapter&&(void 0!==m.initCore&&m.initCore(),void 0!==m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(b){if(void 0!==m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.disableSuid=m.options.disableSuid||!1,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.options.html4Mode=m.options.html4Mode||!1,m.options.delayInit=m.options.delayInit||!1,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(void 0!==b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var a,b,e,f,g,h=!(void 0===c||void 0===c.log||void 0===c.log.apply),i=d.getElementById("log");for(h?(f=Array.prototype.slice.call(arguments),a=f.shift(),void 0!==c.debug?c.debug.apply(c,[a,f]):c.log.apply(c,[a,f])):a="\n"+arguments[0]+"\n",b=1,e=arguments.length;b<e;++b){if("object"==typeof(g=arguments[b])&&void 0!==k)try{g=k.stringify(g)}catch(a){}a+="\n"+g+"\n"}return i?(i.value+=a+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):h||l(a),!0},m.getInternetExplorerMajorVersion=function(){return m.getInternetExplorerMajorVersion.cached=void 0!==m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e")&&c[0];);return a>4&&a}()},m.isInternetExplorer=function(){return m.isInternetExplorer.cached=void 0!==m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion())},m.options.html4Mode?m.emulated={pushState:!0,hashChange:!0}:m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){return m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl()},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||m.getLocationHref();return b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){return m.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/"},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=void 0===b||b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.getLocationHref=function(a){return a=a||d,a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash?a.location.href:-1==a.URL.indexOf("#")&&-1!=a.location.href.indexOf("#")?a.location.href:a.URL||a.location.href},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b,c=m.extractId(a.url);if(!c)if(b=m.getStateString(a),void 0!==m.stateToId[b])c=m.stateToId[b];else if(void 0!==m.store.stateToId[b])c=m.store.stateToId[b];else{for(;;)if(c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0===m.idToState[c]&&void 0===m.store.idToState[c])break;m.stateToId[b]=c,m.idToState[c]=a}return c},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),void 0!==a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(a.url?a.url:m.getLocationHref()),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&!0!==m.options.disableSuid&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){return a=String(a),m.idToState[a]||m.store.idToState[a]||void 0},m.getStateString=function(a){var b,c;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},k.stringify(c)},m.getStateId=function(a){var b;return b=m.normalizeState(a),b.id},m.getHashByState=function(a){var b;return b=m.normalizeState(a),b.hash},m.extractId=function(a){var b,c;return c=-1!=a.indexOf("#")?a.split("#")[0]:a,b=/(.*)\&_suid=([0-9]+)$/.exec(c),b?b[1]||a:a,(b?String(b[2]||""):"")||!1},m.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)},m.extractState=function(a,b){var c,d,e=null;return b=b||!1,c=m.extractId(a),c&&(e=m.getStateById(c)),e||(d=m.getFullUrl(a),c=m.getIdByUrl(d)||!1,c&&(e=m.getStateById(c)),e||!b||m.isTraditionalAnchor(a)||(e=m.createStateObject(null,null,d))),e},m.getIdByUrl=function(a){return m.urlToId[a]||m.store.urlToId[a]||void 0},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||void 0},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||void 0},m.hasUrlDuplicate=function(a){var b;return b=m.extractState(a.url),b&&b.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b,c,d,e=!1;return m.savedStates.length&&(b=a.id,c=m.getLastSavedState(),d=c.id,e=b===d),e},m.saveState=function(a){return!m.isLastSavedState(a)&&(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){return void 0===a?m.savedStates[m.savedStates.length-1]:a<0?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getCurrentIndex=function(){return m.savedStates.length<1?0:m.savedStates.length-1},m.getHash=function(a){var b=m.getLocationHref(a);return m.getHashByUrl(b)},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=decodeURIComponent(b)},m.normalizeHash=function(a){return a.replace(/[^#]*#/,"").replace(/#.*/,"")},m.setHash=function(a,b){var c,e;return!1!==b&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(m.busy(!0),c=m.extractState(a,!0),c&&!m.emulated.pushState?m.pushState(c.data,c.title,c.url,!1):m.getHash()!==a&&(m.bugs.setHash?(e=m.getPageUrl(),m.pushState(null,null,e+"#"+a,!1)):d.location.hash=a),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.encodeURIComponent(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var b,c=a.title;c||(b=m.getStateByIndex(0))&&b.url===a.url&&(c=b.title||m.options.initialTitle);try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return d.title=c,m},m.queues=[],m.busy=function(a){if(void 0!==a?m.busy.flag=a:void 0===m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),void 0!==b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b,c=m.extractState(m.getLocationHref());if(!m.isLastSavedState(c))return b=c,b||(b=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return!1!==a&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return!1!==a&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var d,e,f=!1,g=!1;return m.doubleCheckComplete(),(d=m.getHash())?(e=m.extractState(d||m.getLocationHref(),!0),e?m.replaceState(e.data,e.title,e.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(f=m.Adapter.extractEventData("state",b,c)||!1,g=f?m.getStateById(f):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(m.getLocationHref()),g||(g=m.createStateObject(null,null,m.getLocationHref())),m.expectedStateId=!1,m.isLastSavedState(g)?(m.busy(!1),!1):(m.storeState(g),m.saveState(g),m.setTitle(g),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==e&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==e&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(a){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(m.getLocationHref(),!0))),f&&(m.onUnload=function(){var a,b,c;try{a=k.parse(f.getItem("History.store"))||{}}catch(b){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),c=k.stringify(a);try{f.setItem("History.store",c)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;f.length&&(f.removeItem("History.store"),f.setItem("History.store",c))}},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),"Apple Computer, Inc."!==e.vendor&&"Mozilla"!==(e.appCodeName||"")||(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.options&&m.options.delayInit||m.init()}(window),function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function a(a,b){for(var c=decodeURI(a),d=p[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},g=14;g--;)e.attr[n[g]]=d[g]||"";return e.param.query=f(e.attr.query),e.param.fragment=f(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function b(a){var b=a.tagName;return void 0!==b?m[b.toLowerCase()]:b}function c(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?j(h)?""!==f&&h.push(f):"object"==typeof h?h[k(h).length]=f:h=b[e]=[b[e],f]:~g.indexOf("]")?(g=g.substr(0,g.length-1),!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f)):(!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f))}else j(b[e])?b[e].push(f):"object"==typeof b[e]?b[e]=f:void 0===b[e]?b[e]=f:b[e]=[b[e],f]}function e(a,b,c){if(~b.indexOf("]")){d(b.split("["),a,"base",c)}else{if(!q.test(b)&&j(a.base)){var e={};for(var f in a.base)e[f]=a.base[f];a.base=e}""!==b&&g(a.base,b,c)}return a}function f(a){return i(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(a){}var c=b.indexOf("="),d=h(b),f=b.substr(0,d||c),g=b.substr(d||c,b.length);return g=g.substr(g.indexOf("=")+1,g.length),""===f&&(f=b,g=""),e(a,f,g)},{base:{}}).base}function g(a,b,c){var d=a[b];void 0===d?a[b]=c:j(d)?d.push(c):a[b]=[d,c]}function h(a){for(var b,c,d=a.length,e=0;e<d;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function i(a,b){for(var c=0,d=a.length>>0,e=arguments[2];c<d;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(b,c){return 1===arguments.length&&!0===b&&(c=!0,b=void 0),c=c||!1,b=b||window.location.toString(),{data:a(b,c),attr:function(a){return a=o[a]||a,void 0!==a?this.data.attr[a]:this.data.attr},param:function(a){return void 0!==a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return void 0!==a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return void 0===a?this.data.seg.path:(a=a<0?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return void 0===a?this.data.seg.fragment:(a=a<0?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},q=/^[0-9]+$/;return l.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";return this.length&&(d=a(this).attr(b(this[0]))||""),l(d,c)},a.url=l)},l.jQuery(window.jQuery),l}),Mithril=m=new function a(b){function c(){for(var a,b=arguments,c=(!("[object Object]"!=z.call(b[1])||"tag"in b[1]||"subtree"in b[1])),d=c?b[1]:{},e=("class"in d?"class":"className"),f={tag:"div",attrs:{}},g=[];a=A.exec(b[0]);)if(""==a[1])f.tag=a[2];else if("#"==a[1])f.attrs.id=a[2];else if("."==a[1])g.push(a[2]);else if("["==a[3][0]){var h=B.exec(a[3]);f.attrs[h[1]]=h[3]||!h[2]||""}g.length>0&&(f.attrs[e]=g.join(" ")),f.children=c?b[2]:b[1];for(var i in d)f.attrs[i]=i==e?(f.attrs[i]||"")+" "+d[i]:d[i];return f}function d(a,c,g,j,k,l,m,n,o,p,q){if(null!==k&&void 0!==k||(k=""),"retain"===k.subtree)return l;var r=z.call(l),s=z.call(k);if(r!=s){if(null!==l&&void 0!==l)if(g&&g.nodes){var t=n-j,u=t+("[object Array]"==s?k:l.nodes).length;f(g.nodes.slice(t,u),g.slice(t,u))}else f(l.nodes,l);l=new k.constructor,l.nodes=[]}if("[object Array]"==s){k=i(k);for(var v=[],w=l.length===k.length,x=0,y={},A=[],B=!1,C=0;C<l.length;C++)l[C]&&l[C].attrs&&void 0!==l[C].attrs.key&&(B=!0,y[l[C].attrs.key]={action:1,index:C});if(B){for(var C=0;C<k.length;C++)if(k[C]&&k[C].attrs)if(void 0!==k[C].attrs.key){var D=k[C].attrs.key;y[D]?y[D]={action:3,index:C,from:y[D].index,element:a.childNodes[y[D].index]}:y[D]={action:2,index:C}}else A.push({index:C,element:a.childNodes[C]});for(var E,F=Object.keys(y).map(function(a){return y[a]}),G=F.sort(function(a,b){return a.action-b.action||a.index-b.index}),H=l.slice(),C=0;E=G[C];C++){if(1==E.action&&(f(l[E.index].nodes,l[E.index]),H.splice(E.index,1)),2==E.action){var I=b.document.createElement("div");I.key=k[E.index].attrs.key,a.insertBefore(I,a.childNodes[E.index]),H.splice(E.index,0,{attrs:{key:k[E.index].attrs.key},nodes:[I]})}3==E.action&&(a.childNodes[E.index]!==E.element&&a.insertBefore(E.element,a.childNodes[E.index]),H[E.index]=l[E.from])}for(var C=0;C<A.length;C++){var E=A[C];a.insertBefore(E.element,a.childNodes[E.index]),H[E.index]=l[E.index]}l=H,l.nodes=[];for(var J,C=0;J=a.childNodes[C];C++)l.nodes.push(J)}for(var C=0,K=0;C<k.length;C++){var L=d(a,c,l,n,k[C],l[K],m,n+x||x,o,p,q);if(void 0!==L){L.nodes.intact||(w=!1);x+=L instanceof Array?L.length:1,l[K++]=L}}if(!w){for(var C=0;C<k.length;C++)void 0!==l[C]&&(v=v.concat(l[C].nodes));for(var M,C=0;M=l.nodes[C];C++)null!==M.parentNode&&v.indexOf(M)<0&&M.parentNode.removeChild(M);for(var M,C=l.nodes.length;M=v[C];C++)null===M.parentNode&&a.appendChild(M);k.length<l.length&&(l.length=k.length),l.nodes=v}}else if("[object Object]"==s){if(k.tag==l.tag&&Object.keys(k.attrs).join()==Object.keys(l.attrs).join()&&k.attrs.id==l.attrs.id||(f(l.nodes),l.configContext&&"function"==typeof l.configContext.onunload&&l.configContext.onunload()),"string"!=typeof k.tag)return;var M,N=0===l.nodes.length;k.attrs.xmlns?p=k.attrs.xmlns:"svg"===k.tag&&(p="http://www.w3.org/2000/svg"),N?(M=void 0===p?b.document.createElement(k.tag):b.document.createElementNS(p,k.tag),l={tag:k.tag,children:void 0!==k.children?d(M,k.tag,void 0,void 0,k.children,l.children,!0,0,k.attrs.contenteditable?M:o,p,q):void 0,attrs:e(M,k.tag,k.attrs,{},p),nodes:[M]},a.insertBefore(M,a.childNodes[n]||null)):(M=l.nodes[0],e(M,k.tag,k.attrs,l.attrs,p),l.children=d(M,k.tag,void 0,void 0,k.children,l.children,!1,0,k.attrs.contenteditable?M:o,p,q),l.nodes.intact=!0,!0===m&&a.insertBefore(M,a.childNodes[n]||null)),"[object Function]"==z.call(k.attrs.config)&&q.push(k.attrs.config.bind(b,M,!N,l.configContext=l.configContext||{},l))}else{var v;0===l.nodes.length?(k.$trusted?v=h(a,n,k):(v=[b.document.createTextNode(k)],a.insertBefore(v[0],a.childNodes[n]||null)),l="string number boolean".indexOf(typeof k)>-1?new k.constructor(k):k,l.nodes=v):l.valueOf()!==k.valueOf()||!0===m?(v=l.nodes,o&&o===b.document.activeElement||(k.$trusted?(f(v,l),v=h(a,n,k)):"textarea"===c?a.value=k:o?o.innerHTML=k:((1==v[0].nodeType||v.length>1)&&(f(l.nodes,l),v=[b.document.createTextNode(k)]),a.insertBefore(v[0],a.childNodes[n]||null),v[0].nodeValue=k)),l=new k.constructor(k),l.nodes=v):l.nodes.intact=!0}return l}function e(a,c,d,e,f){for(var g in d){var h=d[g],i=e[g];if(!(g in e)||i!==h||a===b.document.activeElement){if(e[g]=h,"config"===g)continue;if("function"==typeof h&&0==g.indexOf("on"))a[g]=j(h,a);else if("style"===g&&"object"==typeof h){for(var k in h)void 0!==i&&i[k]===h[k]||(a.style[k]=h[k]);for(var k in i)k in h||(a.style[k]="")}else void 0!==f?"href"===g?a.setAttributeNS("http://www.w3.org/1999/xlink","href",h):"className"===g?a.setAttribute("class",h):a.setAttribute(g,h):"value"===g&&"input"===c?a.value!==h&&(a.value=h):g in a&&"list"!=g&&"style"!=g?a[g]=h:a.setAttribute(g,h)}}return e}function f(a,b){for(var c=a.length-1;c>-1;c--)a[c]&&a[c].parentNode&&(a[c].parentNode.removeChild(a[c]),b=[].concat(b),b[c]&&g(b[c]));0!=a.length&&(a.length=0)}function g(a){if(a.configContext&&"function"==typeof a.configContext.onunload&&a.configContext.onunload(),a.children)if(a.children instanceof Array)for(var b=0;b<a.children.length;b++)g(a.children[b]);else a.children.tag&&g(a.children)}function h(a,c,d){var e=a.childNodes[c];if(e){var f=1!=e.nodeType,g=b.document.createElement("span");f?(a.insertBefore(g,e),g.insertAdjacentHTML("beforebegin",d),a.removeChild(g)):e.insertAdjacentHTML("beforebegin",d)}else a.insertAdjacentHTML("beforeend",d);for(var h=[];a.childNodes[c]!==e;)h.push(a.childNodes[c]),c++;return h}function i(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d instanceof Array?b.push.apply(b,i(d)):b.push(d)}return b}function j(a,b,d){return function(d){d=d||event,c.startComputation();try{return a.call(b,d)}finally{I||(I=-1),c.endComputation()}}}function k(a){var b=D.indexOf(a);return b<0?D.push(a)-1:b}function l(){for(var a=0;a<F.length;a++)H[a]&&c.render(F[a],G[a].view(H[a]));J&&(J(),J=null),I=null}function m(a){return a.slice(M[c.route.mode].length)}function n(a,b,d){O={};var e=d.indexOf("?");-1!==e&&(O=s(d.substr(e+1,d.length)),d=d.substr(0,e));for(var f in b){if(f==d)return o(a),c.module(a,b[f]),!0;var g=new RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(g.test(d))return o(a),d.replace(g,function(){for(var d=f.match(/:[^\/]+/g)||[],e=[].slice.call(arguments,1,-2),g=0;g<d.length;g++)O[d[g].replace(/:|\./g,"")]=t(e[g]);c.module(a,b[f])}),!0}}function o(a){var b=k(a);f(a.childNodes,E[b]),E[b]=void 0}function p(a){a=a||event,a.ctrlKey||a.metaKey||2==a.which||(a.preventDefault(),c.route(a.currentTarget[c.route.mode].slice(M[c.route.mode].length)))}function q(){"hash"!=c.route.mode&&b.location.hash?b.location.hash=b.location.hash:b.scrollTo(0,0)}function r(a,b){var c=[];for(var d in a){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?r(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")}function s(a){for(var b=a.split("&"),c={},d=0;d<b.length;d++){var e=b[d].split("=");c[t(e[0])]=e[1]?t(e[1]):1===e.length||""}return c}function t(a){return decodeURIComponent(a.replace(/\+/g," "))}function u(a){return a}function v(a){var c=new b.XMLHttpRequest;if(c.open(a.method,a.url,!0,a.user,a.password),c.onreadystatechange=function(){4===c.readyState&&(c.status>=200&&c.status<300?a.onload({type:"load",target:c}):a.onerror({type:"error",target:c}))},a.serialize==JSON.stringify&&"GET"!=a.method&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof a.config){var d=a.config(c,a);void 0!==d&&(c=d)}return c.send("GET"==a.method?"":a.data),c}function w(a,b,c){return b&&Object.keys(b).length>0&&("GET"==a.method?a.url=a.url+(a.url.indexOf("?")<0?"?":"&")+r(b):a.data=c(b)),a}function x(a,b){var c=a.match(/:[a-z]\w+/gi);if(c&&b)for(var d=0;d<c.length;d++){var e=c[d].slice(1);a=a.replace(c[d],b[e]),delete b[e]}return a}var y,z={}.toString,A=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,B=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,C={insertAdjacentHTML:function(a,c){b.document.write(c),b.document.close()},appendChild:function(a){void 0===y&&(y=b.document.createElement("html")),"HTML"==a.nodeName?y=a:y.appendChild(a),b.document.documentElement&&b.document.documentElement!==y?b.document.replaceChild(y,b.document.documentElement):b.document.appendChild(y)},insertBefore:function(a){this.appendChild(a)},childNodes:[]},D=[],E={};c.render=function(a,c){var e=[];if(!a)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var g=k(a),h=a==b.document||a==b.document.documentElement?C:a;void 0===E[g]&&f(h.childNodes),E[g]=d(h,null,void 0,void 0,c,E[g],!1,0,null,void 0,e);for(var i=0;i<e.length;i++)e[i]()},c.trust=function(a){return a=new String(a),a.$trusted=!0,a};var F=[],G=[],H=[],I=0,J=null;c.module=function(a,b){var d=F.indexOf(a);d<0&&(d=F.length);var e=!1;if(H[d]&&"function"==typeof H[d].onunload){var f={preventDefault:function(){e=!0}};H[d].onunload(f)}e||(c.startComputation(),F[d]=a,G[d]=b,H[d]=new b.controller,c.endComputation())},c.redraw=function(){var a=b.cancelAnimationFrame||b.clearTimeout,c=b.requestAnimationFrame||b.setTimeout;I?(a(I),I=c(l,0)):(l(),I=c(function(){I=null},0))};var K=0;c.startComputation=function(){K++},c.endComputation=function(){0==(K=Math.max(K-1,0))&&c.redraw()},c.withAttr=function(a,b){return function(c){c=c||event,b(a in c.currentTarget?c.currentTarget[a]:c.currentTarget.getAttribute(a))}};var L,M={pathname:"",hash:"#",search:"?"},N=function(){},O={};c.route=function(){if(0===arguments.length)return L;if(3===arguments.length&&"string"==typeof arguments[1]){var a=arguments[0],d=arguments[1],e=arguments[2];N=function(b){var f=L=m(b);n(a,e,f)||c.route(d,!0)};var f="hash"==c.route.mode?"onhashchange":"onpopstate";b[f]=function(){L!=m(b.location[c.route.mode])&&N(b.location[c.route.mode])},J=q,b[f]()}else if(arguments[0].addEventListener){var g=arguments[0],h=arguments[1];g.href.indexOf(M[c.route.mode])<0&&(g.href=b.location.pathname+M[c.route.mode]+g.pathname),h||(g.removeEventListener("click",p),g.addEventListener("click",p))}else if("string"==typeof arguments[0]){L=arguments[0];var i="object"==typeof arguments[1]?r(arguments[1]):null;i&&(L+=(-1===L.indexOf("?")?"?":"&")+i);var j=!0===(3==arguments.length?arguments[2]:arguments[1]);b.history.pushState?(J=function(){b.history[j?"replaceState":"pushState"](null,b.document.title,M[c.route.mode]+L),q()},N(M[c.route.mode]+L)):b.location[c.route.mode]=L}},c.route.param=function(a){return O[a]},c.route.mode="search",c.prop=function(a){var b=function(){return arguments.length&&(a=arguments[0]),a};return b.toJSON=function(){return a},b};var P={};return c.deferred=function(){var a=[],b=[],d=P,e=P,f=c.prop(),g={resolve:function(c){d===P&&f(d=c);for(var e=0;e<a.length;e++)a[e](c);a.length=b.length=0},reject:function(c){e===P&&(e=c);for(var d=0;d<b.length;d++)b[d](c);a.length=b.length=0},promise:f};return g.promise.resolvers=a,g.promise.then=function(f,g){function h(a,b){return function(c){try{var d=b(c);d&&"function"==typeof d.then?d.then(i[a],g):i[a](void 0!==d?d:c)}catch(a){if(a instanceof Error&&a.constructor!==Error)throw a;i.reject(a)}}}var i=c.deferred();return f||(f=u),g||(g=u),d!==P?h("resolve",f)(d):e!==P?h("reject",g)(e):(a.push(h("resolve",f)),b.push(h("reject",g))),i.promise},g},c.sync=function(a){function b(a,b){return function(c){return g[a]=c,b||(d="reject"),0==--f&&(e.promise(g),e[d](g)),c}}for(var d="resolve",e=c.deferred(),f=a.length,g=new Array(f),h=0;h<a.length;h++)a[h].then(b(h,!0),b(h,!1));return e.promise},c.request=function(a){!0!==a.background&&c.startComputation();var b=c.deferred(),d=a.serialize=a.serialize||JSON.stringify,e=a.deserialize=a.deserialize||JSON.parse,f=a.extract||function(a){return 0===a.responseText.length&&e===JSON.parse?null:a.responseText};return a.url=x(a.url,a.data),a=w(a,a.data,d),a.onload=a.onerror=function(d){try{d=d||event;var g=("load"==d.type?a.unwrapSuccess:a.unwrapError)||u,h=g(e(f(d.target,a)));if("load"==d.type)if(h instanceof Array&&a.type)for(var i=0;i<h.length;i++)h[i]=new a.type(h[i]);else a.type&&(h=new a.type(h));b["load"==d.type?"resolve":"reject"](h)}catch(d){if(d instanceof SyntaxError)throw new SyntaxError("Could not parse HTTP response. See http://lhorie.github.io/mithril/mithril.request.html#using-variable-data-formats");if(d instanceof Error&&d.constructor!==Error)throw d;b.reject(d)}!0!==a.background&&c.endComputation()},v(a),b.promise},c.deps=function(a){return b=a},c.deps.factory=a,c}("undefined"!=typeof window?window:{}),"undefined"!=typeof module&&null!==module&&(module.exports=m),"function"==typeof define&&define.amd&&define(function(){return m}),function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else Q=a()}(function(){"use strict";function a(a){return function(){return T.apply(a,arguments)}}function b(a){return a===Object(a)}function c(a){return"[object StopIteration]"===_(a)||a instanceof P}function d(a,b){if(N&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(aa)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var f=c.join("\n"+aa+"\n");a.stack=e(f)}}function e(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];h(e)||f(e)||!e||c.push(e)}return c.join("\n")}function f(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function g(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function h(a){var b=g(a);if(!b)return!1;var c=b[0],d=b[1];return c===O&&d>=Q&&d<=ea}function i(){if(N)try{throw new Error}catch(d){var a=d.stack.split("\n"),b=a[0].indexOf("@")>0?a[1]:a[2],c=g(b);if(!c)return;return O=c[0],c[1]}}function j(a){return q(a)?a:r(a)?A(a):z(a)}function k(){function a(a){b=a,f.source=a,V(c,function(b,c){S(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=Y(k.prototype),f=Y(n.prototype);if(f.promiseDispatch=function(a,e,f){var g=U(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):S(function(){
b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=p(b);return q(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},j.longStackSupport&&N)try{throw new Error}catch(a){f.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(j(c))},e.fulfill=function(c){b||a(z(c))},e.reject=function(c){b||a(y(c))},e.notify=function(a){b||V(d,function(b,c){S(function(){c(a)})},void 0)},e}function l(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=k();try{a(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}return b.promise}function m(a){return l(function(b,c){for(var d=0,e=a.length;d<e;d++)j(a[d]).then(b,c)})}function n(a,b,c){void 0===b&&(b=function(a){return y(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=Y(n.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(a){g=y(a)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function o(a,b,c,d){return j(a).then(b,c,d)}function p(a){if(q(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function q(a){return b(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function r(a){return b(a)&&"function"==typeof a.then}function s(a){return q(a)&&"pending"===a.inspect().state}function t(a){return!q(a)||"fulfilled"===a.inspect().state}function u(a){return q(a)&&"rejected"===a.inspect().state}function v(){ba.length=0,ca.length=0,da||(da=!0)}function w(a,b){da&&(ca.push(a),b&&void 0!==b.stack?ba.push(b.stack):ba.push("(no stack) "+b))}function x(a){if(da){var b=W(ca,a);-1!==b&&(ca.splice(b,1),ba.splice(b,1))}}function y(a){var b=n({when:function(b){return b&&x(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return w(b,a),b}function z(a){return n({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},delete:function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return $(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function A(a){var b=k();return S(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}}),b.promise}function B(a){return n({isDef:function(){}},function(b,c){return H(a,b,c)},function(){return j(a).inspect()})}function C(a,b,c){return j(a).spread(b,c)}function D(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=d[a](b)}catch(a){return y(a)}return g.done?g.value:o(g.value,e,f)}try{g=d[a](b)}catch(a){return c(a)?a.value:y(a)}return o(g,e,f)}var d=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function E(a){j.done(j.async(a)())}function F(a){throw new P(a)}function G(a){return function(){return C([this,I(arguments)],function(b,c){return a.apply(b,c)})}}function H(a,b,c){return j(a).dispatch(b,c)}function I(a){return o(a,function(a){var b=0,c=k();return V(a,function(d,e,f){var g;q(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,o(e,function(d){a[f]=d,0==--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function J(a){return o(a,function(a){return a=X(a,j),o(I(X(a,function(a){return o(a,R,R)})),function(){return a})})}function K(a){return j(a).allSettled()}function L(a,b){return j(a).then(void 0,void 0,b)}function M(a,b){return j(a).nodeify(b)}var N=!1;try{throw new Error}catch(a){N=!!a.stack}var O,P,Q=i(),R=function(){},S=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var e=b.domain;e&&(b.domain=void 0,e.enter());try{c()}catch(b){if(f)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),b;setTimeout(function(){throw b},0)}e&&e.exit()}d=!1}var b={task:void 0,next:null},c=b,d=!1,e=void 0,f=!1;if(S=function(a){c=c.next={task:a,domain:f&&process.domain,next:null},d||(d=!0,e())},"undefined"!=typeof process&&process.nextTick)f=!0,e=function(){process.nextTick(a)};else if("function"==typeof setImmediate)e="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var g=new MessageChannel;g.port1.onmessage=function(){e=h,g.port1.onmessage=a,a()};var h=function(){g.port2.postMessage(0)};e=function(){setTimeout(a,0),h()}}else e=function(){setTimeout(a,0)};return S}(),T=Function.call,U=a(Array.prototype.slice),V=a(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;c<d;c++)c in this&&(b=a(b,this[c],c));return b}),W=a(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),X=a(Array.prototype.map||function(a,b){var c=this,d=[];return V(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),Y=Object.create||function(a){function b(){}return b.prototype=a,new b},Z=a(Object.prototype.hasOwnProperty),$=Object.keys||function(a){var b=[];for(var c in a)Z(a,c)&&b.push(c);return b},_=a(Object.prototype.toString);P="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var aa="From previous event:";j.resolve=j,j.nextTick=S,j.longStackSupport=!1,j.defer=k,k.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(U(arguments,1)):a.resolve(c)}},j.Promise=l,j.promise=l,l.race=m,l.all=I,l.reject=y,l.resolve=j,j.passByCopy=function(a){return a},n.prototype.passByCopy=function(){return this},j.join=function(a,b){return j(a).join(b)},n.prototype.join=function(a){return j([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},j.race=m,n.prototype.race=function(){return this.then(j.race)},j.makePromise=n,n.prototype.toString=function(){return"[object Promise]"},n.prototype.then=function(a,b,c){function e(b){try{return"function"==typeof a?a(b):b}catch(a){return y(a)}}function f(a){if("function"==typeof b){d(a,h);try{return b(a)}catch(a){return y(a)}}return y(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=k(),l=!1;return S(function(){h.promiseDispatch(function(a){l||(l=!0,i.resolve(e(a)))},"when",[function(a){l||(l=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(a){if(c=!0,!j.onerror)throw a;j.onerror(a)}c||i.notify(b)}]),i.promise},j.when=o,n.prototype.thenResolve=function(a){return this.then(function(){return a})},j.thenResolve=function(a,b){return j(a).thenResolve(b)},n.prototype.thenReject=function(a){return this.then(function(){throw a})},j.thenReject=function(a,b){return j(a).thenReject(b)},j.nearer=p,j.isPromise=q,j.isPromiseAlike=r,j.isPending=s,n.prototype.isPending=function(){return"pending"===this.inspect().state},j.isFulfilled=t,n.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},j.isRejected=u,n.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ba=[],ca=[],da=!0;j.resetUnhandledRejections=v,j.getUnhandledReasons=function(){return ba.slice()},j.stopUnhandledRejectionTracking=function(){v(),da=!1},v(),j.reject=y,j.fulfill=z,j.master=B,j.spread=C,n.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},j.async=D,j.spawn=E,j.return=F,j.promised=G,j.dispatch=H,n.prototype.dispatch=function(a,b){var c=this,d=k();return S(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},j.get=function(a,b){return j(a).dispatch("get",[b])},n.prototype.get=function(a){return this.dispatch("get",[a])},j.set=function(a,b,c){return j(a).dispatch("set",[b,c])},n.prototype.set=function(a,b){return this.dispatch("set",[a,b])},j.del=j.delete=function(a,b){return j(a).dispatch("delete",[b])},n.prototype.del=n.prototype.delete=function(a){return this.dispatch("delete",[a])},j.mapply=j.post=function(a,b,c){return j(a).dispatch("post",[b,c])},n.prototype.mapply=n.prototype.post=function(a,b){return this.dispatch("post",[a,b])},j.send=j.mcall=j.invoke=function(a,b){return j(a).dispatch("post",[b,U(arguments,2)])},n.prototype.send=n.prototype.mcall=n.prototype.invoke=function(a){return this.dispatch("post",[a,U(arguments,1)])},j.fapply=function(a,b){return j(a).dispatch("apply",[void 0,b])},n.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},j.try=j.fcall=function(a){return j(a).dispatch("apply",[void 0,U(arguments,1)])},n.prototype.fcall=function(){return this.dispatch("apply",[void 0,U(arguments)])},j.fbind=function(a){var b=j(a),c=U(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(U(arguments))])}},n.prototype.fbind=function(){var a=this,b=U(arguments);return function(){return a.dispatch("apply",[this,b.concat(U(arguments))])}},j.keys=function(a){return j(a).dispatch("keys",[])},n.prototype.keys=function(){return this.dispatch("keys",[])},j.all=I,n.prototype.all=function(){return I(this)},j.allResolved=function(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}(J,"allResolved","allSettled"),n.prototype.allResolved=function(){return J(this)},j.allSettled=K,n.prototype.allSettled=function(){return this.then(function(a){return I(X(a,function(a){function b(){return a.inspect()}return a=j(a),a.then(b,b)}))})},j.fail=j.catch=function(a,b){return j(a).then(void 0,b)},n.prototype.fail=n.prototype.catch=function(a){return this.then(void 0,a)},j.progress=L,n.prototype.progress=function(a){return this.then(void 0,void 0,a)},j.fin=j.finally=function(a,b){return j(a).finally(b)},n.prototype.fin=n.prototype.finally=function(a){return a=j(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},j.done=function(a,b,c,d){return j(a).done(b,c,d)},n.prototype.done=function(a,b,c){var e=function(a){S(function(){if(d(a,f),!j.onerror)throw a;j.onerror(a)})},f=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(e=process.domain.bind(e)),f.then(void 0,e)},j.timeout=function(a,b,c){return j(a).timeout(b,c)},n.prototype.timeout=function(a,b){var c=k(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},j.delay=function(a,b){return void 0===b&&(b=a,a=void 0),j(a).delay(b)},n.prototype.delay=function(a){return this.then(function(b){var c=k();return setTimeout(function(){c.resolve(b)},a),c.promise})},j.nfapply=function(a,b){return j(a).nfapply(b)},n.prototype.nfapply=function(a){var b=k(),c=U(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},j.nfcall=function(a){var b=U(arguments,1);return j(a).nfapply(b)},n.prototype.nfcall=function(){var a=U(arguments),b=k();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},j.nfbind=j.denodeify=function(a){var b=U(arguments,1);return function(){var c=b.concat(U(arguments)),d=k();return c.push(d.makeNodeResolver()),j(a).fapply(c).fail(d.reject),d.promise}},n.prototype.nfbind=n.prototype.denodeify=function(){var a=U(arguments);return a.unshift(this),j.denodeify.apply(void 0,a)},j.nbind=function(a,b){var c=U(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(U(arguments)),f=k();return e.push(f.makeNodeResolver()),j(d).fapply(e).fail(f.reject),f.promise}},n.prototype.nbind=function(){var a=U(arguments,0);return a.unshift(this),j.nbind.apply(void 0,a)},j.nmapply=j.npost=function(a,b,c){return j(a).npost(b,c)},n.prototype.nmapply=n.prototype.npost=function(a,b){var c=U(b||[]),d=k();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},j.nsend=j.nmcall=j.ninvoke=function(a,b){var c=U(arguments,2),d=k();return c.push(d.makeNodeResolver()),j(a).dispatch("post",[b,c]).fail(d.reject),d.promise},n.prototype.nsend=n.prototype.nmcall=n.prototype.ninvoke=function(a){var b=U(arguments,1),c=k();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},j.nodeify=M,n.prototype.nodeify=function(a){if(!a)return this;this.then(function(b){S(function(){a(null,b)})},function(b){S(function(){a(b)})})};var ea=i();return j}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c==0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!=0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})}),function(){"use strict";var Faye={VERSION:"1.1.0",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"],ENV:"undefined"!=typeof window?window:global,extend:function(a,b,c){if(!b)return a;for(var d in b)b.hasOwnProperty(d)&&(a.hasOwnProperty(d)&&!1===c||a[d]!==b[d]&&(a[d]=b[d]));return a},random:function(a){a=a||this.ID_LENGTH;for(var b=Math.ceil(a*Math.log(2)/Math.log(36)),c=csprng(a,36);c.length<b;)c="0"+c;return c},validateOptions:function(a,b){for(var c in a)if(this.indexOf(b,c)<0)throw new Error("Unrecognized option: "+c)},clientIdFromMessages:function(a){var b=this.filter([].concat(a),function(a){return"/meta/connect"===a.channel});return b[0]&&b[0].clientId},copyObject:function(a){var b,c,d;if(a instanceof Array){for(b=[],c=a.length;c--;)b[c]=Faye.copyObject(a[c]);return b}if("object"==typeof a){b=null===a?null:{};for(d in a)b[d]=Faye.copyObject(a[d]);return b}return a},commonElement:function(a,b){for(var c=0,d=a.length;c<d;c++)if(-1!==this.indexOf(b,a[c]))return a[c];return null},indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},map:function(a,b,c){if(a.map)return a.map(b,c);var d=[];if(a instanceof Array)for(var e=0,f=a.length;e<f;e++)d.push(b.call(c||null,a[e],e));else for(var g in a)a.hasOwnProperty(g)&&d.push(b.call(c||null,g,a[g]));return d},filter:function(a,b,c){if(a.filter)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c||null,a[e],e)&&d.push(a[e]);return d},asyncEach:function(a,b,c,d){var e=a.length,f=-1,g=0,h=!1,i=function(){if(g-=1,(f+=1)===e)return c&&c.call(d);b(a[f],k)},j=function(){if(!h){for(h=!0;g>0;)i();h=!1}},k=function(){g+=1,j()};k()},toJSON:function(a){return this.stringify?this.stringify(a,function(a,b){return this[a]instanceof Array?this[a]:b}):JSON.stringify(a)}};"undefined"!=typeof module?module.exports=Faye:"undefined"!=typeof window&&(window.Faye=Faye),Faye.Class=function(a,b){"function"!=typeof a&&(b=a,a=Object);var c=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},d=function(){};return d.prototype=a.prototype,c.prototype=new d,Faye.extend(c.prototype,b),c},function(){function a(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}var b=Faye.EventEmitter=function(){},c="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||c(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var d=Array.prototype.slice.call(arguments,1);b.apply(this,d)}return!0}if(c(b)){for(var d=Array.prototype.slice.call(arguments,1),e=b.slice(),f=0,g=e.length;f<g;f++)e[f].apply(this,d);return!0}return!1},b.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",a,b),this._events[a]?c(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,this},b.prototype.on=b.prototype.addListener,b.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},b.prototype.removeListener=function(b,d){if("function"!=typeof d)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[b])return this;var e=this._events[b];if(c(e)){var f=a(e,d);if(f<0)return this;e.splice(f,1),0==e.length&&delete this._events[b]}else this._events[b]===d&&delete this._events[b];return this},b.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},b.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}(),Faye.Namespace=Faye.Class({initialize:function(){this._used={}},exists:function(a){return this._used.hasOwnProperty(a)},generate:function(){for(var a=Faye.random();this._used.hasOwnProperty(a);)a=Faye.random();return this._used[a]=a},release:function(a){delete this._used[a]}}),function(){var a,b=setTimeout;a="function"==typeof setImmediate?function(a){setImmediate(a)}:"object"==typeof process&&process.nextTick?function(a){process.nextTick(a)}:function(a){b(a,0)};var c=function(a){return a},d=function(a){throw a},e=function(a){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof a){var b=this;a(function(a){j(b,a)},function(a){l(b,a)})}};e.prototype.then=function(a,b){var c=new e;return f(this,a,c),g(this,b,c),c};var f=function(a,b,d){"function"!=typeof b&&(b=c);var e=function(a){h(b,a,d)};0===a._state?a._onFulfilled.push(e):1===a._state&&e(a._value)},g=function(a,b,c){"function"!=typeof b&&(b=d);var e=function(a){h(b,a,c)};0===a._state?a._onRejected.push(e):2===a._state&&e(a._reason)},h=function(b,c,d){a(function(){i(b,c,d)})},i=function(a,b,c){var d;try{d=a(b)}catch(a){return l(c,a)}d===c?l(c,new TypeError("Recursive promise chain detected")):j(c,d)},j=e.fulfill=e.resolve=function(a,b){var c,d,e=!1;try{if(c=typeof b,"function"!=typeof(d=null!==b&&("function"===c||"object"===c)&&b.then))return k(a,b);d.call(b,function(b){e^(e=!0)&&j(a,b)},function(b){e^(e=!0)&&l(a,b)})}catch(b){if(!(e^(e=!0)))return;l(a,b)}},k=function(a,b){if(0===a._state){a._state=1,a._value=b,a._onRejected=[];for(var c,d=a._onFulfilled;c=d.shift();)c(b)}},l=e.reject=function(a,b){if(0===a._state){a._state=2,a._reason=b,a._onFulfilled=[];for(var c,d=a._onRejected;c=d.shift();)c(b)}};e.all=function(a){return new e(function(b,c){var d,f=[],g=a.length;if(0===g)return b(f);for(d=0;d<g;d++)!function(a,d){e.fulfilled(a).then(function(a){f[d]=a,0==--g&&b(f)},c)}(a[d],d)})},e.defer=a,e.deferred=e.pending=function(){var a={};return a.promise=new e(function(b,c){a.fulfill=a.resolve=b,a.reject=c}),a},e.fulfilled=e.resolved=function(a){return new e(function(b,c){b(a)})},e.rejected=function(a){return new e(function(b,c){c(a)})},void 0===Faye?module.exports=e:Faye.Promise=e}(),Faye.Set=Faye.Class({initialize:function(){this._index={}},add:function(a){var b=void 0!==a.id?a.id:a;return!this._index.hasOwnProperty(b)&&(this._index[b]=a,!0)},forEach:function(a,b){for(var c in this._index)this._index.hasOwnProperty(c)&&a.call(b,this._index[c])},isEmpty:function(){for(var a in this._index)if(this._index.hasOwnProperty(a))return!1;return!0},member:function(a){for(var b in this._index)if(this._index[b]===a)return!0;return!1},remove:function(a){var b=void 0!==a.id?a.id:a,c=this._index[b];return delete this._index[b],c},toArray:function(){var a=[];return this.forEach(function(b){a.push(b)}),a}}),Faye.URI={isURI:function(a){return a&&a.protocol&&a.host&&a.path},isSameOrigin:function(a){var b=Faye.ENV.location;return a.protocol===b.protocol&&a.hostname===b.hostname&&a.port===b.port},parse:function(a){if("string"!=typeof a)return a;var b,c,d,e,f,g,h={},i=function(b,c){a=a.replace(c,function(a){return h[b]=a,""}),h[b]=h[b]||""};for(i("protocol",/^[a-z]+\:/i),i("host",/^\/\/[^\/\?#]+/),/^\//.test(a)||h.host||(a=Faye.ENV.location.pathname.replace(/[^\/]*$/,"")+a),i("pathname",/^[^\?#]*/),i("search",/^\?[^#]*/),i("hash",/^#.*/),h.protocol=h.protocol||Faye.ENV.location.protocol,h.host?(h.host=h.host.substr(2),b=h.host.split(":"),h.hostname=b[0],h.port=b[1]||""):(h.host=Faye.ENV.location.host,h.hostname=Faye.ENV.location.hostname,h.port=Faye.ENV.location.port),h.pathname=h.pathname||"/",h.path=h.pathname+h.search,c=h.search.replace(/^\?/,""),d=c?c.split("&"):[],g={},e=0,f=d.length;e<f;e++)b=d[e].split("="),g[decodeURIComponent(b[0]||"")]=decodeURIComponent(b[1]||"");return h.query=g,h.href=this.stringify(h),h},stringify:function(a){var b=a.protocol+"//"+a.hostname;return a.port&&(b+=":"+a.port),b+=a.pathname+this.queryString(a.query)+(a.hash||"")},queryString:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return 0===b.length?"":"?"+b.join("&")}},Faye.Error=Faye.Class({initialize:function(a,b,c){this.code=a,this.params=Array.prototype.slice.call(b),this.message=c},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}}),Faye.Error.parse=function(a){if(a=a||"",!Faye.Grammar.ERROR.test(a))return new this(null,[],a);var b=a.split(":"),c=parseInt(b[0]),d=b[1].split(","),a=b[2];return new this(c,d,a)},Faye.Error.versionMismatch=function(){return new this(300,arguments,"Version mismatch").toString()},Faye.Error.conntypeMismatch=function(){return new this(301,arguments,"Connection types not supported").toString()},Faye.Error.extMismatch=function(){return new this(302,arguments,"Extension mismatch").toString()},Faye.Error.badRequest=function(){return new this(400,arguments,"Bad request").toString()},Faye.Error.clientUnknown=function(){return new this(401,arguments,"Unknown client").toString()},Faye.Error.parameterMissing=function(){return new this(402,arguments,"Missing required parameter").toString()},Faye.Error.channelForbidden=function(){return new this(403,arguments,"Forbidden channel").toString()},Faye.Error.channelUnknown=function(){return new this(404,arguments,"Unknown channel").toString()},Faye.Error.channelInvalid=function(){return new this(405,arguments,"Invalid channel").toString()},Faye.Error.extUnknown=function(){return new this(406,arguments,"Unknown extension").toString()},Faye.Error.publishFailed=function(){return new this(407,arguments,"Failed to publish").toString()},Faye.Error.serverError=function(){return new this(500,arguments,"Internal server error").toString()},Faye.Deferrable={then:function(a,b){var c=this;return this._promise||(this._promise=new Faye.Promise(function(a,b){c._fulfill=a,c._reject=b})),0===arguments.length?this._promise:this._promise.then(a,b)},callback:function(a,b){return this.then(function(c){a.call(b,c)})},errback:function(a,b){return this.then(null,function(c){a.call(b,c)})},timeout:function(a,b){this.then();var c=this;this._timer=Faye.ENV.setTimeout(function(){c._reject(b)},1e3*a)},setDeferredStatus:function(a,b){this._timer&&Faye.ENV.clearTimeout(this._timer),this.then(),"succeeded"===a?this._fulfill(b):"failed"===a?this._reject(b):delete this._promise}},Faye.Publisher={countListeners:function(a){return this.listeners(a).length},bind:function(a,b,c){var d=Array.prototype.slice,e=function(){b.apply(c,d.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([a,b,c,e]),this.on(a,e)},unbind:function(a,b,c){this._listeners=this._listeners||[];for(var d,e=this._listeners.length;e--;)d=this._listeners[e],d[0]===a&&(!b||d[1]===b&&d[2]===c)&&(this._listeners.splice(e,1),this.removeListener(a,d[3]))}},Faye.extend(Faye.Publisher,Faye.EventEmitter.prototype),Faye.Publisher.trigger=Faye.Publisher.emit,Faye.Timeouts={addTimeout:function(a,b,c,d){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(a)){var e=this;this._timeouts[a]=Faye.ENV.setTimeout(function(){delete e._timeouts[a],c.call(d)},1e3*b)}},removeTimeout:function(a){this._timeouts=this._timeouts||{};var b=this._timeouts[a];b&&(Faye.ENV.clearTimeout(b),delete this._timeouts[a])},removeAllTimeouts:function(){this._timeouts=this._timeouts||{};for(var a in this._timeouts)this.removeTimeout(a)}},Faye.Logging={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(a,b){if(Faye.logger){var c=Array.prototype.slice.apply(a),d="[Faye",e=this.className,f=c.shift().replace(/\?/g,function(){try{return Faye.toJSON(c.shift())}catch(a){return"[Object]"}});for(var g in Faye)e||"function"==typeof Faye[g]&&this instanceof Faye[g]&&(e=g);e&&(d+="."+e),d+="] ","function"==typeof Faye.logger[b]?Faye.logger[b](d+f):"function"==typeof Faye.logger&&Faye.logger(d+f)}}},function(){for(var a in Faye.Logging.LOG_LEVELS)!function(a){Faye.Logging[a]=function(){this.writeLog(arguments,a)}}(a)}(),Faye.Grammar={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/},Faye.Extensible={addExtension:function(a){this._extensions=this._extensions||[],this._extensions.push(a),a.added&&a.added(this)},removeExtension:function(a){if(this._extensions)for(var b=this._extensions.length;b--;)this._extensions[b]===a&&(this._extensions.splice(b,1),a.removed&&a.removed(this))},pipeThroughExtensions:function(a,b,c,d,e){if(this.debug("Passing through ? extensions: ?",a,b),!this._extensions)return d.call(e,b);var f=this._extensions.slice(),g=function(b){if(!b)return d.call(e,b);var h=f.shift();if(!h)return d.call(e,b);var i=h[a];if(!i)return g(b);i.length>=3?h[a](b,c,g):h[a](b,g)};g(b)}},Faye.extend(Faye.Extensible,Faye.Logging),Faye.Channel=Faye.Class({initialize:function(a){this.id=this.name=a},push:function(a){this.trigger("message",a)},isUnused:function(){return 0===this.countListeners("message")}}),Faye.extend(Faye.Channel.prototype,Faye.Publisher),Faye.extend(Faye.Channel,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(a){var b=this.parse(a),c=["/**",a],d=b.slice();d[d.length-1]="*",c.push(this.unparse(d));for(var e=1,f=b.length;e<f;e++)d=b.slice(0,e),d.push("**"),c.push(this.unparse(d));return c},isValid:function(a){return Faye.Grammar.CHANNEL_NAME.test(a)||Faye.Grammar.CHANNEL_PATTERN.test(a)},parse:function(a){return this.isValid(a)?a.split("/").slice(1):null},unparse:function(a){return"/"+a.join("/")},isMeta:function(a){var b=this.parse(a);return b?b[0]===this.META:null},isService:function(a){var b=this.parse(a);return b?b[0]===this.SERVICE:null},isSubscribable:function(a){return this.isValid(a)?!this.isMeta(a)&&!this.isService(a):null},Set:Faye.Class({initialize:function(){this._channels={}},getKeys:function(){var a=[];for(var b in this._channels)a.push(b);return a},remove:function(a){delete this._channels[a]},hasSubscription:function(a){return this._channels.hasOwnProperty(a)},subscribe:function(a,b,c){for(var d,e=0,f=a.length;e<f;e++){d=a[e];var g=this._channels[d]=this._channels[d]||new Faye.Channel(d);b&&g.bind("message",b,c)}},unsubscribe:function(a,b,c){var d=this._channels[a];return!!d&&(d.unbind("message",b,c),
!!d.isUnused()&&(this.remove(a),!0))},distributeMessage:function(a){for(var b=Faye.Channel.expand(a.channel),c=0,d=b.length;c<d;c++){var e=this._channels[b[c]];e&&e.trigger("message",a.data)}}})}),Faye.Publication=Faye.Class(Faye.Deferrable),Faye.Subscription=Faye.Class({initialize:function(a,b,c,d){this._client=a,this._channels=b,this._callback=c,this._context=d,this._cancelled=!1},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this._callback,this._context),this._cancelled=!0)},unsubscribe:function(){this.cancel()}}),Faye.extend(Faye.Subscription.prototype,Faye.Deferrable),Faye.Client=Faye.Class({UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(a,b){this.info("New client created for ?",a),b=b||{},Faye.validateOptions(b,["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._endpoint=a||this.DEFAULT_ENDPOINT,this._channels=new Faye.Channel.Set,this._dispatcher=new Faye.Dispatcher(this,this._endpoint,b),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(b.interval||this.INTERVAL),timeout:1e3*(b.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),Faye.Event&&void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",function(){Faye.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(a){return this._dispatcher.addWebsocketExtension(a)},disable:function(a){return this._dispatcher.disable(a)},setHeader:function(a,b){return this._dispatcher.setHeader(a,b)},handshake:function(a,b){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var c=this;this.info("Initiating handshake with ?",Faye.URI.stringify(this._endpoint)),this._dispatcher.selectTransport(Faye.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:Faye.Channel.HANDSHAKE,version:Faye.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(d){d.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=d.clientId,this._dispatcher.selectTransport(d.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),a&&Faye.Promise.defer(function(){a.call(b)})):(this.info("Handshake unsuccessful"),Faye.ENV.setTimeout(function(){c.handshake(a,b)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(a,b){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(a,b)},this);this.callback(a,b),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:Faye.Channel.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var a=new Faye.Publication;return this._sendMessage({channel:Faye.Channel.DISCONNECT,clientId:this._dispatcher.clientId},{},function(b){b.successful?(this._dispatcher.close(),a.setDeferredStatus("succeeded")):a.setDeferredStatus("failed",Faye.Error.parse(b.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new Faye.Channel.Set,a}},subscribe:function(a,b,c){if(a instanceof Array)return Faye.map(a,function(a){return this.subscribe(a,b,c)},this);var d=new Faye.Subscription(this,a,b,c),e=!0===b;return this._channels.hasSubscription(a)&&!e?(this._channels.subscribe([a],b,c),d.setDeferredStatus("succeeded"),d):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,a),e||this._channels.subscribe([a],b,c),this._sendMessage({channel:Faye.Channel.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:a},{},function(e){if(!e.successful)return d.setDeferredStatus("failed",Faye.Error.parse(e.error)),this._channels.unsubscribe(a,b,c);var f=[].concat(e.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,f),d.setDeferredStatus("succeeded")},this)},this),d)},unsubscribe:function(a,b,c){if(a instanceof Array)return Faye.map(a,function(a){return this.unsubscribe(a,b,c)},this);this._channels.unsubscribe(a,b,c)&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,a),this._sendMessage({channel:Faye.Channel.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:a},{},function(a){if(a.successful){var b=[].concat(a.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,b)}},this)},this)},publish:function(a,b,c){Faye.validateOptions(c||{},["attempts","deadline"]);var d=new Faye.Publication;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,a,b),this._sendMessage({channel:a,data:b,clientId:this._dispatcher.clientId},c,function(a){a.successful?d.setDeferredStatus("succeeded"):d.setDeferredStatus("failed",Faye.Error.parse(a.error))},this)},this),d},_sendMessage:function(a,b,c,d){a.id=this._generateMessageId();var e=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",a,null,function(a){a&&(c&&(this._responseCallbacks[a.id]=[c,d]),this._dispatcher.sendMessage(a,e,b||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(a){var b,c=a.id;void 0!==a.successful&&(b=this._responseCallbacks[c],delete this._responseCallbacks[c]),this.pipeThroughExtensions("incoming",a,null,function(a){a&&(a.advice&&this._handleAdvice(a.advice),this._deliverMessage(a),b&&b[0].call(b[1],a))},this)},_handleAdvice:function(a){Faye.extend(this._advice,a),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(a){a.channel&&void 0!==a.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,a.channel,a.data),this._channels.distributeMessage(a))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var a=this;Faye.ENV.setTimeout(function(){a.connect()},this._advice.interval)}}),Faye.extend(Faye.Client.prototype,Faye.Deferrable),Faye.extend(Faye.Client.prototype,Faye.Publisher),Faye.extend(Faye.Client.prototype,Faye.Logging),Faye.extend(Faye.Client.prototype,Faye.Extensible),Faye.Dispatcher=Faye.Class({MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(a,b,c){this._client=a,this.endpoint=Faye.URI.parse(b),this._alternates=c.endpoints||{},this.cookies=Faye.Cookies&&new Faye.Cookies.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=c.retry||this.DEFAULT_RETRY,this._scheduler=c.scheduler||Faye.Scheduler,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=c.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var d=c.websocketExtensions;if(d){d=[].concat(d);for(var e=0,f=d.length;e<f;e++)this.addWebsocketExtension(d[e])}this.tls=c.tls||{},this.tls.ca=this.tls.ca||c.ca;for(var g in this._alternates)this._alternates[g]=Faye.URI.parse(this._alternates[g]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(a){return this._alternates[a]||this.endpoint},addWebsocketExtension:function(a){this.wsExtensions.push(a)},disable:function(a){this._disabled.push(a)},setHeader:function(a,b){this.headers[a]=b},close:function(){var a=this._transport;delete this._transport,a&&a.close()},getConnectionTypes:function(){return Faye.Transport.getConnectionTypes()},selectTransport:function(a){Faye.Transport.get(this,a,this._disabled,function(a){this.debug("Selected ? transport for ?",a.connectionType,Faye.URI.stringify(a.endpoint)),a!==this._transport&&(this._transport&&this._transport.close(),this._transport=a,this.connectionType=a.connectionType)},this)},sendMessage:function(a,b,c){if(this._transport){c=c||{};var d,e=a.id,f=c.attempts,g=c.deadline&&(new Date).getTime()+1e3*c.deadline,h=this._envelopes[e];h||(d=new this._scheduler(a,{timeout:b,interval:this.retry,attempts:f,deadline:g}),h=this._envelopes[e]={message:a,scheduler:d}),this._sendEnvelope(h)}},_sendEnvelope:function(a){if(!a.request&&!a.timer){var b=a.message,c=a.scheduler,d=this;if(!c.isDeliverable())return c.abort(),void delete this._envelopes[b.id];a.timer=Faye.ENV.setTimeout(function(){d.handleError(b)},1e3*c.getTimeout()),c.send(),a.request=this._transport.sendMessage(b)}},handleResponse:function(a){var b=this._envelopes[a.id];void 0!==a.successful&&b&&(b.scheduler.succeed(),delete this._envelopes[a.id],Faye.ENV.clearTimeout(b.timer)),this.trigger("message",a),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(a,b){var c=this._envelopes[a.id],d=c&&c.request,e=this;if(d){d.then(function(a){a&&a.abort&&a.abort()});var f=c.scheduler;f.fail(),Faye.ENV.clearTimeout(c.timer),c.request=c.timer=null,b?this._sendEnvelope(c):c.timer=Faye.ENV.setTimeout(function(){c.timer=null,e._sendEnvelope(c)},1e3*f.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}}),Faye.extend(Faye.Dispatcher.prototype,Faye.Publisher),Faye.extend(Faye.Dispatcher.prototype,Faye.Logging),Faye.Scheduler=function(a,b){this.message=a,this.options=b,this.attempts=0},Faye.extend(Faye.Scheduler.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var a=this.options.attempts,b=this.attempts,c=this.options.deadline,d=(new Date).getTime();return!(void 0!==a&&b>=a)&&!(void 0!==c&&d>c)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),Faye.Transport=Faye.extend(Faye.Class({DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},SECURE_PROTOCOLS:["https:","wss:"],MAX_DELAY:0,batching:!0,initialize:function(a,b){this._dispatcher=a,this.endpoint=b,this._outbox=[],this._proxy=Faye.extend({},this._dispatcher.proxy),!this._proxy.origin&&Faye.NodeAdapter&&(this._proxy.origin=Faye.indexOf(this.SECURE_PROTOCOLS,this.endpoint.protocol)>=0?process.env.HTTPS_PROXY||process.env.https_proxy:process.env.HTTP_PROXY||process.env.http_proxy)},close:function(){},encode:function(a){return""},sendMessage:function(a){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),a),this.batching?(this._outbox.push(a),this._flushLargeBatch(),this._promise=this._promise||new Faye.Promise,a.channel===Faye.Channel.HANDSHAKE?(this.addTimeout("publish",.01,this._flush,this),this._promise):(a.channel===Faye.Channel.CONNECT&&(this._connectMessage=a),this.addTimeout("publish",this.MAX_DELAY,this._flush,this),this._promise)):Faye.Promise.fulfilled(this.request([a]))},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),Faye.Promise.fulfill(this._promise,this.request(this._outbox)),delete this._promise,this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var a=this._outbox.pop();this._flush(),a&&this._outbox.push(a)}},_receive:function(a){a=[].concat(a),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),this.connectionType,a);for(var b=0,c=a.length;b<c;b++)this._dispatcher.handleResponse(a[b])},_handleError:function(a,b){a=[].concat(a),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,Faye.URI.stringify(this.endpoint),this.connectionType,a);for(var c=0,d=a.length;c<d;c++)this._dispatcher.handleError(a[c])},_getCookies:function(){var a=this._dispatcher.cookies,b=Faye.URI.stringify(this.endpoint);return a?Faye.map(a.getCookiesSync(b),function(a){return a.cookieString()}).join("; "):""},_storeCookies:function(a){var b,c=this._dispatcher.cookies,d=Faye.URI.stringify(this.endpoint);if(a&&c){a=[].concat(a);for(var e=0,f=a.length;e<f;e++)b=Faye.Cookies.Cookie.parse(a[e]),c.setCookieSync(b,d)}}}),{get:function(a,b,c,d,e){var f=a.endpoint;Faye.asyncEach(this._transports,function(f,g){var h=f[0],i=f[1],j=a.endpointFor(h);return Faye.indexOf(c,h)>=0?g():Faye.indexOf(b,h)<0?(i.isUsable(a,j,function(){}),g()):void i.isUsable(a,j,function(b){if(!b)return g();var c=i.hasOwnProperty("create")?i.create(a,j):new i(a,j);d.call(e,c)})},function(){throw new Error("Could not find a usable connection type for "+Faye.URI.stringify(f))})},register:function(a,b){this._transports.push([a,b]),b.prototype.connectionType=a},getConnectionTypes:function(){return Faye.map(this._transports,function(a){return a[0]})},_transports:[]}),Faye.extend(Faye.Transport.prototype,Faye.Logging),Faye.extend(Faye.Transport.prototype,Faye.Timeouts),Faye.Event={_registry:[],on:function(a,b,c,d){var e=function(){c.call(d)};a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent("on"+b,e),this._registry.push({_element:a,_type:b,_callback:c,_context:d,_handler:e})},detach:function(a,b,c,d){for(var e,f=this._registry.length;f--;)e=this._registry[f],a&&a!==e._element||b&&b!==e._type||c&&c!==e._callback||d&&d!==e._context||(e._element.removeEventListener?e._element.removeEventListener(e._type,e._handler,!1):e._element.detachEvent("on"+e._type,e._handler),this._registry.splice(f,1),e=null)}},void 0!==Faye.ENV.onunload&&Faye.Event.on(Faye.ENV,"unload",Faye.Event.detach,Faye.Event),"object"!=typeof JSON&&(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;Faye.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},"function"!=typeof JSON.stringify&&(JSON.stringify=Faye.stringify),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Faye.Transport.WebSocket=Faye.extend(Faye.Class(Faye.Transport,{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(a,b){this.callback(function(){a.call(b,!0)}),this.errback(function(){a.call(b,!1)}),this.connect()},request:function(a){this._pending=this._pending||new Faye.Set;for(var b=0,c=a.length;b<c;b++)this._pending.add(a[b]);var d=new Faye.Promise;return this.callback(function(b){b&&(b.send(Faye.toJSON(a)),Faye.Promise.fulfill(d,b))},this),this.connect(),{abort:function(){d.then(function(a){a.close()})}}},connect:function(){if(!Faye.Transport.WebSocket._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var a=this._createSocket();if(!a)return this.setDeferredStatus("failed");var b=this;a.onopen=function(){a.headers&&b._storeCookies(a.headers["set-cookie"]),b._socket=a,b._state=b.CONNECTED,b._everConnected=!0,b._ping(),b.setDeferredStatus("succeeded",a)};var c=!1;a.onclose=a.onerror=function(){if(!c){c=!0;var d=b._state===b.CONNECTED;a.onopen=a.onclose=a.onerror=a.onmessage=null,delete b._socket,b._state=b.UNCONNECTED,b.removeTimeout("ping"),b.setDeferredStatus("unknown");var e=b._pending?b._pending.toArray():[];delete b._pending,d?b._handleError(e,!0):b._everConnected?b._handleError(e):b.setDeferredStatus("failed")}},a.onmessage=function(a){var c=JSON.parse(a.data);if(c){c=[].concat(c);for(var d=0,e=c.length;d<e;d++)void 0!==c[d].successful&&b._pending.remove(c[d]);b._receive(c)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var a=Faye.Transport.WebSocket.getSocketUrl(this.endpoint),b=this._dispatcher.headers,c=this._dispatcher.wsExtensions,d=this._getCookies(),e=this._dispatcher.tls,f={extensions:c,headers:b,proxy:this._proxy,tls:e};return""!==d&&(f.headers.Cookie=d),Faye.WebSocket?new Faye.WebSocket.Client(a,[],f):Faye.ENV.MozWebSocket?new MozWebSocket(a):Faye.ENV.WebSocket?new WebSocket(a):void 0},_ping:function(){this._socket&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(a,b){var c=a.transports.websocket=a.transports.websocket||{};return c[b.href]=c[b.href]||new this(a,b),c[b.href]},getSocketUrl:function(a){return a=Faye.copyObject(a),a.protocol=this.PROTOCOLS[a.protocol],Faye.URI.stringify(a)},isUsable:function(a,b,c,d){this.create(a,b).isUsable(c,d)}}),Faye.extend(Faye.Transport.WebSocket.prototype,Faye.Deferrable),Faye.Transport.register("websocket",Faye.Transport.WebSocket),Faye.Event&&void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",function(){Faye.Transport.WebSocket._unloaded=!0}),Faye.Transport.EventSource=Faye.extend(Faye.Class(Faye.Transport,{initialize:function(a,b){if(Faye.Transport.prototype.initialize.call(this,a,b),!Faye.ENV.EventSource)return this.setDeferredStatus("failed");this._xhr=new Faye.Transport.XHR(a,b),b=Faye.copyObject(b),b.pathname+="/"+a.clientId;var c=new EventSource(Faye.URI.stringify(b)),d=this;c.onopen=function(){d._everConnected=!0,d.setDeferredStatus("succeeded")},c.onerror=function(){d._everConnected?d._handleError([]):(d.setDeferredStatus("failed"),c.close())},c.onmessage=function(a){d._receive(JSON.parse(a.data))},this._socket=c},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(a,b){this.callback(function(){a.call(b,!0)}),this.errback(function(){a.call(b,!1)})},encode:function(a){return this._xhr.encode(a)},request:function(a){return this._xhr.request(a)}}),{isUsable:function(a,b,c,d){if(!a.clientId)return c.call(d,!1);Faye.Transport.XHR.isUsable(a,b,function(e){if(!e)return c.call(d,!1);this.create(a,b).isUsable(c,d)},this)},create:function(a,b){var c=a.transports.eventsource=a.transports.eventsource||{},d=a.clientId;b=Faye.copyObject(b),b.pathname+="/"+(d||"");var e=Faye.URI.stringify(b);return c[e]=c[e]||new this(a,b),c[e]}}),Faye.extend(Faye.Transport.EventSource.prototype,Faye.Deferrable),Faye.Transport.register("eventsource",Faye.Transport.EventSource),Faye.Transport.XHR=Faye.extend(Faye.Class(Faye.Transport,{encode:function(a){return Faye.toJSON(a)},request:function(a){var b=this.endpoint.href,c=Faye.ENV.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,d=this;c.open("POST",b,!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Pragma","no-cache"),c.setRequestHeader("X-Requested-With","XMLHttpRequest");var e=this._dispatcher.headers;for(var f in e)e.hasOwnProperty(f)&&c.setRequestHeader(f,e[f]);var g=function(){c.abort()};return void 0!==Faye.ENV.onbeforeunload&&Faye.Event.on(Faye.ENV,"beforeunload",g),c.onreadystatechange=function(){if(c&&4===c.readyState){var b=null,e=c.status,f=c.responseText,h=e>=200&&e<300||304===e||1223===e;if(void 0!==Faye.ENV.onbeforeunload&&Faye.Event.detach(Faye.ENV,"beforeunload",g),c.onreadystatechange=function(){},c=null,!h)return d._handleError(a);try{b=JSON.parse(f)}catch(a){}b?d._receive(b):d._handleError(a)}},c.send(this.encode(a)),c}}),{isUsable:function(a,b,c,d){c.call(d,Faye.URI.isSameOrigin(b))}}),Faye.Transport.register("long-polling",Faye.Transport.XHR),Faye.Transport.CORS=Faye.extend(Faye.Class(Faye.Transport,{encode:function(a){return"message="+encodeURIComponent(Faye.toJSON(a))},request:function(a){var b,c=Faye.ENV.XDomainRequest?XDomainRequest:XMLHttpRequest,d=new c,e=this._dispatcher.headers,f=this;if(d.open("POST",Faye.URI.stringify(this.endpoint),!0),d.setRequestHeader){d.setRequestHeader("Pragma","no-cache");for(b in e)e.hasOwnProperty(b)&&d.setRequestHeader(b,e[b])}var g=function(){if(!d)return!1;d.onload=d.onerror=d.ontimeout=d.onprogress=null,d=null};return d.onload=function(){var b=null;try{b=JSON.parse(d.responseText)}catch(a){}g(),b?f._receive(b):f._handleError(a)},d.onerror=d.ontimeout=function(){g(),f._handleError(a)},d.onprogress=function(){},d.send(this.encode(a)),d}}),{isUsable:function(a,b,c,d){if(Faye.URI.isSameOrigin(b))return c.call(d,!1);if(Faye.ENV.XDomainRequest)return c.call(d,b.protocol===Faye.ENV.location.protocol);if(Faye.ENV.XMLHttpRequest){var e=new Faye.ENV.XMLHttpRequest;return c.call(d,void 0!==e.withCredentials)}return c.call(d,!1)}}),Faye.Transport.register("cross-origin-long-polling",Faye.Transport.CORS),Faye.Transport.JSONP=Faye.extend(Faye.Class(Faye.Transport,{encode:function(a){var b=Faye.copyObject(this.endpoint);return b.query.message=Faye.toJSON(a),b.query.jsonp="__jsonp"+Faye.Transport.JSONP._cbCount+"__",Faye.URI.stringify(b)},request:function(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("script"),d=Faye.Transport.JSONP.getCallbackName(),e=Faye.copyObject(this.endpoint),f=this;e.query.message=Faye.toJSON(a),e.query.jsonp=d;var g=function(){if(!Faye.ENV[d])return!1;Faye.ENV[d]=void 0;try{delete Faye.ENV[d]}catch(a){}c.parentNode.removeChild(c)};return Faye.ENV[d]=function(a){g(),f._receive(a)},c.type="text/javascript",c.src=Faye.URI.stringify(e),b.appendChild(c),c.onerror=function(){g(),f._handleError(a)},{abort:g}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(a,b,c,d){c.call(d,!0)}}),Faye.Transport.register("callback-polling",Faye.Transport.JSONP)}(),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j.default,a.Exception=l.default,a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(1).default,f=c(2).default;b.__esModule=!0;var g=c(3),h=e(g),i=c(17),j=f(i),k=c(5),l=f(k),m=c(4),n=e(m),o=c(18),p=e(o),q=c(19),r=f(q),s=d();s.create=d,r.default(s),s.default=s,b.default=s,a.exports=b.default},function(a,b){"use strict";b.default=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b},b.__esModule=!0},function(a,b){"use strict";b.default=function(a){return a&&a.__esModule?a:{default:a}},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(2).default;b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(4),g=c(5),h=e(g),i=c(6),j=c(14),k=c(16),l=e(k);b.VERSION="4.0.5";b.COMPILER_REVISION=7;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=m;d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(a,b){if("[object Object]"===f.toString.call(a)){if(b)throw new h.default("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if("[object Object]"===f.toString.call(a))f.extend(this.partials,a);else{if(void 0===b)throw new h.default('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if("[object Object]"===f.toString.call(a)){if(b)throw new h.default("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var n=l.default.log;b.log=n,b.createFrame=f.createFrame,b.logger=l.default},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){g.default(a),i.default(a),k.default(a),m.default(a),o.default(a),q.default(a),s.default(a)}var e=c(2).default;b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(7),g=e(f),h=c(8),i=e(h),j=c(9),k=e(j),l=c(10),m=e(l),n=c(11),o=e(n),p=c(12),q=e(p),r=c(13),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b.default=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===b||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b.default},function(a,b,c){"use strict";var d=c(2).default;b.__esModule=!0;var e=c(4),f=c(5),g=d(f);b.default=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g.default("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;h<l;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b.default},function(a,b,c){"use strict";var d=c(2).default;b.__esModule=!0;var e=c(5),f=d(e);b.default=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b.default=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b.default=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b.default},function(a,b,c){"use strict";function d(a){g.default(a)}
var e=c(2).default;b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(15),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4);b.default=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(4),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b.default=e,a.exports=b.default},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(b<c){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q.default("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q.default("No environment passed to template");if(!a||!a.main)throw new q.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q.default('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new q.default("must pass block params");if(a.useDepths&&!g)throw new q.default("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==i&&(c.data=r.createFrame(c.data),d=c.data["partial-block"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q.default("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}var l=c(1).default,m=c(2).default;b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var n=c(4),o=l(n),p=c(5),q=m(p),r=c(3)},function(a,b){(function(c){"use strict";b.__esModule=!0,b.default=function(a){var b=void 0!==c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b.default}).call(b,function(){return this}())}])}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(a){return function(){return this[a].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split("-")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;c<d;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a(b).data("datepicker",this),this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(a,c){return 0===a||"days"===a||"month"===a?0:1===a||"months"===a||"year"===a?1:2===a||"years"===a||"decade"===a?2:3===a||"decades"===a||"century"===a?3:4===a||"centuries"===a||"millennium"===a?4:c!==b&&c},_check_template:function(c){try{if(c===b||""===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;return a(c).length>0}catch(a){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split("-")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView,0),e.minViewMode=this._resolveViewName(e.minViewMode,0),e.maxViewMode=this._resolveViewName(e.maxViewMode,4),e.startView=Math.min(e.startView,e.maxViewMode),e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],a.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=a.map(e.daysOfWeekDisabled,function(a){return parseInt(a,10)}),e.daysOfWeekHighlighted=e.daysOfWeekHighlighted||[],a.isArray(e.daysOfWeekHighlighted)||(e.daysOfWeekHighlighted=e.daysOfWeekHighlighted.split(/[,\s]*/)),e.daysOfWeekHighlighted=a.map(e.daysOfWeekHighlighted,function(a){return parseInt(a,10)}),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=[e.datesDisabled]),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===h.length)switch(h[0]){case"top":case"bottom":e.orientation.y=h[0];break;case"left":case"right":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||"auto",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||"auto";else;if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.hasInput?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;c=window.clipboardData.getData("Text")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return void 0!==a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){this._process_options({datesDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=a(this.o.container),e=d.width(),f="body"===this.o.container?a(document).scrollTop():d.scrollTop(),g=d.offset(),h=[];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==b&&h.push(parseInt(b))});var i=Math.max.apply(Math,h)+this.o.zIndexOffset,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left-g.left,n=j.top-g.top;"body"!==this.o.container&&(n+=f),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(m-=b-l)):j.left<0?(this.picker.addClass("datepicker-orient-left"),m-=j.left-10):m+b>e?(this.picker.addClass("datepicker-orient-right"),m+=l-b):this.picker.addClass("datepicker-orient-left");var o,p=this.o.orientation.y;if("auto"===p&&(o=-f+n-c,p=o<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?n-=c+parseInt(this.picker.css("padding-top")):n+=k,this.o.rtl){var q=e-(m+l);this.picker.css({top:n,right:q,zIndex:i})}else this.picker.css({top:n,left:m,zIndex:i});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&b.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var b=this.o.weekStart,c="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),c+='<th class="cw">&#160;</th>');b<this.o.weekStart+7;)c+='<th class="dow',a.inArray(b,this.o.daysOfWeekDisabled)>-1&&(c+=" disabled"),c+='">'+q[this.o.language].daysMin[b++%7]+"</th>";c+="</tr>",this.picker.find(".datepicker-days thead").append(c)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b="",c=0;c<12;){b+='<span class="month'+(a&&a.getMonth()===c?" focused":"")+'">'+q[this.o.language].monthsShort[c++]+"</span>"}this.picker.find(".datepicker-months td").html(b)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today"),-1!==this.dates.contains(b)&&c.push("active"),this.dateWithinRange(b)||c.push("disabled"),this.dateIsDisabled(b)&&c.push("disabled","disabled-date"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end")),c},_fill_yearsView:function(c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u;for(k="",l=this.picker.find(c),m=parseInt(g/e,10)*e,o=parseInt(h/f,10)*f,p=parseInt(i/f,10)*f,n=a.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/f,10)*f}),l.find(".datepicker-switch").text(m+"-"+(m+9*f)),q=m-f,r=-1;r<11;r+=1)s=[d],t=null,-1===r?s.push("old"):10===r&&s.push("new"),-1!==a.inArray(q,n)&&s.push("active"),(q<o||q>p)&&s.push("disabled"),q===this.viewDate.getFullYear()&&s.push("focused"),j!==a.noop&&(u=j(new Date(q,0,1)),u===b?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(t=u.tooltip)),k+='<span class="'+s.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+q+"</span>",q+=f;l.find("td").html(k)},fill:function(){var d,e,f=new Date(this.viewDate),g=f.getUTCFullYear(),h=f.getUTCMonth(),i=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,j=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,k=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=q[this.o.language].today||q.en.today||"",n=q[this.o.language].clear||q.en.clear||"",o=q[this.o.language].titleFormat||q.en.titleFormat;if(!isNaN(g)&&!isNaN(h)){this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(f,o,this.o.language)),this.picker.find("tfoot .today").text(m).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(n).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var p=c(g,h-1,28),s=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(s),p.setUTCDate(s-(p.getUTCDay()-this.o.weekStart+7)%7);var t=new Date(p);p.getUTCFullYear()<100&&t.setUTCFullYear(p.getUTCFullYear()),t.setUTCDate(t.getUTCDate()+42),t=t.valueOf();for(var u,v=[];p.valueOf()<t;){if(p.getUTCDay()===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),y=new Date(Number(y=c(x.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),z=(x-y)/864e5/7+1;v.push('<td class="cw">'+z+"</td>")}u=this.getClassNames(p),u.push("day"),this.o.beforeShowDay!==a.noop&&(e=this.o.beforeShowDay(this._utc_to_local(p)),e===b?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&u.push("disabled"),e.classes&&(u=u.concat(e.classes.split(/\s+/))),e.tooltip&&(d=e.tooltip)),u=a.isFunction(a.uniqueSort)?a.uniqueSort(u):a.unique(u),v.push('<td class="'+u.join(" ")+'"'+(d?' title="'+d+'"':"")+">"+p.getUTCDate()+"</td>"),d=null,p.getUTCDay()===this.o.weekEnd&&v.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var A=q[this.o.language].monthsTitle||q.en.monthsTitle||"Months",B=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?A:g).end().find("span").removeClass("active");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===g&&B.eq(b.getUTCMonth()).addClass("active")}),(g<i||g>k)&&B.addClass("disabled"),g===i&&B.slice(0,j).addClass("disabled"),g===k&&B.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==a.noop){var C=this;a.each(B,function(c,d){var e=new Date(g,c,1),f=C.o.beforeShowMonth(e);f===b?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1!==f.enabled||a(d).hasClass("disabled")||a(d).addClass("disabled"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop("title",f.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,g,i,k,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,g,i,k,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,g,i,k,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h,i,j,k;e=a(b.target),e.hasClass("datepicker-switch")&&this.showMode(1);var l=e.closest(".prev, .next");l.length>0&&(f=r.modes[this.viewMode].navStep*(l.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,f),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,f),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),e.hasClass("today")&&!e.hasClass("day")&&(this.showMode(-2),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("day")&&(g=parseInt(e.text(),10)||1,h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),e.hasClass("old")&&(0===i?(i=11,h-=1,j=!0,k=!0):(i-=1,j=!0)),e.hasClass("new")&&(11===i?(i=0,h+=1,j=!0,k=!0):(i+=1,j=!0)),this._setDate(c(h,i,g)),k&&this._trigger("changeYear",this.viewDate),j&&this._trigger("changeMonth",this.viewDate)),e.hasClass("month")&&(this.viewDate.setUTCDate(1),g=1,i=e.parent().find("span").index(e),h=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(c(h,i,g)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),g=1,i=0,h=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(h),e.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(c(h,i,g))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):!1===this.o.multidate?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a)),b&&"view"!==b||(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&"view"===b||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),(c<0||c>11)&&(c=(c+12)%12);else{for(var j=0;j<i;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(":visible"))return void(40!==a.keyCode&&27!==a.keyCode||(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,"moveYear"))&&this._trigger("changeYear",this.viewDate):a.shiftKey?(c=this.moveAvailableDate(e,b,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,"moveDay"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,"moveWeek")):1===this.viewMode?(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveMonth")):2===this.viewMode&&(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,"moveYear")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a))),this.picker.children("div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var l=function(b,c){a(b).data("datepicker",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,n.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){
this.updating=!0;var c=a(b.target).data("datepicker");if(void 0!==c){var d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=e-1,g=e+1,h=this.inputs.length;if(-1!==e){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)}),d<this.dates[f])for(;f>=0&&d<this.dates[f];)this.pickers[f--].setUTCDate(d);else if(d>this.dates[g])for(;g<h&&d>this.dates[g];)this.pickers[g++].setUTCDate(d);this.updateDates(),delete this.updating}}}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data("datepicker"),g="object"==typeof c&&c;if(!f){var j=h(this,"date"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass("input-daterange")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find("input").toArray()}),f=new l(this,p)):f=new k(this,p),b.data("datepicker",f)}"string"==typeof c&&"function"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+c+" function)");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},p=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0},getDaysInMonth:function(a,b){return[31,r.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"==typeof a.toValue&&"function"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(e,f,g,h){function i(a,b){return!0===b&&(b=10),a<100&&(a+=2e3)>(new Date).getFullYear()+b&&(a-=100),a}function j(){var a=this.slice(0,s[n].length),b=s[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!e)return b;if(e instanceof Date)return e;if("string"==typeof f&&(f=r.parseFormat(f)),f.toValue)return f.toValue(e,f,g);var l,m,n,o,p=/([\-+]\d+)([dmwy])/,s=e.match(/([\-+]\d+)([dmwy])/g),t={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},u={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(void 0!==u[e]&&(e=u[e],s=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}s=e&&e.match(this.nonpunctuation)||[],e=new Date;var v,w,x={},y=["yyyy","yy","M","MM","m","mm","d","dd"],z={yyyy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},yy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};z.M=z.MM=z.mm=z.m,z.dd=z.d,e=d();var A=f.parts.slice();if(s.length!==A.length&&(A=a(A).filter(function(b,c){return-1!==a.inArray(c,y)}).toArray()),s.length===A.length){var B;for(n=0,B=A.length;n<B;n++){if(v=parseInt(s[n],10),l=A[n],isNaN(v))switch(l){case"MM":w=a(q[g].months).filter(j),v=a.inArray(w[0],q[g].months)+1;break;case"M":w=a(q[g].monthsShort).filter(j),v=a.inArray(w[0],q[g].monthsShort)+1}x[l]=v}var C,D;for(n=0;n<y.length;n++)(D=y[n])in x&&!isNaN(x[D])&&(C=new Date(e),z[D](C,x[D]),isNaN(C)||(e=C))}return e},formatDate:function(b,c,d){if(!b)return"";if("string"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version="1.6.4",a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),n.call(c,"show"))}),a(function(){n.call(a('[data-provide="datepicker-inline"]'))})}),function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),function(a){"use strict";function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open")),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),!(h=g.hasClass("open"))||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),(d=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&d.length){if((e=d.data("collapse"))&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),"object"==typeof c&&c);e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top;"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&d<=h&&"top"),this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};if(this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){var b=this.tip(),c=a.Event("hide");if(this.$element.trigger(c),!c.isDefaultPrevented())return b.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?function(){var c=setTimeout(function(){b.off(a.support.transition.end).detach()},500);b.one(a.support.transition.end,function(){clearTimeout(c),b.detach()})}():b.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()})}(window.jQuery),function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this;this.offsets=a([]),this.targets=a([]),this.$body.find(this.selector).map(function(){var c=a(this),d=c.data("target")||c.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),function(a){var b={topSpacing:0,bottomSpacing:0,className:"js-sticky",wrapperClassName:"js-sticky-wrapper"},c=a(window),d=a(document),e=[],f=c.height(),g=function(){for(var a=c.scrollTop(),b=d.height(),g=b-f,h=a>g?g-a:0,i=0;i<e.length;i++){var j=e[i];if(a<=j.stickyWrapper.offset().top-j.topSpacing-h)null!==j.currentTop&&(j.stickyElement.css("position","").css("top","").removeClass(j.className),j.stickyElement.parent().removeClass(j.className),j.currentTop=null);else{var k=j.stickyElement.outerWidth(!0),l=b-j.stickyElement.outerHeight()-j.topSpacing-j.bottomSpacing-a-h;l<0?l+=j.topSpacing:l=j.topSpacing,j.currentTop!=l&&(j.stickyElement.css("position","fixed").css("top",l).css("width",k).addClass(j.className),j.stickyElement.parent().addClass(j.className),j.currentTop=l)}}},h=function(){f=c.height()},i={init:function(c){var d=a.extend(b,c);return this.each(function(){var b=a(this);stickyId=b.attr("id"),wrapper=a("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(d.wrapperClassName),b.wrapAll(wrapper);var c=b.parent();c.css("height",b.outerHeight()),e.push({topSpacing:d.topSpacing,bottomSpacing:d.bottomSpacing,stickyElement:b,currentTop:null,stickyWrapper:c,className:d.className})})},update:g};window.addEventListener?(window.addEventListener("scroll",g,!1),window.addEventListener("resize",h,!1)):window.attachEvent&&(window.attachEvent("onscroll",g),window.attachEvent("onresize",h)),a.fn.sticky=function(b){return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.sticky"):i.init.apply(this,arguments)},a(function(){setTimeout(g,0)})}(jQuery),function(a){var b=["icon","icons","svg",".svg","png",".png","vector","symbol","glyph","flat","ai","vista","3d","simple","button","black","pictogram","raw","pixel perfect","pixel","perfect"],c=new Array,d=new Array;a.fn.doAutosize=function(b){var c=a(this).data("minwidth"),d=a(this).data("maxwidth"),e="",f=a(this),g=a("#"+a(this).data("tester_id"));if(e!==(e=f.val())){var h=e.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");g.html(h);var i=g.width(),j=i+b.comfortZone>=c?i+b.comfortZone:c;(j<f.width()&&j>=c||j>c&&j<d)&&f.width(j)}},a.fn.resetAutosize=function(b){var c=a(this).data("minwidth")||b.minInputWidth||a(this).width(),d=a(this).data("maxwidth")||b.maxInputWidth||a(this).closest(".tagsinput").width()-b.inputPadding,e=a(this),f="tag_autosize_tester";0==a("#"+f).length&&a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}).attr("id",f).appendTo("body"),e.data("minwidth",c),e.data("maxwidth",d),e.data("tester_id",f),e.css("width",c)},a.fn.addTag=function(e,f){return f=jQuery.extend({focus:!1,callback:!0},f),this.each(function(){var g=a(this).attr("id"),h=a(this).val().split(c[g]);if(""==h[0]&&(h=new Array),e=jQuery.trim(e),f.unique){var i=a(this).tagExist(e);1==i&&a("#"+g+"_tag").addClass("not_valid")}else var i=!1;if(""!=e&&1!=i){var j=a("<span>").addClass("tag").append(a("<span>").text(e).append("&nbsp;&nbsp;"),a("<a>",{href:"#",title:"Remove tag",text:""}).click(function(){return a("#"+g).removeTag(escape(e))})).insertBefore("#"+g+"_addTag");if(h.length>=7&&j.addClass("warning"),(a.inArray(e,b)>-1||e.match(/^\d+/))&&j.addClass("warning"),h.push(e),a("#"+g+"_tag").val(""),f.focus?a("#"+g+"_tag").focus():a("#"+g+"_tag").blur(),a.fn.tagsInput.updateTagsField(this,h),f.callback&&d[g]&&d[g].onAddTag){
var k=d[g].onAddTag;k.call(this,e)}if(d[g]&&d[g].onChange){var l=h.length,k=d[g].onChange;k.call(this,a(this),h[l-1])}}}),!1},a.fn.removeTag=function(b){return b=unescape(b),this.each(function(){var e=a(this).attr("id"),f=a(this).val().split(c[e]);for(a("#"+e+"_tagsinput .tag").remove(),str="",i=0;i<f.length;i++)f[i]!=b&&(str=str+c[e]+f[i]);if(a.fn.tagsInput.importTags(this,str),d[e]&&d[e].onRemoveTag){d[e].onRemoveTag.call(this,b)}}),!1},a.fn.tagExist=function(b){var d=a(this).attr("id"),e=a(this).val().split(c[d]);return jQuery.inArray(b,e)>=0},a.fn.importTags=function(b){id=a(this).attr("id"),a("#"+id+"_tagsinput .tag").remove(),a.fn.tagsInput.importTags(this,b)},a.fn.tagsInput=function(b){var e=jQuery.extend({interactive:!0,defaultText:"Add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},b);return this.each(function(){e.hide&&a(this).hide();var b=a(this).attr("id");b&&!c[a(this).attr("id")]||(b=a(this).attr("id","tags"+(new Date).getTime()).attr("id"));var f=jQuery.extend({pid:b,real_input:"#"+b,holder:"#"+b+"_tagsinput",input_wrapper:"#"+b+"_addTag",fake_input:"#"+b+"_tag"},e);c[b]=f.delimiter,(e.onAddTag||e.onRemoveTag||e.onChange)&&(d[b]=new Array,d[b].onAddTag=e.onAddTag,d[b].onRemoveTag=e.onRemoveTag,d[b].onChange=e.onChange);var g='<div id="'+b+'_tagsinput" class="tagsinput"><div id="'+b+'_addTag">';if(e.interactive&&(g=g+'<input id="'+b+'_tag" value="" data-default="'+e.defaultText+'" autofocus="autofocus" />'),g+='</div><div class="tags_clear"></div></div>',a(g).insertAfter(this),a(f.holder).css("width",e.width),a(f.holder).css("min-height",e.height),a(f.holder).css("height","100%"),""!=a(f.real_input).val()&&a.fn.tagsInput.importTags(a(f.real_input),a(f.real_input).val()),e.interactive){if(a(f.fake_input).val(a(f.fake_input).attr("data-default")),a(f.fake_input).css("color",e.placeholderColor),a(f.fake_input).resetAutosize(e),a(f.holder).bind("click",f,function(b){a(b.data.fake_input).focus()}),a(f.fake_input).bind("focus",f,function(b){a(b.data.fake_input).val()==a(b.data.fake_input).attr("data-default")&&a(b.data.fake_input).val(""),a(b.data.fake_input).css("color","#000000")}),void 0!=e.autocomplete_url){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete)autocomplete_options[attrname]=e.autocomplete[attrname];void 0!==jQuery.Autocompleter?(a(f.fake_input).autocomplete(e.autocomplete_url,e.autocomplete),a(f.fake_input).bind("result",f,function(c,d,f){d&&a("#"+b).addTag(d[0]+"",{focus:!0,unique:e.unique})})):void 0!==jQuery.ui.autocomplete&&(a(f.fake_input).autocomplete(autocomplete_options),a(f.fake_input).bind("autocompleteselect",f,function(b,c){return a(b.data.real_input).addTag(c.item.value,{focus:!0,unique:e.unique}),!1}))}else a(f.fake_input).bind("blur",f,function(b){var c=a(this).attr("data-default");return""!=a(b.data.fake_input).val()&&a(b.data.fake_input).val()!=c?b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:e.unique}):(a(b.data.fake_input).val(a(b.data.fake_input).attr("data-default")),a(b.data.fake_input).css("color",e.placeholderColor)),!1});a(f.fake_input).bind("keypress",f,function(b){if(b.which==b.data.delimiter.charCodeAt(0)||13==b.which)return b.preventDefault(),b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:e.unique}),a(b.data.fake_input).resetAutosize(e),!1;b.data.autosize&&a(b.data.fake_input).doAutosize(e)}),f.removeWithBackspace&&a(f.fake_input).bind("keydown",function(b){if(8==b.keyCode&&""==a(this).val()){b.preventDefault();var c=a(this).closest(".tagsinput").find(".tag:last").text(),d=a(this).attr("id").replace(/_tag$/,"");c=c.replace(/[\s]+$/,""),a("#"+d).removeTag(escape(c)),a(this).trigger("focus")}}),a(f.fake_input).blur(),f.unique&&a(f.fake_input).keydown(function(b){(8==b.keyCode||String.fromCharCode(b.which).match(/\w+|[,\/]+/))&&a(this).removeClass("not_valid")})}}),this},a.fn.tagsInput.updateTagsField=function(b,d){var e=a(b).attr("id");a(b).val(d.join(c[e]))},a.fn.tagsInput.importTags=function(b,e){a(b).val("");var f=a(b).attr("id"),g=e.split(c[f]);for(i=0;i<g.length;i++)a(b).addTag(g[i],{focus:!1,callback:!1});if(d[f]&&d[f].onChange){d[f].onChange.call(b,b,g[i])}}}(jQuery),function(a){a.fn.autogrow=function(b){return this.filter("textarea").each(function(){var c=this,d=a(c),e=d.height(),f=d.hasClass("autogrow-short")?0:parseInt(d.css("lineHeight"))||0,g=a.extend({preGrowCallback:null,postGrowCallback:null},b),h=a("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:d.width(),fontSize:d.css("fontSize"),fontFamily:d.css("fontFamily"),fontWeight:d.css("fontWeight"),lineHeight:d.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),i=function(a){var b=function(a,b){for(var c=0,d="";c<b;c++)d+=a;return d},i=c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&#xa0;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(a){return b("&#xa0;",a.length-1)+" "});a&&a.data&&"keydown"===a.data.event&&13===a.keyCode&&(i+="<br />"),h.css("width",d.width()),h.html(i+(0===f?"...":""));var j=Math.max(h.height()+f,e);null!=g.preGrowCallback&&(j=g.preGrowCallback(d,h,j,e)),d.height(j),null!=g.postGrowCallback&&g.postGrowCallback(d)};d.change(i).keyup(i).keydown({event:"keydown"},i),a(window).resize(i),i()})}}(jQuery),function(a,b,c,d,e){"$:nomunge";var f=a(d),g="waypoint.reached",h=function(a,c){a.element.trigger(g,c),a.options.triggerOnce&&a.element[b]("destroy")},i=function(a,b){if(!b)return-1;for(var c=b.waypoints.length-1;c>=0&&b.waypoints[c].element[0]!==a[0];)c-=1;return c},j=[],k=function(b){a.extend(this,{element:a(b),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:a.proxy(function(){var b=this.element.scrollTop(),d=b>this.oldScroll,e=this,f=a.grep(this.waypoints,function(a,c){return d?a.offset>e.oldScroll&&a.offset<=b:a.offset<=e.oldScroll&&a.offset>b}),g=f.length;this.oldScroll&&b||a[c]("refresh"),this.oldScroll=b,g&&(d||f.reverse(),a.each(f,function(a,b){(b.options.continuous||a===g-1)&&h(b,[d?"down":"up"])}))},this)}),a(b).bind("scroll.waypoints",a.proxy(function(){this.didScroll||(this.didScroll=!0,d.setTimeout(a.proxy(function(){this.doScroll(),this.didScroll=!1},this),a[c].settings.scrollThrottle))},this)).bind("resize.waypoints",a.proxy(function(){this.didResize||(this.didResize=!0,d.setTimeout(a.proxy(function(){a[c]("refresh"),this.didResize=!1},this),a[c].settings.resizeThrottle))},this)),f.load(a.proxy(function(){this.doScroll()},this))},l=function(b){var c=null;return a.each(j,function(a,d){if(d.element[0]===b)return c=d,!1}),c},m={init:function(d,e){return this.each(function(){var f,h=a.fn[b].defaults.context,m=a(this);e&&e.context&&(h=e.context),a.isWindow(h)||(h=m.closest(h)[0]),(f=l(h))||(f=new k(h),j.push(f));var n=i(m,f),o=n<0?a.fn[b].defaults:f.waypoints[n].options,p=a.extend({},o,e);p.offset="bottom-in-view"===p.offset?function(){return(a.isWindow(h)?a[c]("viewportHeight"):a(h).height())-a(this).outerHeight()}:p.offset,p.offset="before-bottom-in-view"===p.offset?function(){return(a.isWindow(h)?a[c]("viewportHeight"):a(h).height())-a(this).outerHeight()+700}:p.offset,n<0?f.waypoints.push({element:m,offset:null,options:p}):f.waypoints[n].options=p,d&&m.bind(g,d),e&&e.handler&&m.bind(g,e.handler)}),a[c]("refresh"),this},remove:function(){return this.each(function(b,c){var d=a(c);a.each(j,function(a,b){var c=i(d,b);c>=0&&(b.waypoints.splice(c,1),b.waypoints.length||(b.element.unbind("scroll.waypoints resize.waypoints"),j.splice(a,1)))})})},destroy:function(){return this.unbind(g)[b]("remove")}},n={refresh:function(){a.each(j,function(b,d){var e=a.isWindow(d.element[0]),f=e?0:d.element.offset().top,g=e?a[c]("viewportHeight"):d.element.height(),i=e?0:d.element.scrollTop();a.each(d.waypoints,function(a,b){if(b){var c=b.options.offset,e=b.offset;if("function"==typeof b.options.offset)c=b.options.offset.apply(b.element);else if("string"==typeof b.options.offset){var j=parseFloat(b.options.offset);c=b.options.offset.indexOf("%")?Math.ceil(g*(j/100)):j}b.offset=b.element.offset().top-f+i-c,b.options.onlyOnScroll||(null!==e&&d.oldScroll>e&&d.oldScroll<=b.offset?h(b,["up"]):null!==e&&d.oldScroll<e&&d.oldScroll>=b.offset?h(b,["down"]):!e&&d.element.scrollTop()>b.offset&&h(b,["down"]))}}),d.waypoints.sort(function(a,b){return a.offset-b.offset})})},viewportHeight:function(){return d.innerHeight?d.innerHeight:f.height()},aggregate:function(){var b=a();return a.each(j,function(c,d){a.each(d.waypoints,function(a,c){b=b.add(c.element)})}),b}};a.fn[b]=function(c){return m[c]?m[c].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof c&&c?"object"==typeof c?m.init.apply(this,[null,c]):void a.error("Method "+c+" does not exist on jQuery "+b):m.init.apply(this,arguments)},a.fn[b].defaults={continuous:!0,offset:0,triggerOnce:!1,context:d},a[c]=function(a){return n[a]?n[a].apply(this):n.aggregate()},a[c].settings={resizeThrottle:200,scrollThrottle:100},f.load(function(){a[c]("refresh")})}(jQuery,"waypoint","waypoints",window),function(a,b,c){b(document).ready(function(){b(".input-datepicker").datepicker(),b(".date .dropdown-menu a").click(function(){switch(b(this).data("time-period")){case"today":var a=new Date,c=new Date;break;case"last30days":var a=new Date,c=new Date;a.setDate(a.getDate()-30);break;case"last3months":var a=new Date,c=new Date;a.setMonth(a.getMonth()-3);break;case"last6months":var a=new Date,c=new Date;a.setMonth(a.getMonth()-6);break;case"allTime":var a=new Date(2007,4,1),c=new Date}var d=a.getDate(),e=a.getMonth()+1,f=a.getFullYear(),g=c.getDate(),h=c.getMonth()+1,i=c.getFullYear();return d<10&&(d="0"+d),e<10&&(e="0"+e),g<10&&(g="0"+g),h<10&&(h="0"+h),b("#start-date").val(f+"-"+e+"-"+d),b("#end-date").val(i+"-"+h+"-"+g),b(".input-datepicker").datepicker("update"),b(".input-datepicker").closest("form").submit(),b(this).closest(".open").removeClass("open"),!1})})}(window,window.jQuery),function(a,b){"use strict";if(!a.CardCheck){var c={cardNumber:null,allowSpaces:!0,acceptedCards:["visa","mastercard","amex","diners","jcb","maestro"],niceNames:{visa:"Visa",mastercard:"Mastercard",amex:"American Express",discover:"Discover",diners:"Diners Club",jcb:"JCB",maestro:"Maestro"},regExpNumCheck:"^[0-9]+$",regExpApprox:{visa:"^4",mastercard:"^5[1-5]",amex:"^(34|37)",discover:"^6011",diners:"^(30|36|38|39)",jcb:"^35",maestro:"^(5018|5020|5038|6304|6759|6761|6762|6763)"},startNum:{visa:["4"],mastercard:["5"],amex:["3"],discover:["6"],diners:["3"],jcb:["3","2","1"],maestro:["5","6"]},cardLength:{visa:[13,16],mastercard:[16],amex:[15],discover:[16],diners:[14],jcb:[15,16],maestro:[12,13,14,15,16,17,18,19]}},d=function(a){return Math.min.apply(Math,a)},e=function(a){return Math.max.apply(Math,a)},f=function(a){return this instanceof f?(this._callbacks={},this._settings={},"number"==typeof a||"string"==typeof a?this.options().cardNumber(a):this.options(a)):new f(a)};f.prototype={_cardNumber:null,_cardType:null,_isValid:void 0,_numCheck:null,cardNumber:function(a){return void 0===a?this._cardNumber:(a=a.toString(),!0===this._settings.allowSpaces&&(a=a.replace(/\s/g,"")),this._cardNumber===a?this:(this._cardNumber=a,this.evaluate()))},cardType:function(a){return this._cardType?a?this._settings.niceNames[this._cardType]:this._cardType:null},niceName:function(a){return this._settings.niceNames[a]?this._settings.niceNames[a]:""},eachCard:function(a){for(var b=0;b<this._settings.acceptedCards.length;b++){if(!1===a(this._settings.acceptedCards[b]))return!1}return this},evaluate:function(){if(this._numCheck||(this._numCheck=new RegExp(this._settings.regExpNumCheck)),this._cardNumber)if(this._cardNumber.match(this._numCheck)){var a=this;this.eachCard(function(c){if(1===a._cardNumber.length&&c in a._settings.startNum){if("3"===a._cardNumber||"6"===a._cardNumber)return a._switchState(null),!0;if(-1!==b.inArray(a._cardNumber,a._settings.startNum[c]))return a._switchState(null,c),!1}else if(2===a._cardNumber.length&&("60"===a._cardNumber||"65"===a._cardNumber))return a._switchState(null,"discover"),!1;var f,g=!1,h=!1,i=!1;if(c in a._settings.cardLength&&-1!==b.inArray(a._cardNumber.length,a._settings.cardLength[c])?g=!0:a._cardNumber.length>=e(a._settings.cardLength[c])?(g=!0,h=!0,i=a._cardNumber.length>e(a._settings.cardLength[c])):!0===a._isValid&&a._delayState(null),c in a._settings.regExpApprox&&(f=new RegExp(a._settings.regExpApprox[c]),a._cardNumber.match(f)))return!1===g?(a._switchState(null,c),!1):(!0!==a.luhnCheck(a._cardNumber)||i?h?a._switchState(!1,c):a._cardNumber.length<d(a._settings.cardLength[c])&&a._switchState(null,c):a._switchState(!0,c),!1)})}else this._switchState(!1);else this._switchState(null);return this},luhnCheck:function(a){var b=[[0,2,4,6,8,1,3,5,7,9],[0,1,2,3,4,5,6,7,8,9]],c=0;return a.replace(/\D+/g,"").replace(/[\d]/g,function(a,d,e){c+=b[e.length-d&1][parseInt(a,10)]}),c%10==0&&c>0},options:function(a){var d,e=!1;return a=a||{},a.cardNumber&&(d=a.cardNumber,e=!0,delete a.cardNumber),this._settings=b.extend({},c,a),e&&this.cardNumber(d),this},onToggle:function(a){return this._setCallback("onToggle",a)},onValid:function(a){return this._setCallback("onValid",a)},onValidation:function(a){return this.onValid(a)},onInvalid:function(a){return this._setCallback("onInvalid",a)},onError:function(a){return this.onInvalid(a)},onUnknown:function(a){return this._setCallback("onUnknown",a)},onGuess:function(a){return"function"!=typeof a?this:this.onUnknown(function(b){b&&a(b)})},onReset:function(a){return"function"!=typeof a?this:this.onUnknown(function(b){b||a()})},onCardChange:function(a){return this._setCallback("onCardChange",a)},onTypeUpdate:function(a){return this.onCardChange(a)},_setCallback:function(a,b){return"function"!=typeof b?this:(this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(b),this)},_runCallbacks:function(a,b,c){var d=this._callbacks[a];if(!d||0===d.length)return this;b=b||null,c=c||this;for(var e=0;e<d.length;e++)d[e].apply(c,b);return this},_setCardType:function(a){return this._cardType!==a&&this._runCallbacks("onCardChange",[a,this.niceName(a)]),this._cardType=a,this},_delayState:function(a,b){var c=this;return setTimeout(function(){a!==c._isValid&&c._switchState(a,b)},50),this},_switchState:function(a,b){return void 0===b&&(b=null),a===this._isValid&&this._cardType===b?this:(this._setCardType(b),this._isValid=a,!0===a?this._runCallbacks("onValid",[b,this.niceName(b)]):!1===a?this._runCallbacks("onInvalid"):null===a&&this._runCallbacks("onUnknown",[b,this.niceName(b)]),this._runCallbacks("onToggle",[a,b,this.niceName(b)]),this)}},a.CardCheck=f;var g=function(a,c,d){return void 0!==d.enableIcons&&!0!==d.enableIcons&&(this.disabled=!0),this.$el=a,this.uniqueClass=c,this.acceptedCards=d.acceptedCards,this.iconLocation=d.iconLocation?b(d.iconLocation):a.parent(),this.iconDir=d.iconDir?d.iconDir:"images/",this.iconExt=d.iconExt?d.iconExt:"png",this.iconClass=d.iconClass?d.iconClass:"card-icons",this.createIcons(),this.icons=b("."+this.iconClass+this.uniqueClass),this};g.prototype={createIcons:function(){if(this.disabled)return this;var a=this;return b.each(a.acceptedCards,function(c,d){a.iconLocation.append(b("<div>").attr("id","card-"+d+a.uniqueClass).attr("class","creditcard-"+d).addClass(a.iconClass+a.uniqueClass))}),this},showOnly:function(a){if(this.disabled)return this;var b=this;return this.hideExcept(a,function(a){b.showCard(a)}),this},showCard:function(a){return b("#card-"+a+this.uniqueClass).css("opacity",1),this},showAll:function(){return this.disabled?this:(this.icons.css("opacity",1),this)},hideExcept:function(a,b){return this.disabled?this:(b=b||function(){},this.icons.not("#card-"+a+this.uniqueClass).fadeTo("fast",.1,function(){b(a)}),this)},hideAll:function(){return this.disabled?this:(this.icons.fadeTo("fast",.1),this)}},b.cardcheck=function(c,d){a.CardCheckInstances||(a.CardCheckInstances={}),"object"==typeof c&&"input"in c&&(d=c,c=d.input),d=d||{};var e=b(c),h=new f(d),i=Math.floor(1e3*Math.random()),j=new g(e,i,h._settings),k=function(a){return this.event=a,this.run=function(a){e.trigger("cc:"+this.event,a)},this},l=["onToggle","onValid","onValidation","onInvalid","onError","onUnknown","onGuess","onReset","onCardChange","onTypeUpdate"];e.addClass("cardcheck-instance-"+i).data("cardcheck-instance",i),a.CardCheckInstances[i]||(a.CardCheckInstances[i]=h);for(var m=0;m<l.length;m++)!function(a){if(h[a]){var b=new k(a);h[a](function(){b.run(arguments)}),d[a]&&h[a](d[a])}}(l[m]);return h.onInvalid(function(){j.hideAll()}).onValid(function(a){j.showOnly(a)}).onGuess(function(a){j.showOnly(a)}).onReset(function(){j.showAll()}),e.on("keyup.cardcheck change.cardcheck",function(){h.cardNumber(b(this).val())}),e.trigger("cc:initialized",[j]),e},b.fn.cardcheck=function(c){if(b(this).data("cardcheck-instance")){var d=a.CardCheckInstances[b(this).data("cardcheck-instance")];if("instance"===c)return d;if("evaluate"===c)return d.evaluate(),b(this)}else if("instance"===c||"evaluate"===c)return b(this);return this.each(function(){if(!0!==b(this).data("cardcheck"))return b.cardcheck(this,c).data("cardcheck",!0)})}}}(window,jQuery),function($){var useBSNns;_bsn=this,void 0===_bsn.Autosuggest&&(_bsn.Autosuggest={}),_bsn.AutoSuggest=function(a,b){if(!document.getElementById)return!1;if(this.fld=_bsn.DOM.getElement(a),!this.fld)return!1;this.sInput="",this.nInputChars=0,this.aSuggestions=[],this.iHighlighted=0,this.oP=b||{},this.oP.minchars||(this.oP.minchars=2),this.oP.method||(this.oP.meth="get"),this.oP.varname||(this.oP.varname="input"),this.oP.className||(this.oP.className="autosuggest"),this.oP.timeout||(this.oP.timeout=3e3),this.oP.delay||(this.oP.delay=0),this.oP.offsety||(this.oP.offsety=0),this.oP.shownoresults||(this.oP.shownoresults=!1),this.oP.noresults||(this.oP.noresults="Sorry, no tags match"),this.oP.maxheight||0===this.oP.maxheight||(this.oP.maxheight=12),this.oP.cache||0==this.oP.cache||(this.oP.cache=!0);var c=this;this.fld.onkeypress=function(a){return c.onKeyPress(a)},this.fld.onkeyup=function(a){return c.onKeyUp(a)},this.fld.setAttribute("autocomplete","off")},_bsn.AutoSuggest.prototype.onKeyPress=function(a){var b=window.event?window.event.keyCode:a.keyCode,c=!0;switch(b){case 13:this.setHighlightedValue(),c=!1,this.clearSuggestions(),$("input.autocomplete:focus").parents("form").submit();break;case 27:this.clearSuggestions()}return c},_bsn.AutoSuggest.prototype.onKeyUp=function(a){var b=window.event?window.event.keyCode:a.keyCode,c=!0;switch(b){case 38:case 40:this.changeHighlight(b),c=!1;break;default:this.getSuggestions(this.fld.value)}return c},_bsn.AutoSuggest.prototype.getSuggestions=function(a){if(a==this.sInput)return!1;if(a.length<this.oP.minchars)return this.sInput="",!1;if(a.length>this.nInputChars&&this.aSuggestions.length&&this.oP.cache){for(var b=[],c=0;c<this.aSuggestions.length;c++)this.aSuggestions[c].value.substr(0,a.length).toLowerCase()==a.toLowerCase()&&b.push(this.aSuggestions[c]);return this.sInput=a,this.nInputChars=a.length,this.aSuggestions=b,this.createList(this.aSuggestions),!1}this.sInput=a,this.nInputChars=a.length;var d=this;return clearTimeout(this.ajID),this.ajID=setTimeout(function(){d.doAjaxRequest()},this.oP.delay),!1},_bsn.AutoSuggest.prototype.doAjaxRequest=function(){var a=this,b=this.oP.script+this.oP.varname+"="+escape(this.fld.value),c=this.oP.meth,d=function(b){a.setSuggestions(b)},e=function(a){};(new _bsn.Ajax).makeRequest(b,c,d,e)},_bsn.AutoSuggest.prototype.setSuggestions=function(req){if(this.aSuggestions=[],this.oP.json)for(var jsondata=eval("("+req.responseText+")"),i=0;i<jsondata.results.length;i++)this.aSuggestions.push({id:jsondata.results[i].id,value:jsondata.results[i].value,info:jsondata.results[i].info});else{var xml=req.responseXML;try{for(var results=xml.getElementsByTagName("results")[0].childNodes,i=0;i<results.length;i++)results[i].hasChildNodes()&&this.aSuggestions.push({id:results[i].getAttribute("id"),value:results[i].childNodes[0].nodeValue,info:results[i].getAttribute("info")})}catch(a){}}this.idAs="as_"+this.fld.id,this.createList(this.aSuggestions)},_bsn.AutoSuggest.prototype.createList=function(a){function b(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var c=this;_bsn.DOM.removeElement(this.idAs),this.killTimeout();var d=_bsn.DOM.createElement("div",{id:this.idAs,className:this.oP.className}),e=_bsn.DOM.createElement("div",{className:"as_corner"}),f=_bsn.DOM.createElement("div",{className:"as_bar"}),g=_bsn.DOM.createElement("div",{className:"as_header"});g.appendChild(e),g.appendChild(f),d.appendChild(g);var h,i=_bsn.DOM.createElement("ul",{id:"as_ul"});h=a.length>this.oP.maxheight?this.oP.maxheight:a.length;for(var j=0;j<h;j++){var k=a[j].value,l=k.toLowerCase().indexOf(this.sInput.toLowerCase()),m=b(k.substring(0,l))+"<em>"+b(k.substring(l,l+this.sInput.length))+"</em>"+b(k.substring(l+this.sInput.length)),n=_bsn.DOM.createElement("span",{},m,!0);if(""!=a[j].info){var o=_bsn.DOM.createElement("br",{});n.appendChild(o);var p=_bsn.DOM.createElement("small",{},a[j].info);n.appendChild(p)}var q=_bsn.DOM.createElement("a",{href:"#"}),r=_bsn.DOM.createElement("span",{className:"tl"}," "),s=_bsn.DOM.createElement("span",{className:"tr"}," ");q.appendChild(r),q.appendChild(s),q.appendChild(n),q.name=j+1,q.onclick=function(){return c.setHighlightedValue(),!1},q.onmouseover=function(){c.setHighlight(this.name)};var t=_bsn.DOM.createElement("li",{},q);i.appendChild(t)}if(0==a.length){var t=_bsn.DOM.createElement("li",{className:"as_warning"},this.oP.noresults);i.appendChild(t)}d.appendChild(i);var u=_bsn.DOM.createElement("div",{className:"as_corner"}),v=_bsn.DOM.createElement("div",{className:"as_bar"}),w=_bsn.DOM.createElement("div",{className:"as_footer"});w.appendChild(u),w.appendChild(v),d.appendChild(w);var x=_bsn.DOM.getPos(this.fld);d.style.left=x.x+"px",d.style.top=x.y+this.fld.offsetHeight+this.oP.offsety+"px",d.style.width=this.fld.offsetWidth+"px",d.onmouseover=function(){c.killTimeout()},d.onmouseout=function(){c.resetTimeout()},document.getElementsByTagName("body")[0].appendChild(d),this.iHighlighted=0;var c=this;this.toID=setTimeout(function(){c.clearSuggestions()},this.oP.timeout)},_bsn.AutoSuggest.prototype.changeHighlight=function(a){var b=_bsn.DOM.getElement("as_ul");if(!b)return!1;var c;40==a?c=this.iHighlighted+1:38==a&&(c=this.iHighlighted-1),c>b.childNodes.length&&(c=b.childNodes.length),c<1&&(c=1),this.setHighlight(c)},_bsn.AutoSuggest.prototype.setHighlight=function(a){var b=_bsn.DOM.getElement("as_ul");if(!b)return!1;this.iHighlighted>0&&this.clearHighlight(),this.iHighlighted=Number(a),b.childNodes[this.iHighlighted-1].className="as_highlight",this.killTimeout()},_bsn.AutoSuggest.prototype.clearHighlight=function(){var a=_bsn.DOM.getElement("as_ul");if(!a)return!1;this.iHighlighted>0&&(a.childNodes[this.iHighlighted-1].className="",this.iHighlighted=0)},_bsn.AutoSuggest.prototype.setHighlightedValue=function(){this.iHighlighted&&(this.sInput=this.fld.value=this.aSuggestions[this.iHighlighted-1].value,this.fld.focus(),this.fld.selectionStart&&this.fld.setSelectionRange(this.sInput.length,this.sInput.length),this.clearSuggestions(),"function"==typeof this.oP.callback&&this.oP.callback(this.aSuggestions[this.iHighlighted-1]))},_bsn.AutoSuggest.prototype.killTimeout=function(){clearTimeout(this.toID)},_bsn.AutoSuggest.prototype.resetTimeout=function(){clearTimeout(this.toID);var a=this;this.toID=setTimeout(function(){a.clearSuggestions()},1e3)},_bsn.AutoSuggest.prototype.clearSuggestions=function(){this.killTimeout();var a=_bsn.DOM.getElement(this.idAs),b=this;if(a){new _bsn.Fader(a,1,0,250,function(){_bsn.DOM.removeElement(b.idAs)})}},void 0===_bsn.Ajax&&(_bsn.Ajax={}),_bsn.Ajax=function(){this.req={},this.isIE=!1},_bsn.Ajax.prototype.makeRequest=function(a,b,c,d){"POST"!=b&&(b="GET"),this.onComplete=c,this.onError=d;var e=this;window.XMLHttpRequest?(this.req=new XMLHttpRequest,this.req.onreadystatechange=function(){e.processReqChange()},this.req.open("GET",a,!0),this.req.send(null)):window.ActiveXObject&&(this.req=new ActiveXObject("Microsoft.XMLHTTP"),this.req&&(this.req.onreadystatechange=function(){e.processReqChange()},this.req.open(b,a,!0),this.req.send()))},_bsn.Ajax.prototype.processReqChange=function(){4==this.req.readyState&&(200==this.req.status?this.onComplete(this.req):this.onError(this.req.status))},void 0===_bsn.DOM&&(_bsn.DOM={}),_bsn.DOM.createElement=function(a,b,c,d){var e=document.createElement(a);if(!e)return!1;for(var f in b)e[f]=b[f];return"string"!=typeof c||d?"string"==typeof c&&d?e.innerHTML=c:"object"==typeof c&&e.appendChild(c):e.appendChild(document.createTextNode(c)),e},_bsn.DOM.clearElement=function(a){var b=this.getElement(a);if(!b)return!1;for(;b.childNodes.length;)b.removeChild(b.childNodes[0]);return!0},_bsn.DOM.removeElement=function(a){var b=this.getElement(a);return!!b&&!!b.parentNode.removeChild(b)},_bsn.DOM.replaceContent=function(a,b,c){var d=this.getElement(a);if(!d)return!1;this.clearElement(d),"string"!=typeof b||c?"string"==typeof b&&c?d.innerHTML=b:"object"==typeof b&&d.appendChild(b):d.appendChild(document.createTextNode(b))},_bsn.DOM.getElement=function(a){if(void 0===a)return!1;if("string"==typeof a){var b=document.getElementById(a);return!!b&&(void 0!==b.appendChild&&b)}return void 0!==a.appendChild&&a},_bsn.DOM.appendChildren=function(a,b){var c=this.getElement(a);if(!c)return!1;if("object"!=typeof b)return!1;for(var d=0;d<b.length;d++){var e=b[d];"string"==typeof e?c.appendChild(document.createTextNode(e)):"object"==typeof e&&c.appendChild(e)}},_bsn.DOM.getPos=function(a){var a=this.getElement(a),b=a,c=0;if(b.offsetParent)for(;b.offsetParent;)c+=b.offsetLeft,b=b.offsetParent;else b.x&&(c+=b.x);var b=a,d=0;if(b.offsetParent)for(;b.offsetParent;)d+=b.offsetTop,b=b.offsetParent;else b.y&&(d+=b.y);return{x:c,y:d}},void 0===_bsn.Fader&&(_bsn.Fader={}),_bsn.Fader=function(a,b,c,d,e){if(!a)return!1;this.ele=a,this.from=b,this.to=c,this.callback=e,this.nDur=d,this.nInt=50,this.nTime=0;var f=this;this.nID=setInterval(function(){f._fade()},this.nInt)},_bsn.Fader.prototype._fade=function(){this.nTime+=this.nInt;var a=Math.round(100*this._tween(this.nTime,this.from,this.to,this.nDur)),b=a/100;if(this.ele.filters)try{this.ele.filters.item("DXImageTransform.Microsoft.Alpha").opacity=a}catch(b){this.ele.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"}else this.ele.style.opacity=b;this.nTime==this.nDur&&(clearInterval(this.nID),void 0!=this.callback&&this.callback())},_bsn.Fader.prototype._tween=function(a,b,c,d){return b+a/d*(c-b)}}(jQuery),function(a,b,c){b.fn.disabled=function(a){return a?this.attr("disabled","disabled"):this.removeAttr("disabled"),this}}(window,window.jQuery),function(a){a.fn.shuffle=function(){return this.each(function(){var b=a(this).children().clone(!0);return b.length?a(this).html(a.shuffle(b)):this})},a.shuffle=function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}}(jQuery),function(a,b,c){b(document).ready(function(){b(".js-sticky").sticky({topSpacing:60,className:"is-js-sticky",wrapperClassName:"js-sticky-wrapper"})})}(window,window.jQuery),function(a,b,c){function d(){var a=b("table.table-actions input[type=checkbox]:not(#checkall):checked").size();0==a?(b("div.table-actions label").html("No elements selected."),b("div.table-actions button").attr("disabled","disabled")):(b("div.table-actions label").html(a+" element"+(1==a?"":"s")+" selected."),b("div.table-actions button").removeAttr("disabled"))}b(a.document).ready(function(){b("table.table-actions input#checkall").change(function(){b(this).attr("checked")?(b("table.table-actions input:checkbox").attr("checked",!0),b("table.table-actions tr").addClass("selected")):(b("table.table-actions input:checkbox").attr("checked",!1),b("table.table-actions tr").removeClass("selected")),d()}),b("table.table-actions input:checkbox:not(#checkall)").change(function(){b(this).is(":checked")?b(this).parent().parent().addClass("selected"):b(this).parent().parent().removeClass("selected"),d()})}),b.fn.tableAction=function(a){return this.each(function(){b(this).click(function(c){c.preventDefault();var d=[];return b("input[type=checkbox]:not(#checkall):checked").each(function(){d.push(b(this).attr("data-id"))}),d.length&&a(d),!1})})}}(window,window.jQuery),function(a,b,c,d){function e(a){a.addClass("pulsate"),setTimeout(function(){a.removeClass("pulsate")},1800)}c(b).on("click",".js-icon-favorite",function(b){if(b.preventDefault(),!a.USER)return nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.reload()}})),!1;var d=c(this),f=d.closest(".icon"),g=f.attr("data-icon-id"),h=f.hasClass("favorited");return h?(f.removeClass("favorited"),c.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Favorite removed",pnotify_text:"This icon is no longer visible under favorites."}),Nextfinder.tracking.trackEvent("Icon","Favorite removed")):(f.addClass("favorited"),c.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Favorite saved",pnotify_text:'You can find favorited icons under "Favorites"'}),e(c(".navbar-item.menuitem-favorites .icon")),Nextfinder.tracking.trackEvent("Icon","Favorite")),c.ajax({type:"POST",url:"/icons/"+g+(h?"/unfavorite":"/favorite"),dataType:"json",success:function(a,b,c,d){},error:function(a,b,d,e){c.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Failed to favorite icon",pnotify_text:"Something went wrong while trying to favorite the icon."})}}),!1}),c(b).on("click",".downloadlink",function(a){function b(){c.pnotify({pnotify_notice_icon:"",pnotify_delay:3e3,pnotify_history:!1,pnotify_title:"Downloading icon",pnotify_text:"Remember to check license information before using downloaded icons."}),e(c(".navbar-item.menuitem-downloads .icon")),Nextfinder.tracking.trackEvent("Icon","Download",f.toLowerCase())}var d=c(this),f=d.data("format"),g=d.attr("data-icon-id");return Nextfinder.transport.get({url:"/icons/"+g+"/check-download/"+f,success:function(){b(),location.href=d.attr("href")},error:function(a,b){"download_limit_reached"==a?nfx.app.modalStackController.present(new nfx.modules.DownloadLimitReachedModalModule({downloadLimit:b.download_limit,dateResets:b.date_resets,isPerceptuallyUnlimited:b.is_perceptually_unlimited})):"registration_required"==a?(Nextfinder.tracking.trackEvent("User","Free download limit","Limit reached"),nfx.app.modalStackController.present(new nfx.modules.FreeDownloadPromptModalModule({onAuthenticate:function(){location.reload()}}))):"pro_subscription_required"==a?(Nextfinder.tracking.trackEvent("User","Pro subscription required",f),nfx.app.modalStackController.present(new nfx.modules.FormatIsProOnlyPromptModalModule)):nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","Sorry, but it seems like something went wrong while trying to get the icon for you. Please try again or reload the page.")}}),!1}),c(b).on("mouseenter",".icon",function(){c(this).children(".btn").addClass("btn-primary")}),c(b).on("mouseleave",".icon",function(){c(this).children(".btn").removeClass("btn-primary")}),c(b).on("click",'[data-action="buy-icon"]',function(){var b=c(this).closest(".icon"),d=c(this).attr("data-icon-id");a.Nextfinder.commerce.purchase({asset:{identifier:"icon",primary_key:d},success:function(){var a=b.find("img");a.attr("src",a.attr("data-private-src")),
b.find('[data-action="buy-icon"]').remove(),b.find(".iconlinks").show(),b.addClass("purchased")}}),Nextfinder.tracking.trackEvent("Commerce","Click to buy","Icon",d,{icon_id:parseInt(d,10)})}),c(b).on("click",'[data-action="buy-iconset"]',function(){var b=c(this).attr("data-iconset-id"),d=c(this).attr("data-iconset-identifier"),e="true"==c(this).attr("data-reload-after-purchase"),f="true"==c(this).attr("data-redirect-after-purchase");a.Nextfinder.commerce.purchase({asset:{identifier:"package",primary_key:b},success:function(){return e?void location.reload():f?void(location.href="/search/?q=iconset%3A"+escape(d)):void c('.icon[data-iconset-id="'+b+'"]').each(function(){var a=c(this),b=a.find("img");b.attr("src",b.attr("data-private-src")),a.find('[data-action="buy-icon"]').remove(),a.find(".iconlinks").show()})}}),Nextfinder.tracking.trackEvent("Commerce","Click to buy","Icon set")}),c(b).on("click","a.iconlink",function(){Nextfinder.tracking.trackEvent("Icon","Click link")}),c(b).on("click",'[data-action="get-base64"]',function(a){return Nextfinder.icons.getBase64(this),a.preventDefault(),!1}),c(b).ready(function(){c(".largersize").hover(function(){id=c(this).attr("id").replace(/largersize-/,""),obj=c("#hiddenicon-"+id),obj.show()},function(){obj.hide()})})}(window,window.document,window.jQuery),function(a,b,c){b.fn.createModal=function(a){var c={id:void 0,title:"",action:"submit",actionLabel:"OK",cancelLabel:"Cancel",backdrop:!0},d=b.extend({},c,a),e=void 0!==d.content?d.content:Handlebars.templates[d.template](d.context),f=b("<div"+(void 0!==d.id?' id="'+d.id+'"':"")+' class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-header">'+(null!==d.cancelLabel?'<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>':"")+'<h1 id="myModalLabel">'+d.title+'</h1></div><div class="modal-body">'+e+'</div><div class="modal-footer">'+(void 0!==d.action&&null!==d.action?'<button class="btn btn-large btn-primary" data-action="'+d.action+'">'+d.actionLabel+"</button>":"")+(null!==d.cancelLabel?'<button class="btn btn-large" data-dismiss="modal" aria-hidden="true">'+d.cancelLabel+"</button>":"")+"</div></div>");return f.appendTo(this),f.modal({canHide:d.canHide,backdrop:d.backdrop}).on("hidden",function(){f.remove()}),void 0!==d.hide&&f.on("hide",d.hide),f},b.fn.createFormModal=function(a,c){var d={canHide:function(){return!modalLocked},action:"submit"},e=(b.extend({},d,a),b("body").createModal(a)),f=e.find("form");return f.ajaxifyForm({beforeSubmit:function(){},error:function(){},success:function(a){modalLocked=!1,e.modal("hide"),c(a)}}),e.find('[data-action="submit"]').click(function(){f.submit()}),e}}(window,window.jQuery),function(a,b,c,d){c(b).ready(function(){c(b).on("click",".login-link",function(){return nfx.app.modalStackController.present(new nfx.modules.LogInModalModule({onAuthenticate:function(){location.reload()}})),!1}),c(b).on("click",".signup-link",function(){return nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.reload()}})),!1}),c(b).on("click",'a[data-require-user="true"]',function(){var a=c(this);return nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.href=a.attr("href")}})),!1})})}(window,window.document,window.jQuery),function(a,b,c,d){c(b).on("click",'[data-remote="true"]',function(b){b.preventDefault();var d=c(this),e=d.data("method")||"post",f=(d.data("confirm"),d.data("location-on-success")),g=d.data("reload-on-success")||void 0==d.data("reload-on-success")&&!f;return!(d.data("confirm")&&!confirm(d.data("confirm")))&&((!d.data("prompt")||prompt(d.data("prompt"))===d.data("answer"))&&void a.Nextfinder.transport.request({method:e,url:d.attr("href"),success:function(){f?location.href=f:g&&location.reload()},error:function(a,b){alert("An error occured")}}))})}(window,window.document,window.jQuery),function(a,b,c){b.fn.ajaxifyForm=function(a){function c(a,c,d){if("success"==a.status)return void(g.success&&g.success(a));if("error"==a.status){e.find("[name]").parent("span").removeClass("form-field-error"),e.find("ul.form-error-list").remove();for(var f in a.errors){var h=a.errors[f];if(0!=h.length){var i=e.find('[name="'+f+'"]').parent("span").addClass("form-field-error");if(i.length>0){var j=b('<ul class="form-error-list"></ul>');for(var k in h)j.append(b("<li />").html(h[k]));j.insertAfter(i)}}}g.error&&g.error(a.errors)}}function d(){g.error&&g.error()}var e=this,f={},g=b.extend({},f,a);return this.submit(function(){return g.beforeSubmit&&g.beforeSubmit(),data={},e.find("[name]").each(function(){var a=b(this);("checkbox"!=a.attr("type")||a.is(":checked"))&&(data[a.attr("name")]=a.val())}),b.ajax({type:e.attr("method"),url:e.attr("action"),data:data,success:c,error:d}),!1}),this}}(window,window.jQuery),function(a,b,c,d){c(b).on("click","[mission-control-panel]",function(a){a.preventDefault(),c.ajax({type:"GET",url:"/missioncontrol/"+c(this).attr("mission-control-panel")+"/"+c(this).attr("mission-control-command"),dataType:"json",success:function(a){!0===a.reload&&location.reload()},error:function(){c.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Houston, we have a problem!",pnotify_text:"Something went wrong while talking to mission control."})}})}),c(b).on("click",'[data-action="missioncontrol-inspect-performance"]',function(d){d.preventDefault();var e=c('<div class="missioncontrol-inspector"></div>').appendTo("body");m.module(e[0],new nfx.modules.PerformanceInspectorModule({queries:a.MISSIONCONTROL_DATABASE_QUERIES,cacheAccess:a.MISSIONCONTROL_CACHE_ACCESS})),c(b).on("keyup",function(a){27==a.which&&e.remove()})})}(window,window.document,window.jQuery),function(a,b,c,d){c.fn.overlay=function(a){return c('<div class="page-overlay"></div>').appendTo(this)},c.fn.overlayLoader=function(a){var b=c(this),d=b.hasClass("page-overlay")?b:b.overlay();d.html('<h1 class="loader"><span class="spinner"></span>'+a+"</h1>");new Spinner({lines:13,length:4,width:3,radius:6,corners:1,rotate:0,color:"#ffffff",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"auto",left:"0"}).spin(d.find("span.spinner")[0]);return d}}(window,window.document,window.jQuery),function(a,b,c,d){c(b).ready(function(){c('[data-toggle="tooltip"]').tooltip()})}(window,window.document,window.jQuery),function(a,b,c){b(document).on("focus","input.error",function(){b("label.error").hide(),b(this).siblings("label.error").show()}),b(document).on("blur","input.error",function(){b(this).siblings("label.error:visible").hide()})}(window,window.jQuery),$(document).on("click",'button[data-action="toggle-follow-user"]',function(a){a.preventDefault();var b=$(this),c=b.attr("data-username"),d="true"===b.attr("data-following");if(c){if(!window.USER)return void nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.reload()}}));b.toggleClass("following",!1),Nextfinder.transport.post({url:"/profiles/ajax/"+c+(d?"/unfollow":"/follow"),success:function(){b.toggleClass("following",!d),b.html(d?'<i data-icon="J" class="icon"></i>Follow':'<i data-icon="L" class="icon"></i>Following'),b.attr("data-following",d?"false":"true")}})}}),function(a,b,c,d){c(b).on("click",'[data-action="mailing-list-subscribe"]',function(a){a.preventDefault();var b=parseInt(c(this).attr("data-mailing-list-id"),10);nfx.app.modalStackController.present(new nfx.modules.MailingListSubscribeModalModule({mailingListId:b}))})}(window,window.document,window.jQuery),function(a,b){a.Nextfinder={}}(window),function(a,b,c,d){var e={loadModule:function(b,c){var d=a.Nextfinder,c=void 0===c?"init":c;if(""!==b&&d[b]){var e=d[b][c];if(e)return e.create?e.create():void e()}},load:function(){var c=b.body,d=c.getAttribute("data-application"),f=c.getAttribute("data-view");a.Nextfinder.currentApplication=e.loadModule(d),a.Nextfinder.currentView=e.loadModule(d,f)}};c(b).ready(e.load)}(window,window.document,window.jQuery);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}};!function(a,b){var c=a.Nextfinder;c.Class=function(){};var d=function(){var a=new this;return a.init&&a.init.apply(a,arguments),a};c.Class.extend=function(a){function b(){}var c=this.prototype,e=new this;for(var f in a){var g=a[f];e[f]="function"==typeof g&&"function"==typeof c[f]?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(f,g):g}return b.prototype=e,b.extend=arguments.callee,b.create=d,b}}(window),function(a,b,c,d){b.formatting={formatMoney:function(a,b,c,d){var e=a,b=isNaN(b=Math.abs(b))?2:b,c=void 0==c?".":c,d=void 0==d?",":d,f=e<0?"-":"",g=parseInt(e=Math.abs(+e||0).toFixed(b))+"",h=(h=g.length)>3?h%3:0;return f+(h?g.substr(0,h)+d:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(b?c+Math.abs(e-g).toFixed(b).slice(2):"")},formatDate:function(a){var b=new Date(a),c=b.getDate(),d="January,February,March,April,May,June,July,August,September,October,November,December".split(",")[b.getMonth()],e=b.getFullYear();return d+" "+c+function(a){if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(b)+", "+e},formatInt:function(a,b){var c=a,d=isNaN(d=Math.abs(d))?2:d,b=void 0==b?",":b,e=c<0?"-":"",f=parseInt(c=Math.abs(+c||0).toFixed(d))+"",g=(g=f.length)>3?g%3:0;return e+(g?f.substr(0,g)+b:"")+f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+b)}}}(window,window.Nextfinder,window.jQuery),Handlebars.registerHelper("format_size",function(a){if(a<1e3)return a+" B";var b,c;return a>=1073741824?(b=1073741824,c="GiB"):a>1048576?(b=1048576,c="MiB"):(b=1024,c="KiB"),(parseFloat(a)/b).toPrecision(3)+" "+c}),Handlebars.registerHelper("percentage",function(a,b){return parseInt(100*parseFloat(a)/parseFloat(b),10)}),Handlebars.registerHelper("format_money",Nextfinder.formatting.formatMoney),Handlebars.registerHelper("verbal_join",function(a){return 0==a.length?"":1==a.length?a[0]:a.slice(0,a.length-1).join(", ")+" and "+a[a.length-1]}),Handlebars.registerHelper("country_options",function(a){var b=[["US","United States of America"],["AD","Andorra"],["AF","Afghanistan"],["DZ","Algeria"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI","Burundi"],["BJ","Benin"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia, Plurinational State of"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CM","Cameroon"],["CV","Cape Verde"],["KY","Cayman Islands"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CI","Cte d&#39;Ivoire"],["CK","Cook Islands"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CW","Curaao"],["CY","Cyprus"],["CZ","Czech Republic"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["SV","El Salvador"],["AE","Emirates, United Arab"],["EE","Estonia"],["EG","Egypt"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["GF","French Guiana"],["PF","French Polynesia"],["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["DE","Germany"],["GE","Georgia"],["GD","Grenada"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran, Islamic Republic of"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","Korea, Democratic People&#39;s Republic of"],["KR","Korea, Republic of"],["KW","Kuwait"],["KZ","Kazakhstan"],["LA","Lao People&#39;s Democratic Republic"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova, Republic of"],["ME","Montenegro"],["MF","Saint Martin (French part)"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia, the former Yugoslav Republic of"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["YT","Mayotte"],["FM","Micronesia, Federated States of"],["MZ","Mozambique"],["NA","Namibia"],["NR","Nauru"],["NC","New Caledonia"],["NZ","New Zealand"],["NE","Niger"],["NG","Nigeria"],["NI","Nicaragua"],["NU","Niue"],["NL","Netherlands"],["NP","Nepal"],["NF","Norfolk Island"],["NO","Norway"],["OM","Oman"],["PS","Palestine, State of"],["PK","Pakistan"],["PW","Palau"],["PA","Panama"],["PG","Papua New Guinea"],["PE","Peru"],["PN","Pitcairn"],["PH","Philippines"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RU","Russian Federation"],["RW","Rwanda"],["BL","Saint Barthlemy"],["PM","Saint Pierre and Miquelon"],["SM","San Marino"],["WS","Samoa"],["SA","Saudi Arabia"],["RS","Serbia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["CH","Switzerland"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["VC","Saint Vincent and the Grenadines"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["ZA","South Africa"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SX","Sint Maarten (Dutch part)"],["SY","Syrian Arab Republic"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan, Province of China"],["TZ","Tanzania, United Republic of"],["UA","Ukraine"],["UG","Uganda"],["GB","United Kingdom"],["UM","United States Minor Outlying Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Vatican City State"],["VE","Venezuela, Bolivarian Republic of"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"]],c=[];return $.each(b,function(){c.push('<option value="'+this[0]+'"'+(this[0]==a||!this[0]&&"US"==this[0]?' selected="selected"':"")+">"+this[1]+"</option>")}),new Handlebars.SafeString(c.join(""))}),function(a,b,c){function d(a){return/^(GET|HEAD|OPTIONS|TRACE)$/i.test(a)}function e(a){var b=document.location.host,c=document.location.protocol,d="//"+b,e=c+d;return a==e||a.slice(0,e.length+1)==e+"/"||a==d||a.slice(0,d.length+1)==d+"/"||!/^(\/\/|http:|https:).*/.test(a)}b.ajaxSetup({beforeSend:function(a,c){!d(c.type)&&e(c.url)&&a.setRequestHeader("X-CSRFToken",b.cookie("csrftoken"))}})}(window,window.jQuery),function(a,b,c,d){var e={400:{code:"bad_request",message:"Bad request"},404:{code:"not_found",message:"Not found"},500:{code:"internal_server_error",message:"Internal server error"},502:{code:"service_unavailable",message:"Iconfinder seems to be down"}};b.transport={request:function(a){var b=c.extend({},{method:"get",success:function(){},error:function(){}},a);c.ajax({dataType:"json",type:b.method,url:b.url,data:b.data,contentType:b.contentType,processData:b.processData,success:function(a){"success"==a.status?b.success(a):b.error(a.code,a)},error:function(a){if(!a||!a.status||!e[a.status])return b.error("unknown");var c=e[a.status];return b.error(c.code,{status:"error",code:c.code,message:c.message})}})},get:function(a){b.transport.request(c.extend({},{method:"get"},a))},post:function(a){b.transport.request(c.extend({},{method:"post"},a))}}}(window,window.Nextfinder,window.jQuery),function(a,b,c){b.generateRandomAlphanumeric=function(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}}(window,window.jQuery),function(a,b,c){function d(){var b=navigator.userAgent,d=navigator.vendor||"";return a.opera?-1!==b.indexOf("Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(b)?"BlackBerry":-1!==b.indexOf("Chrome")?"Chrome":-1!==d.indexOf("Apple")?-1!==b.indexOf("Mobile")?"Mobile Safari":"Safari":-1!==b.indexOf("Android")?"Android Mobile":-1!==b.indexOf("Konqueror")?"Konqueror":-1!==b.indexOf("Firefox")?"Firefox":-1!==b.indexOf("MSIE")?"Internet Explorer":-1!==b.indexOf("Gecko")?"Mozilla":c}function e(){var a=navigator.userAgent;return/Windows/i.test(a)?/Phone/.test(a)?"Windows Mobile":"Windows":/(iPhone|iPad|iPod)/.test(a)?"iOS":/Android/.test(a)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Mac/i.test(a)?"Mac OS X":/Linux/.test(a)?"Linux":c}function f(){var a=navigator.userAgent;return/iPhone/.test(a)?"iPhone":/iPad/.test(a)?"iPad":/iPod/.test(a)?"iPod Touch":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Windows Phone/i.test(a)?"Windows Phone":/Android/.test(a)?"Android":c}function g(){var a=function(){for(var a=1*new Date,b=0;a==1*new Date;)b++;return a.toString(16)+b.toString(16)},b=(screen.height*screen.width).toString(16);return a()+"-"+function(){return Math.random().toString(16).replace(".","")}()+"-"+function(a){function b(a,b){var c,d=0;for(c=0;c<b.length;c++)d|=f[c]<<8*c;return a^d}var c,d,e=navigator.userAgent,f=[],g=0;for(c=0;c<e.length;c++)d=e.charCodeAt(c),f.unshift(255&d),f.length>=4&&(g=b(g,f),f=[]);return f.length>0&&(g=b(g,f)),g.toString(16)}()+"-"+b+"-"+a()}a.Norm={uuid:c,pageViewUuid:c,initialReferrer:c,pageProperties:{},track:function(a,g,h){var i=g&&b.isFunction(g),j=i?{}:g||{},k=i?g:b.isFunction(h)?h:c,l={event:a,uuid:this.uuid,properties:b.extend({$os:e(),$browser:d(),$device:f(),$initialReferrer:this.initialReferrer||"$direct",$referrer:document.referrer||c,$url:document.location.href,$pageViewUuid:this.pageViewUuid},this.pageProperties,j)};dataString=b.toJSON(l),b.ajax({url:"https://track.iconfinder.com/event?data="+encodeURIComponent(Base64.encode(dataString)),cache:!1,dataType:"json",error:function(a,b,c){k&&k(a)},success:function(){k&&k()}})}};var h=a.Norm;h.uuid=b.cookie("norm_uuid"),h.initialReferrer=b.cookie("norm_initial_referrer"),h.pageViewUuid=g(),h.uuid||(h.uuid=g(),b.cookie("norm_uuid",h.uuid,{secure:!0}),h.initialReferrer=document.referrer||c,h.initialReferrer&&b.cookie("norm_initial_referrer",h.initialReferrer,{secure:!0})),b(a.document).ready(function(){h.track("$page_view")})}(window,window.jQuery),function(a,b,c,d){var e=b.Class.extend({trackEvent:function(a,b,c,d,e,f){_gaq.push(["_trackEvent",a,b,c,d,f||!1])},trackPageview:function(a,b){_gaq.push(["_trackPageview",a]),b&&_gaq.push(b)},trackTransaction:function(a,b,c,d,e,f,g,h,i,j){_gaq.push(["_addTrans",a,b,c,d,0,h,i,j]),_gaq.push(["_addItem",a,e,f,g,c,1]),_gaq.push(["_trackTrans"]),fbq("track","Purchase",{value:c,currency:"USD"})}}),f=(b.Class.extend({trackEvent:function(b,c,d,e,f,g){a.mixpanel&&mixpanel.track(b,{action:c,label:d,value:e})},trackPageview:function(a,b){},trackTransaction:function(a,b,c,d,e,f,g,h,i,j){}}),b.Class.extend({trackEvent:function(a,b,d,e,f,g){f=f?c.extend({},f):{},d&&(f.event_label=d),e&&(f.event_value=e),Norm.track(a+"/"+b,f)},trackPageview:function(a,b){},trackTransaction:function(a,b,c,d,e,f,g,h,i,j){Norm.track("Commerce/Transaction",{transaction_id:a,amount_total:c,product_id:e,product_name:f,product_type:g})}}));b.tracking={trackers:[e.create(),f.create()],trackEvent:function(a,b,d,e,f,g){c.each(this.trackers,function(c,h){h.trackEvent(a,b,d,e,f,g)})},trackPageview:function(a,b){c.each(this.trackers,function(c,d){d.trackPageview(a,b)})},trackTransaction:function(a,b,d,e,f,g,h,i,j,k){c.each(this.trackers,function(c,l){l.trackTransaction(a,b,d,e,f,g,h,i,j,k)})}},b.extendIntercomData=function(){var a={},b=c.cookie("__utmz"),d=c.urlParam("ref")||c.cookie("ref");if(b){var e=b.split(".");if(e.length>=4){var f=e[4].split("|");for(i=0;i<f.length;i++){var g=f[i].split("=");a[g[0]]=g[1]}}}d&&d!=USER.username&&(a.referal_username=d),c.extend(intercomSettings,a),"undefined"==typeof customIntercomData||c.isEmptyObject(customIntercomData)||c.extend(intercomSettings,customIntercomData)}}(window,window.Nextfinder,window.jQuery),function(a,b,c){b.fn.collapsableHorizontalMenuBar=function(){b(this).each(function(){function c(){var a=[],c=0;return k.each(function(){var d=b(this),e=d.outerWidth();a.push({listing:d.attr("data-listing"),width:e,sumAfter:c+e}),c+=e}),{links:a,total:c}}function d(a){if(null===a)return null;var b=h.find('li a[data-listing="'+a+'"]');return 0===b.length?null:b.parent()}function e(){var e=parseInt(b(a).width()),j=parseInt(f.offset().left),k=parseInt(j+f.outerWidth()),m=e>k?k:e,n=m-j,o=c();if(o.total<=n)return g.hide().find("li").remove(),void i.show();g.show(),n-=g.outerWidth();for(var p=o.links.length-1;p>=0;p--){var q=o.links[p],r=l[q.listing],s=g.find('[data-listing="'+q.listing+'"]').parent();if(q.sumAfter<n)s.remove(),r.show();else if(0==s.length){s=b("<li></li>").append(r.clone());var t=d(p+1==o.links.length?null:o.links[p+1].listing);null===t?s.appendTo(h):s.insertBefore(t),r.hide()}}}for(var f=b(this),g=f.find(".btn-group"),h=g.find("ul"),i=f.find("> a"),j=f.clone().addClass("collapsable-bar-shadow").css({top:"-9999px"}).insertBefore(f),k=j.find("> a"),l={},m=0;m<i.length;m++)l[b(i[m]).attr("data-listing")]=b(i[m]);b(a).resize(function(){e()}),e()})}}(window,window.jQuery),function(a,b){a.Icon=a.Class.extend({init:function(a){this.iconId=a.iconId,this.tags=a.tags,this.rasterSizes=a.rasterSizes}}),a.IconRasterSize=a.Class.extend({init:function(a){this.iconVersionId=a.iconVersionId,this.sizeWidth=a.sizeWidth,this.sizeHeight=a.sizeHeight,this.size=Math.max(this.sizeWidth,this.sizeHeight),this.url=a.url}})}(window.Nextfinder),function(a,b){a.IconSet=a.Class.extend({init:function(a){this.iconsetId=a.iconsetId,this.icons=a.icons,this.isGlyph=a.isGlyph}})}(window.Nextfinder),function(a,b,c){a.Nextfinder.iconsets={init:function(){}}}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.TemplateTarget=d.Class.extend({init:function(a,b,c){this.canvas=a,this.template=b,this.settings=c},redraw:function(){this.template._ready?this.template.renderTarget(this):this.template._renderQueue.push(this)}}),d.iconsets.DefaultTemplate=d.Class.extend({init:function(a,c,d){this.width=c,this.height=d,this._renderQueue=[],this._ready=!1;maxRows=2,a=a.slice(0,3*maxRows);var e=(c-38-48)/2,f=19,g=19;if(a.length>0){var h,i,j=Math.floor(a.length/3),k=a.length%3;k.length>0?(h=j+1,i=a.length/h,a=a.slice(0,h*i),f=(c-48-(i-1)*e)/2):(i=3,h=j),g=(d-48-(h-1)*e)/2}var l=this;this.maxSize=48,this.icons=[],this.iconsLoaded=0;var m=0;b.each(a,function(){function a(a,b){return a.size<b.size?-1:a.size>b.size?1:0}this.rasterSizes.sort(a);for(var b=null,c=0;c<this.rasterSizes.length;c++)this.rasterSizes[c].size<=48&&(b=this.rasterSizes[c]);null===b&&(b=this.rasterSizes[0]);var d=new Image;d.src=b.url,d.onload=function(){++l.iconsLoaded==l.icons.length&&l._readyCallback()};var h=b.size>48?b.sizeWidth/b.size*48:b.sizeWidth,j=b.size>48?b.sizeHeight/b.size*48:b.sizeHeight,k=Math.floor(m/i),n=m%i;l.icons.push({width:h,height:j,image:d,x:f+e*n+Math.floor((48-h)/2),y:g+e*k+Math.floor((48-j)/2)}),m++}),0==this.icons&&this._readyCallback()},_readyCallback:function(){var a=this;this._preRender(),this._ready=!0,b.each(this._renderQueue,function(){a.renderTarget(this)}),this._renderQueue=[]},createTarget:function(a,b){var c=d.iconsets.TemplateTarget.create(a,this,b);return this._ready?this.renderTarget(c):this._renderQueue.push(c),c},_preRender:function(){this._iconsLayer=b("<canvas>").attr({width:this.width,height:this.height})[0];var a=this._iconsLayer.getContext("2d");b.each(this.icons,function(){a.drawImage(this.image,this.x,this.y,this.width,this.height)}),this._maskLayer=b("<canvas>").attr({width:this.width,height:this.height})[0],this._maskContext=this._maskLayer.getContext("2d"),this._maskContext.drawImage(this._iconsLayer,0,0),this._maskContext.globalCompositeOperation="source-in"},renderTarget:function(a){var b=a.canvas.getContext("2d");b.fillStyle=a.settings.backgroundColor,b.fillRect(0,0,this.width,this.height),a.settings.maskColor?(this._maskContext.fillStyle=a.settings.maskColor,this._maskContext.fillRect(0,0,this.width,this.height),b.drawImage(this._maskLayer,0,0)):b.drawImage(this._iconsLayer,0,0)}}),d.iconsets.edit_preview=d.Class.extend({init:function(){var c=DefaultTemplate.create(a.ICONS,220,188);b('canvas[data-template-preview="true"]').each(function(){c.createTarget(this,{backgroundColor:b(this).attr("data-background-color"),maskColor:b(this).attr("data-mask-color")})})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.manage=d.Class.extend({_iconsetId:null,editTags:function(a,c){function d(a,c){var d=b("body").createFormModal({title:"Edit tags",template:"iconsets/templates/edit_tags.html",actionLabel:"Save tags",context:{icon:a,tags:a.tags,suggested_tags:c}},function(a){return"success"==a.status?b.pnotify({pnotify_title:"Tags saved successfully",pnotify_text:"All tags have been saved."}):b.pnotify({pnotify_title:"Oops! Something went wrong",pnotify_text:"Tags have not been saved correctly."}),!1}),e=d.find(".tags").tagsInput({width:"auto"});return d.find("[data-tag]").on("click",function(){var a=b(this).attr("data-tag");return e.tagExist(a)||e.addTag(a),!1}),!1}b.ajax({dataType:"json",url:"/iconsets/"+a+"/icons/"+c+"/tags",success:function(a){d(a.icon,a.suggested_tags)}})},init:function(){var a=this;this._iconsetId=b(".icon[data-iconset-id]").attr("data-iconset-id"),this._iconsetIsPremium="true"==b(".icon[data-iconset-id]").attr("data-iconset-is-premium"),this._activateButton=b('[data-action="activate-selected"]'),this._deactivateButton=b('[data-action="deactivate-selected"]'),this._deleteButton=b('[data-action="delete-selected"]'),b('.icon input[type="checkbox"]').click(function(){var c=b(this).parent();b(this).is(":checked")?b(c).addClass("selected"):b(c).removeClass("selected"),a.updateButtonState()}),b(".action-tags-edit").click(function(){var c=b(this).closest("[data-icon-id]"),d=c.attr("data-iconset-id"),e=c.attr("data-icon-id");return a.editTags(d,e),!1})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.manage_overview=d.Class.extend({createCollection:function(){b("body").createFormModal({title:"New collection",template:"iconsets/templates/new_collection.html",actionLabel:"Create collection"},function(a){location.reload()})},init:function(){var a=this;b('[data-action="new-collection"]').click(function(){return a.createCollection(),!1}),b('[data-action="delete-collection"]').click(function(){return a.deleteCollection(b(this).closest("[data-collection-id]").attr("data-collection-id")),!1}),b('[data-action="edit-collection"]').click(function(){return a.editCollection(b(this).closest("[data-collection-id]").attr("data-collection-id")),!1}),b('[data-action="delete-iconset"]').click(function(){return a.deletePackage(b(this).closest("[data-iconset-id]").attr("data-iconset-id")),!1})},deleteCollection:function(a){confirm("Are you sure you want to delete this collection?")&&b.ajax({type:"POST",url:"/collections/"+a+"/delete",success:function(){b("table").find("[data-collection-id='"+a+"']").remove(),b.pnotify({pnotify_title:"Collection deleted",pnotify_text:"One collection was deleted."})}})},editCollection:function(a){b.ajax({type:"GET",url:"/collections/"+a+"/edit",success:function(a){b("body").createFormModal({title:"Edit collection",template:"iconsets/templates/edit_collection.html",actionLabel:"Update collection",context:a},function(a){location.reload()})}})},deletePackage:function(a){confirm("Are you sure you want to delete this iconset?")&&b.ajax({type:"POST",url:"/iconsets/"+a+"/delete",success:function(){b("table").find("[data-iconset-id='"+a+"']").remove(),b.pnotify({pnotify_title:"Icon set deleted",pnotify_text:"One icon set and its icons was deleted."})}})}})}(window,window.jQuery),function(a,b,c,d){var e=a.Nextfinder,f=".management-container .version-container .drop-cover",g=".management-container .spacer";e.iconsets.edit_icons=e.Class.extend({_iconsetId:null,_tagInputs:null,initializeContainer:function(a){var b=this;this._tagInputs={},a.find("[data-icon-id]").each(function(){var a=c(this).attr("data-icon-id"),d=c(this).find('.tags input[type="text"]');b._tagInputs[a]=d.tagsInput()}),a.find(".tags .tagsinput").css({width:"",height:""})},deleteIcon:function(a){a.fadeOut("fast",function(){a.next(".spacer").remove(),a.remove()})},updateIcon:function(a){var b=a.find(".version");0==b.length&&this.deleteIcon(a);var c=b.find("a.delete");1==b.length?c.hide():c.show()},createIcon:function(a,b,d){var e=(c('<div class="spacer">').insertAfter(a),c(Handlebars.templates["iconsets/templates/edit_icons_icon.html"]({iconset_id:this._iconsetId,tags:b,is_active:d})).insertAfter(a));return this.initializeContainer(e),e},submit:function(){var a=this,b=[];if(c("[data-icon-id]").each(function(){if(void 0!==b){var a=c(this),d=a.attr("data-icon-id"),e=a.find('input[type="text"]').val(),f=[];if(a.find("[data-iconversion-id]").each(function(){f.push(c(this).attr("data-iconversion-id"))}),0!=f.length)return""==c.trim(e)?(b=void 0,void alert("Error: Icon (ID "+d+") or more icons have no tags.")):void b.push({iconId:"new"==d?null:d,isActive:"true"==a.attr("data-active"),tags:e,versions:f})}}),void 0!==b){for(var d={icon_count:b.length},e=b.length;e--;){var f=b[e];d["icon_"+e+"_icon_id"]=f.iconId,d["icon_"+e+"_tags"]=f.tags,d["icon_"+e+"_is_active"]=f.isActive?"true":"false",d["icon_"+e+"_versions"]=f.versions.join(",")}var g=c("body").overlayLoader("Saving changes...");c.ajax({type:"POST",url:"/iconsets/"+this._iconsetId+"/icons/edit",dataType:"json",data:d,success:function(b){location.href="/iconsets/"+a._iconsetId+"/manage"},error:function(){g.remove(),alert("Failed to save changes. Please try again or reload the page if the problem persists.")}})}},init:function(){function a(a){
if(d.isDraggingVersion)return a.preventDefault(),!1}var d=this;this.isDraggingVersion=!1,this.draggingVersion=null,c(b).on("dragstart","[data-iconversion-id]",function(a){d.isDraggingVersion=!0,d.draggingVersion=c(this);var b=c(this).closest(".version-container");c(".management-container .version-container").each(function(){this!=b[0]&&c(this).append('<div class="drop-cover"></div>')})}).on("dragend","[data-iconversion-id]",function(){d.isDraggingVersion=!1;var a=c(".management-container");a.find(".version.ghost, .version-container > .drop-cover").remove(),a.find(".spacer-drop-target").removeClass("spacer-drop-target").html("")});var e=null;c(b).on("dragenter",g,function(b){if(!1===a(b)){var d=c(this);return e=setTimeout(function(){e=null,d.addClass("spacer-drop-target").html("Create new icon")},100),!1}}).on("dragover",g,a).on("dragleave",g,function(){c(this).removeClass("spacer-drop-target").html(""),e&&clearTimeout(e)}).on("drop",g,function(a){if(d.isDraggingVersion){var b=d.draggingVersion.closest("[data-icon-id]"),e=d.createIcon(c(this),b.find('input[type="text"]').val(),"true"==b.attr("data-active"));d.draggingVersion.remove().appendTo(e.find(".version-container")),d.updateIcon(b),d.updateIcon(e)}}),c(b).on("dragenter",f,function(b){if(!1===a(b))return c(this).parent().append('<div class="version ghost">&nbsp;</div>'),!1}).on("dragover",f,a).on("dragleave",f,function(){c(this).parent().find(".version.ghost").remove()}).on("drop",f,function(a){if(d.isDraggingVersion){var b=d.draggingVersion.closest("[data-icon-id]"),e=c(this).closest("[data-icon-id]");d.draggingVersion.remove().appendTo(e.find(".version-container")),d.updateIcon(b),d.updateIcon(e)}}),c(b).on("click",'[data-action="delete-icon"]',function(a){return!!confirm("Are you sure you want to delete this icon?\n\nThere's no way back, once you've deleted it. Seriously.")&&(d.deleteIcon(c(this).closest("[data-icon-id]")),!1)}).on("click",'[data-action="toggle-icon-active"]',function(a){var b=c(this).closest("[data-icon-id]");return"true"==b.attr("data-active")?(b.attr("data-active","false"),c(this).removeClass("is-active")):(b.attr("data-active","true"),c(this).addClass("is-active")),!1}).on("click",'[data-action="delete-version"]',function(a){if(!confirm("Are you sure you want to delete this icon version?\n\nSomeone might need it, you know."))return!1;var b=c(this).closest("[data-icon-id]");return c(this).closest(".version").remove(),d.updateIcon(b),!1}).on("click",'[data-action="submit"]',function(a){return d.submit(),!1}),c(b).on("click",".tagslist [data-tag]",function(a){var b=c(this).closest("[data-icon-id]"),e=b.attr("data-icon-id"),f=c(this).attr("data-tag"),g=d._tagInputs[e];c(this).remove(),g.tagExist(f)||g.addTag(f),d.updateSuggestions([e])}),this._iconsetId=c(".management-container [data-iconset-id]").attr("data-iconset-id"),this.initializeContainer(c(".management-container")),this.updateSuggestions()},updateSuggestions:function(a){if(iconMap={},void 0===a)c("[data-icon-id]").each(function(){iconMap[c(this).attr("data-icon-id")]=!0});else for(var b=0;b<a.length;b++)iconMap[a[b]]=!0;iconTags={},c("[data-icon-id]").each(function(){var a=c(this),b=a.attr("data-icon-id");!0===iconMap[b]&&(iconTags[b]=c.trim(a.find('input[type="text"]').val()).split(","))}),c.ajax({type:"post",url:"/iconsets/"+this._iconsetId+"/icons/tags/suggest",data:JSON.stringify(iconTags),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){for(iconId in a.suggestions){choicesContainer=c('[data-icon-id="'+iconId+'"] .suggestions .tagslist').html('<div class="tags_clear"></div>').removeClass("loading"),tags=a.suggestions[iconId];for(var b=0;b<tags.length;b++)tag=tags[b],c('<span class="tag"></span>').html("+ "+tag).attr("data-tag",tag).prependTo(choicesContainer)}},failure:function(a){console.log("Request failed:",a)}})}})}(window,window.document,window.jQuery),function(a,b,c,d){var e=a.Nextfinder;e.iconsets.edit_icon=e.Class.extend({init:function(){var a=this;this._uploadForm=c("#upload-form"),this._uploadFormFile=this._uploadForm.find('[type="file"]'),this._uploadFormFile.change(function(b){a._uploadForm.submit(),c("body").overlay().overlayLoader("Replacing icon version...")}),c(b).on("click",'[data-action="replace-iconversion"]',function(b){b.preventDefault();var d=c(this),e=parseInt(d.attr("data-iconset-id"),10),f=parseInt(d.attr("data-icon-id"),10),g=parseInt(d.attr("data-iconversion-id"),10);if(!e||!f||!g)return void console.log("Missing icon IDs");if(confirm("Replacing an icon version does not perform any checks on the uploaded content. Please make sure the file type and data is consistent yourself. Understood?")){c("#upload-form");a._uploadForm.attr("action","/iconsets/"+e.toString()+"/icons/"+f.toString()+"/versions/"+g.toString()+"/replace"),a._uploadFormFile.click()}})}})}(window,window.document,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.edit=d.Class.extend({init:function(){function c(a){var b=a/100*e,c=Math.floor(b),f=Math.floor(.8*b);if(f>9){var g=f%10;f-=g<3?g+1:g<8?g-4:g-9,f>c&&(f=c)}f<1&&(f=1),d.val(f)}b("#id_collection").change(function(){"create"==b(this).val()&&(b(this).val(""),a.Nextfinder.modals.CreateCollection.create({callback:function(a,c){var d=b("<option></option");d.val(a),d.html(c),b("#id_collection option:last-child").before(d),b("#id_collection").val(a),b.pnotify({pnotify_title:'Created collection "'+c+"'",pnotify_text:"Your new collection has been created and is ready for use."})}}))});var d=b('input[name="price_per_set"]'),e=parseInt(b("[data-icons-count]").attr("data-icons-count"),10),f=b('select[name="price_per_icon"]');b(document).on("change",'select[name="price_per_icon"]',function(a){c(parseInt(f.val(),10))}),""===d.val()&&c(parseInt(f.val(),10))}})}(window,window.jQuery),function(a,b,c){function d(a){return 0==a.length||"#"==a?"":null===a.match(/^\#?(?:[0-9a-f]{3}|[0-9a-f]{6})$/i)?null:(a="#"!=a[0]?"#"+a.toLowerCase():a.toLowerCase(),4==a.length?"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]:a)}var e=a.Nextfinder;e.iconsets.base_edit_preview=e.Class.extend({init:function(){function c(){var a=d(f.backgroundColorInput.val()),b=d(f.maskColorInput.val()),c=""!==a&&null!==a,e=null!==b,g=c&&e;f.backgroundColorInput.toggleClass("invalid",!c),f.maskColorInput.toggleClass("invalid",!e),f.toggleFormEnabled(g),g&&!f.isColorSchemeSaved(a,b)?f.saveSchemeButton.removeAttr("disabled"):f.saveSchemeButton.attr("disabled","disabled"),g&&f.updateSelected(a,b)}this.template=e.iconsets.DefaultTemplate.create(a.ICONS,220,153),this.backgroundColorInput=b('input[name="background_color"]'),this.maskColorInput=b('input[name="mask_color"]'),this.saveSchemeButton=b('input[name="save_color_scheme"]'),this.submitButtons=b('#main-content [type="submit"]');var f=this;b('.preview-template-options canvas[data-template-preview="true"]').each(function(){f.template.createTarget(this,{backgroundColor:b(this).attr("data-background-color"),maskColor:b(this).attr("data-mask-color")})});var g=b('.preview-template-selected canvas[data-template-preview="true"]');this.selectedTarget=this.template.createTarget(g[0],{backgroundColor:g.attr("data-background-color"),maskColor:g.attr("data-mask-color")}),this.backgroundColorInput.change(c).keypress(c).keyup(c),this.maskColorInput.change(c).keypress(c).keyup(c),b(a.document).on("click","article.preview-option",function(a){var d=b(this).find("canvas");f.backgroundColorInput.val(d.attr("data-background-color")),f.maskColorInput.val(d.attr("data-mask-color")),c()}),this.saveSchemeButton.click(function(){f.saveSelected()}),c()},updateSelected:function(a,b){this.selectedTarget.settings.backgroundColor=a,this.selectedTarget.settings.maskColor=b,this.selectedTarget.redraw()},toggleFormEnabled:function(a){this.formEnabled=a,a?this.submitButtons.removeAttr("disabled"):this.submitButtons.attr("disabled","disabled")},isColorSchemeSaved:function(a,c){for(var d=b(".preview-option canvas"),e=0;e<d.length;e++){var f=b(d[e]),g=f.attr("data-background-color").toLowerCase(),h=void 0==f.attr("data-mask-color")?"":f.attr("data-mask-color").toLowerCase();if(a==g&&c==h)return!0}return!1},saveSelected:function(){var a=this,c=d(this.backgroundColorInput.val()),f=d(this.maskColorInput.val()),g=b("body").overlayLoader("Saving changes...");e.transport.post({url:"/iconsets/preview-templates",data:{background_color:c,mask_color:f},success:function(d){g.remove();var e=b('.preview-option-category[data-category="custom"]'),h=b('<article class="preview-option"><canvas data-template-preview="true" data-background-color="'+c+'" data-mask-color="'+f+'" width="220" height="153"></canvas></article>').appendTo(e);a.template.createTarget(h.find("canvas")[0],{backgroundColor:c,maskColor:f}),a.saveSchemeButton.attr("disabled","disabled"),e.css("display","block")},error:function(){g.remove(),alert("Failed to save color scheme. Please try again or reload the page if the problem persists.")}})}}),e.iconsets.edit_preview=e.iconsets.base_edit_preview.extend({})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.details=d.Class.extend({init:function(){var a=b(".iconset-details");this.iconsetId=a.attr("data-iconset-id"),this.iconsetIsPremium="true"==a.attr("data-iconset-is-premium"),this.iconsetIsPurchased="true"==a.attr("data-iconset-is-purchased"),Nextfinder.tracking.trackEvent("Icon set","View details",this.iconsetIsPremium?this.iconsetIsPurchased?"Premium, purchased":"Premium":"Non-premium",this.iconsetId)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.review=d.Class.extend({init:function(){function a(){c.updateFormState()}var c=this;this.action=null,b('input[name="action"]').change(function(){b(".option").removeClass("active"),b(this).closest(".option").addClass("active"),c.action=b('input[name="action"]:checked').val(),c.updateFormState()}),this.form=b("#main-content form"),this.form.find("div.review-reasons").hide(),this.form.find("input[type=checkbox]").change(function(){b(this).is(":checked")?b(this).closest("label").find(".review-reasons").slideDown():b(this).closest("label").find(".review-reasons").slideUp()}),this.submitButtons=this.form.find('[type="submit"]'),this.rejectionReasons=this.form.find(".review-rejection"),this.rejectionReasonCheckboxes=this.rejectionReasons.find('label input[type="checkbox"]').change(a).each(function(){b(this).val(b.trim(b(this).closest("label").find("span").text()))}),this.otherReasonsList=this.form.find("ul.other-reasons"),this.otherReasonInput=this.otherReasonsList.find("textarea").change(a).keypress(function(c){if(13==c.keyCode){var d=b("<li />");b('<input type="hidden" name="reasons[]" />').val(b(this).val()).appendTo(d);var e=b("<label />").html(b(this).val()+"&nbsp;").appendTo(d);b('<a href="#">&times;</a>').click(function(){return d.remove(),a(),!1}).appendTo(e);d.insertBefore(b(this).closest("li")),c.preventDefault(),b(this).val("")}a()}).keydown(a).keyup(a),b("a[href='#uncheck-all']").on("click",function(a){a.preventDefault();var c=b("#feedback").val();b("input[name='reasons[]']").val(""),b('label input[type="checkbox"]').attr("checked",!1),b("#feedback").val(c),b('label input[type="checkbox"]').closest("label").find(".review-reasons").slideUp()}),b("input[type=checkbox]:checked").size()>0&&(b("a[href='#uncheck-all']").closest("span").css("display",""),b(".require-changes").click(),b(".handbook").click(),b("input[type=checkbox]:checked").closest("label").find(".review-reasons").slideDown())},updateFormState:function(){this.isSubmittable()?this.submitButtons.removeAttr("disabled"):this.submitButtons.attr("disabled","disabled");var a={approve:"Approve icon set",require_changes:"Request changes for icon set",reject:"Reject icon set"};if(this.submitButtons.html(a[this.action]?a[this.action]:"Update"),this.rejectionReasons.toggle(null!=this.action&&"approve"!=this.action),"approve"==this.action){var c=b("#feedback").val();b("input[name='reasons[]']").val(""),b('label input[type="checkbox"]').attr("checked",!1),b("#feedback").val(c)}},isSubmittable:function(){return null!=this.action&&("approve"==this.action||(!!this.rejectionReasonCheckboxes.is(":checked")||(this.otherReasonsList.find('li input[type="hidden"]').length>0||b.trim(this.otherReasonInput.val()).length>0)))}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconsets.admin_promoted=d.Class.extend({init:function(){var a=this;a.source=null,b(".draggable").attr("draggable",!0),b(".draggable a").attr("draggable",!1),b(".draggable").on("dragstart",function(b){a.drag(b)}),b(".draggable").on("dragover",function(a){a.preventDefault(),a.stopPropagation(),b(a.target).closest(".draggable").addClass("drag-selected")}),b(".draggable").on("dragleave",function(a){a.preventDefault(),a.stopPropagation(),b(a.target).closest(".draggable").removeClass("drag-selected")}),b(".draggable-container").on("drop",function(b){a.drop(b)}),b(document).on("click",'[data-action="iconset-demote"]',function(c){c.preventDefault();var d=b(this).closest(".draggable"),e=d.find("article").attr("data-iconset-id");nfx.services.iconsetPromotionService.demote(e).then(function(){d.remove(),a.updateLabels()},function(a){console.log(a)})})},drag:function(a){self.source=b(a.target)},drop:function(a){var c=this;a.preventDefault(),a.stopPropagation(),b(this).removeClass("drag-selected");var d=b(a.target).closest(".draggable");d.removeClass("drag-selected");var e=source.find("article").attr("data-iconset-id"),f=null;if(source.index()>d.index()){if(0!=d.index()){var g=source.closest(".draggable-container").find(".draggable")[d.index()-1];f=b(g).find("article").attr("data-iconset-id")}d.before(source)}else f=d.find("article").attr("data-iconset-id"),d.after(source);e!=f&&nfx.services.iconsetPromotionService.promote(e,f).then(c.updateLabels)},updateLabels:function(){for(var a=b(".draggable"),c=0;c<a.length;c++){var d=b(a[c]);d.find(".item-order").text(d.index()+1)}}})}(window,window.jQuery),function(a,b){a.Nextfinder.profiles={}}(window),function(a,b,c){var d=a.Nextfinder;d.profiles.details=d.Class.extend({init:function(){b("input.btn-file").change(function(){var a=b(this).val();if(a&&""!=a){var c=/[.]/.exec(a)?/[^.]+$/.exec(a)[0]:void 0;if(!c||""==c||void 0==c||"jpg"!=c.toLowerCase()&&"jpeg"!=c.toLowerCase()&&"png"!=c.toLowerCase())return void alert("Unsupported file format for cover picture. Please choose a JPEG or PNG picture.");b("body").overlay().overlayLoader("Uploading image ..."),b("#edit-profile").submit()}}),b(".designer-search").on("submit",function(c){c.preventDefault();var d=b(".designer-search .query").val(),e=b(".designer-search .query").data("username");a.location="/search/?q="+encodeURIComponent("designer:"+e+" "+d)}),b(".iconset-navigation a").on("click",function(){var a=b(this).data("collection-id");return"collection-_allcollections"==a?b(".collection").slideDown().fadeIn():b(".collection").each(function(){b(this).attr("id")==a?b(this).slideDown().fadeIn():b(this).slideUp().fadeOut()}),b(".iconset-navigation").find(".active").removeClass("active"),b(this).addClass("active"),!1})}})}(window,window.jQuery),function(a,b,c){a.Nextfinder.account={init:function(){}}}(window,window.jQuery),function(a,b,c,d){var e=a.Nextfinder;e.account.dashboard=e.Class.extend({init:function(){}})}(window,window.document,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.downloads=d.Class.extend({_initBindings:function(){},init:function(){this._initBindings()}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.balance=d.Class.extend({init:function(){b('[data-action="deposit-cash"]').click(function(){return a.Nextfinder.commerce.deposit_cash({success:function(){b.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_text:"Your account balance was updated successfully."}),Nextfinder.transport.get({url:"/account/ajax/state/",success:function(a){b('[data-content="user-balance"]').text("$ "+Nextfinder.formatting.formatMoney(a.user.balance))}})},error:function(){location.reload()}}),!1}),b('[data-action="redeem-giftcard"]').click(function(){})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.payment_methods=d.Class.extend({init:function(){var a=this;b(document).on("click",".credit-card .default",function(){var a=b(this);a.hasClass("checked")||d.transport.post({url:"/account/ajax/payment-methods/"+b(this).closest("[data-card-id]").attr("data-card-id")+"/default",success:function(){b(".credit-card .default").removeClass("checked"),a.addClass("checked"),b.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Credit card made default",pnotify_text:"The selected credit card is now your default credit card."})}})}),b('[data-action="delete-credit-card"]').click(function(){if(!confirm("Are you sure you want to remove this credit card from your account?"))return!1}),b('[data-action="change-method"]').click(function(c){c.preventDefault();var d=b(this).attr("data-value");a.changeMethod(d)}),b('[data-action="cash-out-submit"]').click(function(b){b.preventDefault(),a.submitCashoutForm()});var c=b('[name="cash_out_method"]').val();c||(c="paypal"),a.changeMethod(c),b(document).on("click",'[data-action="add-credit-card"]',function(){nfx.app.modalStackController.present(new nfx.modules.AddCreditCardModalModule({didAddCreditCard:function(){location.reload()}}))})},changeMethod:function(a){self.method!=a&&(self.method=a,self.methods||(self.methods=b("#cash-out-methods")),self.forms||(self.forms=b("#cash-out-forms")),self.methods.children('[data-value!="'+a+'"]').removeClass("active"),self.methods.children('[data-value="'+a+'"]').addClass("active"),self.forms.children('[data-cash-out-method!="'+a+'"]').hide(),self.forms.children('[data-cash-out-method="'+a+'"]').show())},submitCashoutForm:function(){var a=self.forms.children('[data-cash-out-method="'+self.method+'"]');a[0].cash_out_method.value=self.method,a.submit()}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.privatemessages=d.Class.extend({init:function(){b("#sub-bar").sticky({topSpacing:b("#navigation").outerHeight()}),b("#account-messages [data-message-id]").on("click",function(){var c=b(this).data("message-id"),d=a.location.href;a.location.href=d+"/message/"+c});var c=function(a){nfx.api.account.getUser().then(function(b){b.hasSufficientBillingDetails()?a():nfx.app.modalStackController.replaceTopmost(new nfx.modules.BillingDetailsModalModule({user:b,didUpdate:a}))})};b('[data-action="request-payment"]').on("click",function(){c(function(){nfx.app.modalStackController.replaceTopmost(new nfx.modules.RequestPaymentModalModule)})}),b('[data-action="buy-custom-service"]').on("click",function(){var d=b(this).data("service-id");Nextfinder.tracking.trackEvent("Commerce","Click to buy","Custom Service",d,{service_id:parseInt(d,10)}),c(function(){a.Nextfinder.commerce.purchase({asset:{identifier:"custom_service",primary_key:d},success:function(){location.reload()}})})}),b("#account-messages").on("click","[data-confirm]",function(){return confirm(b(this).data("confirm"))}),b(".reply-form textarea").autogrow(),b(".reply-form").on("change",'input[type="file"]',function(){var a=b(this),c=this.files[0].size,d=a.val().split("\\").pop();if(c>5e7||0===c)return alert("You cannot attach files larger than 50Mb."),a.wrap("<form>").closest("form").get(0).reset(),a.unwrap(),!1;d.length>25&&(d=d.substring(0,23)+"..."),a.siblings(".filename").text(d),b(".reply-form").valid()}),b(".reply-form").validate({rules:{text:{required:{depends:function(){return b('.reply-form input[name="file_attachment"]').val().length<1}}}}}),b.each(["success","error"],function(a,c){b.urlParam(c)&&b.pnotify({pnotify_title:b.urlParam(c),pnotify_history:!1})}),b('[data-action="report"]').on("click",function(){a.intercomSettings.thread_id=a.location.href,Intercom("show")})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder,e=["#1abc9c","#2ecc71","#27ae60","#3498db"];d.account.sales_overview=d.Class.extend({drawChart:function(){var c=b("#sales_chart").parent().width(),d=[10,70,30,20],f=d3.scale.ordinal().rangeRoundBands([0,c-d[1]-d[3]]),g=d3.scale.linear().range([0,200-d[0]-d[2]]),h=d3.scale.ordinal().range([e[0],e[1],e[2],e[3]]),i=d3.time.format("%b %d"),j=d3.select("#sales_chart").attr("width",c).attr("height",200),k=j.select("g.chart");null!==k[0][0]&&k.remove(),k=j.append("svg:g").attr("class","chart"),k.attr("transform","translate("+d[3]+","+(200-d[2])+")");var l=d3.layout.stack()(["subscription_earnings","icon_earnings","iconset_earnings","custom_service_earnings"].map(function(b){return a.SALES_DATA.map(function(a){return{x:a.date,y:+a[b]}})}));f.domain(l[0].map(function(a){return a.x})),g.domain([0,d3.max(l[l.length-1],function(a){return a.y0+a.y})]);var m=k.selectAll("g.rule").data(g.ticks(5)).enter().append("svg:g").attr("class","rule").attr("transform",function(a){return"translate(0,"+-g(a)+")"});m.append("svg:line").attr("x2",c-d[1]-d[3]).style("stroke",function(a){return a?"#F7F7F7":"#E0E0E1"});var n=k.selectAll("g.earning").data(l).enter().append("svg:g").attr("class","earning").style("fill",function(a,b){return h(b)}),o=(n.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(a){return f(a.x)+3}).attr("y",function(a){return-g(a.y0)-g(a.y)}).attr("height",function(a){return g(a.y)}).attr("width",f.rangeBand()>6?f.rangeBand()-6:f.rangeBand()),d3.min(l[0],function(a){return a.x})),p=Math.ceil(50/f.rangeBand());k.selectAll("text").data(f.domain()).enter().append("svg:text").attr("x",function(a){return f(a)+f.rangeBand()/2}).attr("y",6).attr("text-anchor","middle").attr("dy",".71em").text(function(a){return parseInt((a-o)/864e5,10)%p==0?i(a):""}).style("fill","#B2B2B2");m.append("svg:text").attr("x",c-d[1]-d[3]+6).attr("dy",".35em").text(function(a){return"$ "+d3.format(",.2f")(a)}).style("fill","#B2B2B2")},init:function(){var c=this;b(a).resize(function(){c.drawChart()}),this.drawChart()}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.login=d.Class.extend({init:function(){b(".fixture").remove();var a=b(".back").attr("href");nfx.app.modalStackController.present(new nfx.modules.LogInModalModule({dismissable:!1,onAuthenticate:function(){location.href=a||"/"}}),!1)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.signup=d.Class.extend({init:function(){b(".fixture").remove(),nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({dismissable:!1,onAuthenticate:function(){location.href="/"}}),!1)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.settings=d.Class.extend({init:function(){var a=this;b("body").find('[data-action="connect-facebook"]').click(function(){a.logInWithFacebook()})},logInWithFacebook:function(){var c=b("body").overlay();FB.login(function(b){b.authResponse?a.Nextfinder.transport.post({url:"/user/ajax/social/facebook/connect",data:{access_token:b.authResponse.accessToken},success:function(a){location.reload()},error:function(a,b){"already_connected"==a.code?alert("Another user is already connected with this Facebook account."):alert("Ooops! Something went wrong, sorry! Please try again."),c.remove()}}):c.remove()},{scope:"email"})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.account.billingdetails=d.Class.extend({init:function(){"personal"==b("#id_accounttype").val()&&(b("#id_company").prop("disabled",!0),b("#id_vat_number").prop("disabled",!0)),b("#id_accounttype").on("change",function(){"business"==b(this).val()?(b("#id_company").removeAttr("disabled"),b("#id_vat_number").removeAttr("disabled")):(b("#id_company").prop("disabled",!0),b("#id_company").removeClass("error"),b("#id_company").siblings(".error").remove(),b("#id_vat_number").prop("disabled",!0))})}})}(window,window.jQuery),function(a,b){a.Nextfinder.commerce={admin_sales_overview:a.Nextfinder.account.sales_overview}}(window),function(a,b,c,d){var e=b.Class.extend({init:function(a){this.settings=c.extend({},a),this.requestToken=c.generateRandomAlphanumeric(32),this.isSuccessful=!1,this.asset=m.prop(),this.offer=m.prop(),this.proPlanSmallest=m.prop(),this.user=nfx.mext.watchedProp(void 0,function(){c('[data-content="user-balance"]').html("$ "+b.formatting.formatMoney(this.user().balance()))}.bind(this)),this.getOffers()},getOffers:function(){var a=this;nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),nfx.api.commerce.getCheapestOffer(this.settings.asset.identifier,this.settings.asset.primary_key).then(function(b){if(a.asset(b.asset),a.offer(b.offer),a.user(b.user),a.proPlanSmallest(b.proPlanSmallest),!a.user().hasSufficientBillingDetails())return void a.getBillingDetails();a.user().balance()<a.offer().price()?a.handleInsufficientFunds():a.confirmPurchase()},function(b){Raven.captureMessage("getCheapestOffer failed:"+b),a.fail("Something is awry",["Something went wrong here. Please refresh the site and try again.",m("br"),m("br"),"If the problem persists, please do not hesitate to contact ",m("a",{href:"mailto:support@iconfinder.com"},"support@iconfinder.com"),"."])})},fail:function(a,b){nfx.app.modalStackController.replaceTopmostWithError(a,b)},getBillingDetails:function(){var a=this;nfx.app.modalStackController.replaceTopmost(new nfx.modules.BillingDetailsModalModule({user:this.user(),didUpdate:function(){a.getOffers()}}))},confirmPurchase:function(){var a=this;nfx.app.modalStackController.replaceTopmost(new nfx.modules.ConfirmAssetPurchaseModalModule({user:this.user(),offer:this.offer(),asset:this.asset(),proPlanSmallest:this.proPlanSmallest(),didConfirmPurchase:function(){a.purchase()},didConfirmPro:function(){a.beginSubscribeToPro()}}))},requestCashDeposit:function(){var a=this;nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),nfx.api.commerce.listCreditCards().then(function(b){nfx.app.modalStackController.replaceTopmost(new nfx.modules.DepositCashModalModule({creditCards:b.creditCards,referral:b.referral,didDeposit:function(){a.verifyBalance()}}))},function(b){Raven.captureMessage("listCreditCards failed:"+b),a.fail("Something went wrong","Sorry, but it seems that we cant get a hold of the servers. Please reload the page and try again.")})},handleInsufficientFunds:function(){var a=this;nfx.app.modalStackController.replaceTopmost(new nfx.modules.InsufficientFundsModalModule({user:this.user(),asset:this.asset(),proPlanSmallest:this.proPlanSmallest(),didChooseDeposit:function(){a.requestCashDeposit()},didChoosePro:function(){a.beginSubscribeToPro()}}))},purchase:function(){var a=this;nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),b.transport.post({url:"/commerce/ajax/purchase",data:{asset_identifier:a.settings.asset.identifier,asset_primary_key:a.settings.asset.primary_key,license_id:a.offer().license().licenseId(),request_token:a.requestToken},success:function(c){var d,e,f,g,h,i;"icon"==a.asset().type?(d="icon-"+a.asset().icon_id,e="icon",f=a.asset().tags.join(", ")+" icon",g="Icon",h=a.offer().price(),i={price:a.offer().price(),product_id:d,product_type:e,icon_id:parseInt(a.asset().icon_id,10)}):"iconset"==a.asset().type?(d="iconset-"+a.asset().iconset_id,e="package",f=a.asset().name,g="Icon set",h=a.offer().price(),i={price:a.offer().price(),iconset_id:parseInt(a.asset().iconset_id,10),product_id:d,product_type:"iconset"}):"custom_service"==a.asset().type?(d="Service",e="Service",f="Custom service",g="Custom service",h=a.asset().service_id,i={price:a.offer().price(),product_id:d,product_type:e,productName:f}):(console.log("Cannot handle asset type "+a.asset().type),Raven.captureMessage("Cannot handle asset type "+error)),g&&b.tracking.trackEvent("Commerce","Buy",g,1.25*h,i),b.tracking.trackTransaction(a.requestToken,"TBD",a.offer().price(),0,d,f,e,a.user().address().city(),a.user().address().state(),a.user().address().country()),a.isSuccessful=!0,c.display_post_purchase?a.displayCompletion():(nfx.app.modalStackController.dismissAll(),a.settings.success&&a.settings.success())},error:function(b,c){"insufficient_funds"==b?a.handleInsufficientFunds():(a.fail("Ooops","We don't know why, but for some reason, the purchase fell through. Please reload the page and try again"),Raven.setExtraContext({postData:this.data,code:b,response:c}),Raven.captureMessage("Purchase failed: "+b))}})},verifyBalance:function(){var a=this;nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),nfx.api.account.getUser().then(function(b){a.user(b),a.user().balance()<a.offer().price()?a.handleInsufficientFunds():a.confirmPurchase()},function(){a.fail("Ooops","We don't know why, but for some reason, we can't get your current balance. Please reload the page and try again."),Raven.captureMessage("Verify Balance failed")})},displayCompletion:function(){var a=this;nfx.app.modalStackController.replaceTopmost(new nfx.modules.AssetPurchaseCompletedModalModule({asset:this.asset(),didDismiss:function(){a.settings.success&&a.settings.success()}}))},beginSubscribeToPro:function(){var a=this;nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),nfx.api.commerce.listCreditCards().then(function(c){a.user(c.user);var d=null,e=a.proPlanSmallest().identifier();if(c.creditCards.length)for(var f=0;f<c.creditCards.length;f++){var g=c.creditCards[f];if(g.isDefault()&&"stripe"==g.paymentProvider()){d=g;break}}if(!d)return void nfx.app.modalStackController.replaceTopmost(new nfx.modules.SubscriptionPaymentModalModule({pricingPlanIdentifier:e,billingInterval:"monthly",creditCards:c.creditCards,didSubscribe:function(b,c){a.didSubscribeToPro(b,c)}}));b.transport.post({url:"/pro/ajax/subscribe",data:{card_id:d.cardId(),billing_interval:"monthly",plan_identifier:e},success:function(b){a.didSubscribeToPro(new nfx.models.ProSubscription(b.proSubscription),new nfx.models.Transaction(b.transaction))},error:function(a,b){var c="Something went wrong while trying to set up your subscription.";switch(a){case"invalid_credit_card":c="Invalid credit card data. Please check your credit card data below.";break;case"credit_card_declined":c="Your credit card was declined, sorry.";break;case"invalid_data":c="The data you have entered is not valid.";break;case"suspicious_activity":c="Your account has been flagged for suspicious activity. A support staff will review your account shortly. We're sorry about the inconvenience."}nfx.app.modalStackController.replaceTopmostWithError("Something went wrong",c),Raven.setExtraContext({code:a,response:b,card_id:d.cardId(),xhr:JSON.stringify(this)}),Raven.captureMessage("Subscription failed: "+a)}})},function(a){nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","Sorry, but it seems that we can't get a hold of the servers. Please reload the page and try again.")})},didSubscribeToPro:function(a,c){var d=a.plan().identifier();b.tracking.trackEvent("Commerce","Pro: Subscribe",d,c.amountPayment()),b.tracking.trackTransaction(c.transactionId(),"Iconfinder",c.amountPayment(),0,d,d,"Pro: Subscription","N/A","N/A","N/A"),nfx.app.modalStackController.replaceTopmost(new nfx.modules.SubscriptionCreatedModalModule({proSubscription:a,transaction:c,canDismissToReload:!0}))}});b.commerce.purchase=function(b){if(!a.USER)return void nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.reload()}}));e.create(b)}}(window,window.Nextfinder,window.jQuery),function(a,b,c,d){b.commerce.deposit_cash=function(a){function b(a){nfx.app.modalStackController.replaceTopmost(new nfx.modules.DepositCashModalModule({creditCards:a.creditCards,referral:a.referral,didDeposit:function(){nfx.app.modalStackController.dismissAll(),d.success()}}))}var d=c.extend({},{success:function(){}},a||{});nfx.app.modalStackController.replaceAllWithLoader("Hang tight..."),nfx.api.commerce.listCreditCards().then(function(a){if(!a.user.hasSufficientBillingDetails())return void nfx.app.modalStackController.replaceTopmost(new nfx.modules.BillingDetailsModalModule({user:a.user,didUpdate:function(){b({creditCards:a.creditCards,
referral:a.referral})}}));b({creditCards:a.creditCards,referral:a.referral})},function(a){nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","Sorry, but it seems that we can't get a hold of the servers. Please reload the page and try again.")})}}(window,window.Nextfinder,window.jQuery),function(a,b,c){a.Nextfinder.icons={init:function(){},getBase64:function(c){var d=b(c).data("format");if("svg"==d)b.ajax({dataType:"text",url:b(c).attr("href"),success:function(b){a.Nextfinder.modals.ShowDataURI.create({datauri:"data:image/svg+xml;base64,"+Base64.encode(b),format:d})}});else{var e=new Image;e.src=b(c).attr("href"),e.onload=function(){var b=document.createElement("canvas");b.width=this.width,b.height=this.height,b.getContext("2d").drawImage(this,0,0);var c=b.toDataURL("image/"+d);a.Nextfinder.modals.ShowDataURI.create({datauri:c,format:d})}}}}}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.icons.details=d.Class.extend({init:function(){var c=this;b('[data-action="buy-detailed-icon"]').click(function(){var c=b(this).attr("data-icon-id");a.Nextfinder.commerce.purchase({asset:{identifier:"icon",primary_key:c},success:function(){location.reload()}}),Nextfinder.tracking.trackEvent("Commerce","Click to buy","Icon",c,{icon_id:parseInt(c,10)})}),b('[data-action="select-size"]').click(function(a){a.preventDefault(),c.selectSize(b(this).data("iconsize"))});var d=a.location.hash.match(/size=(\d+)/);null!==d&&this.selectSize(parseInt(d[1],10));var e=b("#detail-icon");this.iconId=e.attr("data-icon-id"),this.iconIsPremium="true"==e.attr("data-icon-is-premium"),this.iconIsPurchased="true"==e.attr("data-icon-is-purchased"),Nextfinder.tracking.trackEvent("Icon","View details",this.iconIsPremium?this.iconIsPurchased?"Premium, purchased":"Premium":"Non-premium",this.iconId)},selectSize:function(c){if(0!=b("#alternativesizes").length){var d=b('#alternativesizes .alticons[data-size="'+c+'"]');if(currentAlternativeContainer=d.siblings("[data-size]:hidden"),0!=d.length){b("#detail-icon #downloadlinks").find("a[data-size]").each(function(){var a=b(this).data("size"),d=b(this).attr("href");d=d.replace("png/"+a,"png/"+c),d=d.replace("svg/"+a,"svg/"+c),b(this).attr("href",d),b(this).data("size",c)});var e=d.find(".hiddenicon img");0==e.length&&(e=d.find("img")),b("#detail-icon-img").attr("src",e.attr("src")).attr("width",e.attr("width")).attr("height",e.attr("height")),b(".iconsize").parent().removeClass("active"),b("[data-iconsize="+c+"]").parent().addClass("active"),currentAlternativeContainer.css("display","block"),d.css("display","none"),a.location.hash="size="+c}}}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.icons.admin_all_iconsets=d.Class.extend({createCollection:function(){b("body").createFormModal({title:"New collection",template:"iconsets/templates/new_collection.html",actionLabel:"Create collection"},function(a){location.reload()})},init:function(){var a=this;b('[data-action="new-collection"]').click(function(){return a.createCollection(),!1}),b('[data-action="delete-collection"]').click(function(){return a.deleteCollection(b(this).closest("[data-collection-id]").attr("data-collection-id")),!1}),b('[data-action="edit-collection"]').click(function(){return a.editCollection(b(this).closest("[data-collection-id]").attr("data-collection-id")),!1}),b('[data-action="delete-iconset"]').click(function(){return a.deletePackage(b(this).closest("[data-iconset-id]").attr("data-iconset-id")),!1})},deleteCollection:function(a){confirm("Are you sure you want to delete this collection?")&&b.ajax({type:"POST",url:"/collections/"+a+"/delete",success:function(){b("table").find("[data-collection-id='"+a+"']").remove(),b.pnotify({pnotify_title:"Collection deleted",pnotify_text:"One collection was deleted."})}})},editCollection:function(a){b.ajax({type:"GET",url:"/collections/"+a+"/edit",success:function(a){b("body").createFormModal({title:"Edit collection",template:"iconsets/templates/edit_collection.html",actionLabel:"Update collection",context:a},function(a){location.reload()})}})},deletePackage:function(a){confirm("Are you sure you want to delete this iconset?")&&b.ajax({type:"POST",url:"/iconsets/"+a+"/delete",success:function(){b("table").find("[data-iconset-id='"+a+"']").remove(),b.pnotify({pnotify_title:"Icon set deleted",pnotify_text:"One icon set and its icons was deleted."})}})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.icons.admin_problematic=d.Class.extend({init:function(){b(".tags").tagsInput({width:"auto"})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.icons.admin_merge_icons=d.Class.extend({init:function(){b("input.tags").tagsInput({width:"auto"})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.icons.registration_required=d.Class.extend({init:function(){b(".fixture").remove(),nfx.app.modalStackController.present(new nfx.modules.FreeDownloadPromptModalModule({onAuthenticate:function(){location.reload()}}),!1)}})}(window,window.jQuery),function(a,b){a.Nextfinder.browse={}}(window),function(a,b,c){a.Nextfinder.categories={init:function(){b(document).on("click",".category-list-toggle a",function(){return b(".link-grid").toggle(),b(".category-menu-container").toggleClass("active"),b(".category-list-toggle a").eq(0).html("Show categories"==b(".category-list-toggle a").eq(0).html()?"Hide categories":"Show categories"),!1})}}}(window,window.jQuery),function(a,b){a.Nextfinder.search={}}(window),function(a,b,c,d){function e(){x=g();var b=c(a).width();w!=b&&(c(".premium-icons").hasClass("collapsed")&&hidePremiumIcons(),n()),w=b}function f(){var a=c(".premium-icons");return a.removeClass("collapsed").find(".expand").remove(),a.children(":hidden").each(function(a){c(this).fadeIn()}),Nextfinder.tracking.trackEvent("Search results","Expand premium icons","Click button"),!1}function g(){var a=c("#icons").innerWidth()-(parseInt(c("#icons").css("padding-left"))+parseInt(c("#icons").css("padding-right"))),b=h(),d=Math.round(a/b);return d>0&&d<50?d:(console.log("Error: Cells per row is less than 0 or more than 50. CellPerRow value: "+d),!1)}function h(){var a=c("#searchresults .icon:visible").eq(0).outerWidth(!0);return a>0&&a<2e3?a:(console.log("Error: Icon width is less than 0 or more than 2000. iconWidth value: "+a),!1)}function i(){var a=c(".icon.premium").length;return void 0===a&&(a=0),a}function j(){var a=c(".icon.premium:visible").length;return void 0===a&&(a=0),a}function k(){return c("#icons").data("totalresults")}function l(){var a=c("#icons .icon:visible").length;return c(".expand:visible").length>0&&(a+=2),a}function m(){return c(".icon:visible").length}function n(){var a=c("#icons .icon").first().outerHeight(!0);try{var b=visibleIcons=l();j();b>u*t&&(b=u*t),t<visibleIcons/(r*s)&&(b+=j());var d=Math.ceil(b/x),e=d*a,f=e+80+"px";c("#icons").css("height",f)}catch(a){console.log("Error: Failed to autosize icons container: "+a)}}function o(){c("#icons").append(c("<div id='infscr-finished' class='button-container'><button class='btn btn-large scrolltotop'>Go to the top</button></div>"))}function p(b,c,d){return b.html("Loading new results ...").removeClass("not-loading"),b.remove(),t++,a.Nextfinder.currentView.addContinousScrolling(c,d),n(),!1}var q=a.Nextfinder;q.COOKIE_SEARCH_FILTER_MENU="search_filter_menu";var r=48,s=3,t=1,u=r*s,v=0,w=null,x=0,y=3,z=!0;a.hidePremiumIcons=function(){var a=c(".premium-icons"),b=i(),d=k(),e=c(".expand"),h=g();d-b<2*h&&(y=6),b==d?e.hide():(h*y==b?(c(".premium-icons .icon").show(),e.hide()):h*y>b?(c(".premium-icons .icon").show(),e.hide()):a.children().each(function(a){a>=h*y&&!c(this).hasClass("expand")?c(this).hide():c(this).show()}),c("div#icons div.premium-icons div.expand a").click(function(){return f(),n(),!1}))},q.search.results=q.Class.extend({validFilters:["license","minimum","maximum","type","style","price"],setCookies:function(a,b){c.get("/ajax/cookie/",a,function(a){b&&b()})},setCookiesAndUpdate:function(a){var b=this;this.setCookies(a,function(){b.reloadResults(b.properties.page,b.properties.items_per_page,b.properties.continous_scrolling)})},persistFilters:function(a){if(!z)return console.log("Error: Filters are persisted but remberFilters is not set to 'true'."),!1;for(var b=0;b<this.validFilters.length;b++){var d=this.validFilters[b],e=a[d];void 0===e||null===e?c.removeCookie(d,{path:"/"}):c.cookie(d,e,{path:"/",expires:7})}},clearPersistedFilters:function(){if(z)return console.log("Error: Persisted filters are being cleared but remberFilters is set to 'true'."),!1;for(var a=0;a<this.validFilters.length;a++){var b=this.validFilters[a];c.removeCookie(b,{path:"/"})}},serializeFilters:function(a){void 0===a&&(void 0===this.filters&&this.parseFilterState(),a=this.filters);var b={q:a.query};void 0!==a.license&&"0"!=a.license&&(b.license=a.license);for(var c=0;c<this.validFilters.length;c++){var d=this.validFilters[c],e=a[d];void 0!==e&&(b[d]=e)}return b},modifyFilters:function(a){var b=c.extend({},this.filters);for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);var e=this.serializeFilters(b);History.pushState(e,c("html > head > title").html(),"?"+c.param(e)),z&&this.persistFilters(this.serializeFilters())},showLoader:function(){0==c("#infscr-loading").length&&(c("body").append(c("<div id='infscr-loading'>&nbsp;</div>")),this.loadTimer=setTimeout(function(){c("#infscr-loading").fadeIn()},this.loaderDelay))},hideLoader:function(){clearTimeout(this.loadTimer);var a=c("#infscr-loading");a.fadeOut("fast",function(){a.remove()})},addContinousScrolling:function(a,b){var d=this;v=a,c("#pagination").hide();var e=Math.ceil(c("#icons").data().totalresults/b);e>1&&o();var f=c("#infscr-finished"),g={offset:"before-bottom-in-view"};f.show(),f.waypoint(function(a,h){f.detach(),f.waypoint("remove"),m()<u*t?v++<e-1?(d.showLoader(),c.get("/ajax/search/",c.extend({page:v},d.serializeFilters()),function(a){var b=c(a);c("#icons").append(b.find(".icon")),c("#icons").append(f),c("#loadmoreicons").detach(),f.waypoint(g),d.hideLoader(),n()})):(c("#icons").append(f),c(".scrolltotop").css("display","block"),d.hideLoader()):(d.hideLoader(),c("#icons").append("<div id='loadmoreicons' class='button-container'><button class='btn btn-large btn-primary not-loading' id='loadmoreiconsbutton'>Show more icons</button></div>"),c("#loadmoreiconsbutton").click(function(){p(c(this),v,b)}))},g),0==c(".icon").length&&f.hide()},attachAlertBar:function(){if(0!=c(".attachAlertBar-wrapper").length){var b=c(".attachAlertBar-wrapper").offset().top-100;!function(){c(a).scrollTop()>b?c(".attachAlertBar-wrapper").addClass("attachAlertBar"):c(".attachAlertBar-wrapper").removeClass("attachAlertBar")}()}},reloadResults:function(b,d,e,f){var g=this;t=1;var h=c("#searchresults").eq(0);return a.scrollTo(0,0),h.addClass("loading"),g.showLoader(),c.get("/ajax/search/",c.extend({page:b,crossDomain:!1},this.serializeFilters()),function(a){return g.hideLoader(),h.removeClass("loading"),h.html(a),hidePremiumIcons(),g.attachAlertBar(),g.updateStylesIconsCount(),1!=f&&g.initHorizontalScrolling(c(".searchresults-horizontal:first").eq(0)),e&&(g.addContinousScrolling(b,d),n()),!1}),!1},updateStylesIconsCount:function(){var a=c("#searchresults"),b=a.attr("data-icons-count-for-styles"),d={},e=0;void 0!==b&&null!==b&&""!==b&&(d=c.parseJSON(b));for(key in d)e+=d[key];c("#style-nav [data-style-id]").each(function(){var a=c(this).attr("data-style-id");c(this).find(".style-count").html(d[a]||0)}),c('#style-nav [data-listing="any"] .style-count').html(e)},setTypeFilter:function(a){Nextfinder.tracking.trackEvent("Settings","Filter type",a),this.modifyFilters({type:"any"==a?void 0:a})},setPriceFilter:function(a){Nextfinder.tracking.trackEvent("Settings","Filter price",a),this.modifyFilters({price:"any"==a?void 0:a})},setStyleFilter:function(a){Nextfinder.tracking.trackEvent("Settings","Filter style",a),this.modifyFilters({style:"any"==a?void 0:a})},setBackgroundColorFilter:function(a){this.setCookies({bgcolor:a});var b=c('[data-search-filter="background-color"]');b.find('[data-value!="'+a+'"]').removeClass("active"),b.find('[data-value="'+a+'"]').addClass("active");var d=c("#icons");c.each(["white","black","gray","transparent"],function(b,c){d.toggleClass("icons-container-"+c,c==a)}),Nextfinder.tracking.trackEvent("Settings","Set background color",a)},setLicenseScopeFilter:function(a){Nextfinder.tracking.trackEvent("Settings","Filter license",a),this.modifyFilters({license:"0"==a?void 0:a})},initHorizontalScrolling:function(d){var e=c(d).find(".searchresults-inner:first").eq(0),f=e.find(".iconset-preview").length,g=f,h=c(a).width(),i=e.children(".iconset-preview:first").eq(0).outerWidth(),j=Math.floor(h/i),k=e.css("left"),l=0;g>j&&c(d).find(".nav-next").show(),c(b).on("click",".searchresults-nav",function(){k=parseInt(e.css("left"));var a=moveRight=j;return g<j&&(a=g),c(this).hasClass("nav-next")&&(l=k-a*i+" px",g-=j),c(this).hasClass("nav-prev")&&(l=k+moveRight*i+" px",g+=j),c(d).find(".searchresults-nav").hide(),e.animate({left:l},250,function(){0==parseInt(l)?c(d).find(".nav-prev").hide():c(d).find(".nav-prev").show(),g<=j?c(d).find(".nav-next").hide():c(d).find(".nav-next:hidden").show()}),!1})},parseFilterState:function(a){void 0===a&&(a=c.url().param()),a.q=c("#inputField").val(),this.filters={query:a.q,minimum:""==a.minimum||"0"==a.minimum?void 0:a.minimum,maximum:""==a.maximum||"0"==a.maximum?void 0:a.maximum,license:""==a.license||"0"==a.license?void 0:a.license,type:""==a.type?void 0:a.type,price:""==a.price?void 0:a.price,style:""==a.style?void 0:a.style}},updateFilterUi:function(){var a=this,b=void 0==this.filters.type?"any":this.filters.type,d=c('[data-search-filter="type"]');d.find('button[data-value][data-value!="'+b+'"]').removeClass("active"),d.find('button[data-value="'+b+'"]').addClass("active");var e=void 0==this.filters.price?"any":this.filters.price,f=c('[data-search-filter="price"]');f.find('[data-value!="'+e+'"]').removeClass("active"),f.find('[data-value="'+e+'"]').addClass("active");var g=void 0==this.filters.license?"0":this.filters.license,h=c('[data-search-filter="license-scope"]');h.find('[data-content="selected-description"]').html(h.find('[data-value="'+g+'"] [data-content="description"]').html());var i=void 0==this.filters.style?"any":this.filters.style,j=c('[data-search-filter="style"]');if(j.find('[data-listing!="'+i+'"]').removeClass("active"),j.find('[data-listing="'+i+'"]').addClass("active"),j.find("[data-listing]").each(function(){var b=c.extend({},a.filters),d=c(this).attr("data-listing");b.style="any"==d?void 0:d,c(this).attr("href","/search/?"+c.param(a.serializeFilters(b)))}),void 0===this.filters.minimum)var k=0;else var k=this.filters.minimum;if(void 0===this.filters.maximum)var l=128;else var l=this.filters.maximum;c(".size-slider").val([k,l]),c("#min-disp").val(k+" px"),c("#max-disp").val(l+" px"),c("#inputField").val(this.filters.query),c(".reset-all-filters").show()},init:function(){function d(a,d){c(b).on("click",'[data-action="reset-'+a+'-filter"]',function(){return f.modifyFilters(d),!1})}var f=this;if(c("#view-search #style-nav").sticky({topSpacing:60}),c("#view-search #filter-menu").sticky({bottomSpacing:c(".footer").outerHeight(),topSpacing:107}),this.properties=c.extend({continous_scrolling:!1},a.SEARCH_PROPERTIES),this.loadTimer=null,this.loaderDelay=700,this.properties.continous_scrolling&&(k()>0&&this.addContinousScrolling(this.properties.page,this.properties.items_per_page),e()),"doge"==c("#inputField").val()){c("#view-search *").css("font-family","Comic Sans MS"),c("#searchresults h3").prepend("Wow! ");var g=["red","blue","green","orange"];c("#view-search a").each(function(){c(this).css("color",g[Math.floor(Math.random()*g.length)])})}this.updateStylesIconsCount(),z=c.cookie("remember-filters"),void 0!==z?("true"===z?z=!0:"false"===z?z=!1:(console.log("Cookie set to invalid value of: ("+typeof z+")"+z),console.log("Deleting cookie: remember-filters"),c.removeCookie("remember-filters")),c("#remember-filters").length&&c("#remember-filters").prop("checked",z)):c("#remember-filters").prop("checked")?(c.cookie("remember-filters","true",{path:"/",expires:7}),z=!0):(c.cookie("remember-filters","false",{path:"/",expires:7}),z=!1),this.parseFilterState(),History.Adapter.bind(a,"statechange",function(){f.parseFilterState(History.getState().data),f.updateFilterUi(),f.reloadResults(f.properties.page,f.properties.items_per_page,f.properties.continous_scrolling)}),this.attachAlertBar(),c(a).resize(e),c("#style-nav .style-tabs").collapsableHorizontalMenuBar(),Nextfinder.tracking.trackEvent("Search results","Rows of premium icons",y+""),f.initHorizontalScrolling(c(".searchresults-horizontal:first").eq(0)),c('[data-search-filter="type"] [data-value]').click(function(a){a.preventDefault(),f.setTypeFilter(c(this).data("value"))}),c('[data-search-filter="price"] [data-value]').click(function(a){a.preventDefault(),f.setPriceFilter(c(this).data("value"))}),c(b).on("click",".premium-icons .filter-premium a",function(){return f.setPriceFilter("premium"),Nextfinder.tracking.trackEvent("Search results","Show only premium icons","Click"),!1}),c('[data-search-filter="license-scope"] [data-value]').click(function(a){a.preventDefault(),f.setLicenseScopeFilter(c(this).data("value"))});var h=c(".size-slider");if(h.length>0)try{if(void 0===this.filters.minimum)var i=0;else var i=this.filters.minimum;if(void 0===this.filters.maximum)var j=128;else var j=this.filters.maximum;h.noUiSlider({start:[i,j],range:{min:[0,16],"15%":[16,16],"30%":[32,32],"50%":[64,32],"65%":[128,128],"80%":[256,256],max:[512]}}).on("change",function(){var a=new Array;a=c(this).val(),a[0]=Math.round(a[0]),a[1]=Math.round(a[1]),f.modifyFilters({minimum:"0"==a[0]?void 0:a[0],maximum:"128"==a[1]?void 0:a[1]})}).on("slide",function(){var a=new Array;a=c(this).val(),a[0]=Math.round(a[0]),a[1]=Math.round(a[1]),c("#min-disp").val(a[0]+" px"),c("#max-disp").val(a[1]+" px")})}catch(a){console.log("Error: failed loading filters: "+a)}c('[data-search-filter="background-color"] [data-value]').click(function(a){a.preventDefault(),f.setBackgroundColorFilter(c(this).data("value"))}),c('[data-search-filter="style"] [data-listing]').click(function(a){a.preventDefault(),f.setStyleFilter(c(this).data("listing"))}),c("#remember-filters").change(function(a){z=c(this).is(":checked"),c.removeCookie("remember-filters"),c.cookie("remember-filters",z,{path:"/",expires:7}),z?f.persistFilters(f.serializeFilters()):f.clearPersistedFilters()}),d("size",{minimum:void 0,maximum:void 0}),d("type",{type:void 0}),d("price",{price:void 0}),d("license",{license:void 0}),d("style",{style:void 0}),c(b).on("click",'[data-action="reset-all-filters"]',function(){return f.modifyFilters({minimum:void 0,maximum:void 0,type:void 0,price:void 0,license:void 0,style:void 0}),c(".reset-all-filters").hide(),!1});var l=function(b){c(".filter-menu").toggle(b),c(".back-container").toggleClass("filters-active",b),c(".filter-tab a, #searchresults-outer, .footer.contentpage").toggleClass("active",b),c.cookie(a.Nextfinder.COOKIE_SEARCH_FILTER_MENU,b,{path:"/",expires:7})};c(".filter-tab a").on("click",function(){c(this).toggleClass("active");var a=c(this).hasClass("active");l(a)}),"false"==c.cookie(a.Nextfinder.COOKIE_SEARCH_FILTER_MENU)&&l(!1),c("#filters .filter .btn, #filters .filter .btn-group").click(function(){c(this).parent("div").addClass("active")}),c(".close-filter, .close-filter img, .default").click(function(){c(this).parent("div").removeClass("active")})}})}(window,window.document,window.jQuery),function(a,b){a.Nextfinder.iconfinder={}}(window),function(a,b,c){var d=a.Nextfinder;d.iconfinder.index=d.Class.extend({init:function(){b(document).ready(function(){function a(a,c){b(document).on("click",'[data-action="reset-'+a+'-filter"]',function(){return b.removeCookie(a),b("#searchform").find("input[name='"+a+"']").remove(),b(this).remove(),0===b(".tag-label").length&&b(".active-filters-label").remove(),!1})}b(".search-filter").each(function(){console.log(b(this).attr("name")+" - "+b(this).attr("value"))}),a("minimum",{minimum:void 0}),a("maximum",{maximum:void 0}),a("type",{type:void 0}),a("price",{price:void 0}),a("license",{license:void 0}),a("style",{style:void 0}),b(".browse-icon-menu").mouseover(function(){var a=b(".nav-slide ul li");b(a).each(function(a){var c=b(this);setTimeout(function(){c.show("slide",{direction:"left"},80)},40*a)})}),b(".search").mouseover(function(){var a=b(".nav-slide ul li");b(a).each(function(a){b(this).hide("slide",{direction:"left"},80)})});(function(){function a(){f.on("click",c),e.on("click",function(a){a.stopPropagation()})}function c(a){-1!==h&&e.eq(h).removeClass("cbp-hropen");var c=b(a.currentTarget).parent("li"),f=c.index();return h===f?(c.removeClass("cbp-hropen"),h=-1):(c.addClass("cbp-hropen"),h=f,g.off("click").on("click",d)),!1}function d(a){e.eq(h).removeClass("cbp-hropen"),h=-1}var e=b("#cbp-hrmenu > ul > li"),f=e.children("a"),g=b("body"),h=-1;return{init:a}})().init()})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.iconfinder.redeem=d.Class.extend({getCouponCode:function(){return b.trim(this.inputField.val())},isCouponCodeSubmittable:function(){return 15==this.getCouponCode().length},submitCouponCode:function(){var a=this;this.isCouponCodeSubmittable()&&Nextfinder.transport.post({url:"/commerce/coupon-codes/"+this.getCouponCode()+"/redeem",success:function(c){b(".coupon-amount").text(c.amount),a.selectCard(".card-success-done")},error:function(b){"not_authenticated"==b?a.selectCard(".card-success-authenticate"):"too_many_redeemed"==b?a.selectCard(".card-too-many-redeemed"):a.selectCard(".card-error")}})},selectCard:function(a,c){b(".redeem-card-container .card:not(:hidden)").hide(),b(".redeem-card-container "+a).show(),c&&c()},init:function(){function a(){c.submitCouponCode(),nfx.app.modalStackController.dismissAll()}var c=this;c.inputForm=b(".card-input form"),c.inputField=c.inputForm.find('input[type="text"]'),c.submitButton=c.inputForm.find('input[type="submit"]'),c.inputForm.on("submit",function(){return c.submitCouponCode(),!1}),c.inputField.on("change keypress keyup keydown",function(){var a=c.isCouponCodeSubmittable();c.submitButton.attr("disabled",!a).toggleClass("active",a)}),b(".card-error").find("a.back").click(function(){c.selectCard(".card-input")}),b(".card-success-authenticate a.login").click(function(){return nfx.app.modalStackController.present(new nfx.modules.LogInModalModule({onAuthenticate:a})),!1}),b(".card-success-authenticate a.signup").click(function(){return nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:a})),!1})}})}(window,window.jQuery),function(a,b,c){a.Nextfinder.submissions={init:function(){}}}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.submissions.submission_analysis=d.Class.extend({init:function(){var c=function(){b.getJSON("/iconsets/submissions/"+a.SUBMISSION_ID+"/state",function(b){if(b&&b.state&&100!=b.state)return void(location.href="/iconsets/submissions/"+a.SUBMISSION_ID);setTimeout(c,1e3)})};setTimeout(c,1e3)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.submissions.submission_information=d.Class.extend({init:function(){function c(){""==e.val()?(b("#id_designer_name").removeAttr("disabled"),b("#id_designer_url").removeAttr("disabled")):(b("#id_designer_name").attr("disabled","disabled"),b("#id_designer_url").attr("disabled","disabled"))}function d(a){var b=a/100*i,c=Math.floor(b),d=Math.floor(.8*b);if(d>9){var e=d%10;d-=e<3?e+1:e<8?e-4:e-9,d>c&&(d=c)}d<1&&(d=1),h.val(d)}var e=b('input[name="author"]'),f=e.find('option:not([value^="u:"])'),g=b('input[name="designer_name"], input[name="designer_url"]');b('input[name="submission_type"]').change(function(){b(".option").removeClass("active"),b(this).parent().parent().addClass("active");var a=b('input[name="submission_type"]:checked').val(),c="premium"==a||"someonepremium"==a,d="someone"!=a&&"someonepremium"!=a;b(".details-content-designer").toggle(!d),b(".details-content-collection").toggle(d),b(".details-content-premium").toggle(c),b(".details-url").toggle(!c),b(".details-content-license").toggle(!c),b('input[name="is_premium"]').val(c?"on":""),b('input[name="is_designer"]').val(d?"on":"");var h=0==e.length?null:e.val();""==h&&(h=null),c?(null!==h&&"u:"!=h.substr(0,2)&&e.val("").trigger("change"),f.attr("disabled","disabled"),g.attr("disabled","disabled")):(f.removeAttr("disabled"),null===h?g.removeAttr("disabled"):g.attr("disabled","disabled"))}),b("#id_collection").change(function(){"create"==b(this).val()&&(b(this).val(""),a.Nextfinder.modals.CreateCollection.create({callback:function(a,c){var d=b("<option></option");d.val(a),d.html(c),b("#id_collection option:last-child").before(d),b("#id_collection").val(a),b.pnotify({pnotify_title:'Created collection "'+c+"'",pnotify_text:"Your new collection has been created and is ready for use."})}}))}),e.select2({placeholder:"Create a new designer or pick existing",minimumInputLength:2,ajax:{url:"/iconsets/submissions/designers/search",dataType:"json",data:function(a,c){return{q:a,exclude_authors:"someonepremium"==b('input[name="submission_type"]:checked').val()?"1":""}},results:function(a,b){return{results:a.designers}}},initSelection:function(a,c){var d=e.val();""!==d&&b.ajax("/iconsets/submissions/designers/get?id="+d,{dataType:"json"}).done(function(a){c(a.designer)})},allowClear:!0}),e.change(c),c();var h=b('input[name="price_per_set"]'),i=parseInt(b("[data-icons-count]").attr("data-icons-count"),10),j=b('select[name="price_per_icon"]');b(document).on("change",'select[name="price_per_icon"]',function(a){d(parseInt(j.val(),10))}),""===h.val()&&d(parseInt(j.val(),10))}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.submissions.submission_preview=d.iconsets.base_edit_preview.extend({})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.submissions.submission_tag=d.Class.extend({_initBindings:function(){var a=this;this.messagesContainer=b(".messages"),b("#action-delete").tableAction(function(b){var c=function(){return a.deleteIcons(b)};d.modals.ConfirmModal.create({title:"Delete icons",message:"Are you sure you want to remove "+b.length+" icons?",callback:c})}),b('[data-action="dismiss-submission"]').click(function(b){return b.preventDefault(),a.dismissSubmission(),!1}),b('[data-action="upload"]').click(function(a){return a.preventDefault(),location.href="/iconsets/submit",!1})},dismissSubmission:function(){var c=b("body").overlay(),e=b("body").createModal({title:"Dismiss submission",content:"<article><section><p>Are you sure you want to dismiss this submission?</p><p>It'll be gone forever and ever, if you do. Seriously.</p></section></article>",action:"dismiss",backdrop:!1});e.find('[data-action="dismiss"]').click(function(b){e.modal("hide"),c.overlayLoader("Hang tight..."),d.transport.post({url:"/iconsets/submissions/"+a.SUBMISSION_ID+"/reject",success:function(){location.href="/admin/icon-submissions/new"},error:function(){c.remove(),alert("Failed to dismiss submission. Please try again or reload the page if the problem persists.")}})})},deleteIcons:function(c){b.ajax({type:"DELETE",url:"/iconsets/submissions/"+a.SUBMISSION_ID+"/icons",data:JSON.stringify({submission_icon_id:c}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){b("input[type=checkbox]:not(#checkall)").each(function(){for(var a=!1,d=b(this),e=d.attr("data-id"),f=c.length;f--&&!a;)c[f]==e&&(a=!0);if(a){var g=d.closest("tr");g.fadeOut(500,function(){g.remove()})}})},failure:function(a){console.log("Request failed:",a)}})},_updateTagWarning:function(){b(".tagsinput:has(span.tag):not(:has(span.warning))").closest("tr").removeClass("warning error"),b(".tagsinput:not(:has(span.tag))").closest("tr").removeClass("warning").addClass("error"),b(".tagsinput:has(span.warning)").closest("tr").removeClass("error").addClass("warning");var a=b(".tagsinput:not(:has(span.tag))").length,c=b(".tagsinput span.warning").length;a>0?this.messagesContainer.html('<div class="alert alert-error" style="float: left;">'+(1==a?"One icon has no tags.":a+" of the icons have no tags.")+"</div>"):c>0?this.messagesContainer.html('<div class="alert alert-warning" style="float: left;">'+c+' of the tags look like they might not follow the tag guidelines. Please check the guidelines for <a href="http://support.iconfinder.com/contributor-s-handbook/tags">tagging</a>.</div>'):this.messagesContainer.html("")},_initTagInputs:function(a){function c(){d._updateTagWarning()}var d=this,a=b("#confirm-icons");a.find("input.table-icon-tags").tagsInput({onChange:c}),a.find(".tagsinput").css({width:"",height:""}),this._updateTagWarning()},init:function(){this._initBindings(),this._initTagInputs()}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;a.Nextfinder.comments={init:function(){var a=this;b('[data-role="comments-container"]');b(document).on("click",'[data-action="comment-delete"]',function(a){a.preventDefault();var c=b(this).closest("[data-comment-id]").attr("data-comment-id");d.comments.del({comment_id:c})}),b(document).on("click",'[data-action="comment-mark-as-spam"]',function(a){a.preventDefault();var c=b(this).closest("[data-comment-id]").attr("data-comment-id");d.comments.markAsSpam({comment_id:c})}),b(document).on("click",'[data-action="comment-reply"]',function(c){c.preventDefault();var d=b(this).closest("[data-comment-id]").attr("data-comment-id"),e=b(this).closest("article"),f=b("section.newcomment form").attr("action"),g=g=b("form.reply");if(0===g.length)g=b(a.getReplyForm(f,d)),e.after(g);else{var h=g.closest("[data-comment-id]").attr("data-comment-id");if(g.remove(),h==d)return;g=b(a.getReplyForm(f,d)),e.after(g)}g.find("textarea").focus()}),b(document).on("click",'[data-action="comment-button"]',function(c){c.preventDefault();var d=b(this).data("referenceidentifier"),e=b(this).data("referenceid");b(".comments-overlay").eq(0).length>0?a.hideCommentsOverlay():(b("body").prepend("<div class='comments-overlay'></div>"),b(".comments-overlay").stop().show(),a.loadComments({reference_identifier:d,reference_id:e,success:function(a){var c=b(a);b(".comments-overlay").html(c),b(".comments-overlay").eq(0).prepend('<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>')}}))}),a.formHandler=function(a){a.preventDefault();var c=b(this),e=b.trim(c.find('textarea[name="text"]').val()),f=c.attr("action"),g=c.find('input[name="parent_comment"]'),h=g.length>0?g.val():"";d.comments.create({url:f,parent_comment_id:h,text:e})},b(document).on("submit",'[data-role="comment-form"]',a.formHandler),b(document).on("focus",".newcomment textarea",function(){b(this).parent().siblings("button").show()}),b(document).on("blur",".newcomment textarea",function(){""==b(this).val()?(b(this).removeClass("has-comment"),b(this).parent().siblings("button").hide()):b(this).addClass("has-comment")}),b(document).on("click",".comments-overlay .close",function(){a.hideCommentsOverlay()}),b("#bulk-comment-delete").tableAction(function(a){d.comments.del({comment_ids:a})}),b("#bulk-comment-mark-as-spam").tableAction(function(a){d.comments.markAsSpam({comment_ids:a})})},hideCommentsOverlay:function(){b(".comments-overlay").remove()},create:function(a){var c=this,d=a.url?a.url:"/comments/"+a.reference_identifier+"/"+a.reference_id;b.ajax({type:"POST",url:d,dataType:"json",data:{text:a.text,parent_comment_id:a.parent_comment_id},success:function(b){a.success?a.success(b):c.loadComments()},error:function(c,d,e){a.error?a.error(c,d,e):b.pnotify({pnotify_title:"Failed to post comment.",pnotify_text:"Something went wrong while trying to post your comment: "+e})}})},del:function(a){var c=this,d=a.comment_id?"/comments/"+a.comment_id+"/delete":"/comments/delete",e=a.comment_ids?{comment_ids:JSON.stringify(a.comment_ids)}:{};b.ajax({type:"POST",url:d,dataType:"json",data:e,success:function(d){a.success?a.success(d):(b.pnotify({
pnotify_title:"Comment deleted.",pnotify_text:"Your comment has been deleted."}),c.loadComments())},error:function(d,e,f){a.error?a.error(d,e,f):(b.pnotify({pnotify_title:"Failed to delete comment.",pnotify_text:"Something went wrong while trying to delete your comment."}),c.loadComments())}})},markAsSpam:function(a){var c=this,d=a.comment_id?"/comments/"+a.comment_id+"/spam":"/comments/spam",e=a.comment_ids?{comment_ids:JSON.stringify(a.comment_ids)}:{};b.ajax({type:"POST",url:d,data:e,dataType:"json",success:function(d){a.success?a.success(d):(b.pnotify({pnotify_title:"Comment marked as spam.",pnotify_text:"The comment has been marked as spam."}),c.loadComments())},error:function(d,e,f){a.error?a.error(d,e,f):(b.pnotify({pnotify_title:"Failed to mark comment as spam.",pnotify_text:"Something went wrong while trying to mark the comment as spam."}),c.loadComments())}})},loadComments:function(a){var c=b('[data-role="comments-container"]');if("reload"===c.attr("data-comment-load"))return location.reload();var d=a||{},e=d.reference_identifier||c.attr("data-reference-identifier"),f=d.reference_id||c.attr("data-reference-id"),g="/comments/"+e+"/"+f+"/threads";b.ajax({type:"GET",url:g,success:function(a){d.success?d.success(a):b(a).replaceAll('[data-role="comments-container"]')},error:function(a,b,c){d.error&&d.error(a,b,c)}})},getReplyForm:function(b,c){var d={submit_url:b,parent_comment_id:c};return void 0===a.USER?Handlebars.templates["comments/templates/not_logged_in.html"](d):Handlebars.templates["comments/templates/reply_form.html"](d)}}}(window,window.jQuery),function(a,b,c){a.Nextfinder.channels={init:function(c){var d=a.Nextfinder.channels;if(d.user_id=c.user_id,d.user_channel_token=c.user_channel_token,d.user_id&&d.user_channel_token){var e=new Faye.Client("/realtime_publish/channels/",{timeout:120,retry:5});e.addExtension(d.user_channel_auth),e.subscribe("/user/"+a.USER.user_id,function(a){b(document).trigger(a.category,[a.channel,a.data])}),e.subscribe("/broadcast",function(a){console.log("broadcast message: "+a)})}},user_channel_auth:{outgoing:function(b,c){var d=a.Nextfinder.channels;if("/meta/subscribe"!==b.channel)return c(b);b.ext||(b.ext={}),b.ext.user_id=d.user_id,b.ext.user_channel_token=d.user_channel_token,c(b)}}}}(window,window.jQuery),function(a,b,c){b(document).ready(function(){b(".alert").bind("closed",function(){var a=b(this).closest(".message-group");0===b(this).siblings().length&&a.remove()})}),a.setTimeout(function(){b(".alert.autoclose").fadeTo(500,0).slideUp(500,function(){b(this).alert("close")})},5e3)}(window,window.jQuery),function(a,b,c){a.Nextfinder.notification_messages={init:function(){var c=this,d="/messages/notifications/read";a.USER&&(this.updateUnreadCounter(),b('[data-role="notification-get"]').on("click",function(){!1===b(this).closest("li.dropdown").hasClass("open")&&c.get()}),b(document).on("click",'[data-notification-action="mark-all-as-read"]',function(a){a.preventDefault(),b.post(d,{mark_all:!0},function(){c.updateUnreadCounter()})}),b(document).on("click",'[data-notification-action="mark-as-read"]',function(){b.post(d,{message_id:b(this).attr("data-notification-id")})}),b(document).on("new_notification_message",function(a,b,d){c.updateUnreadCounter(d)}))},updateUnreadCounter:function(a){var c=this;a?c._setCounter(a):b.get("/messages/notifications/unread_counter",function(a){c._setCounter(a.unread_counter)})},_setCounter:function(a){var c=b('[data-role="notification-counter"]');0!==a?(c.addClass("notification-counter-new"),c.closest(".navbar-item").removeClass("notification-hidden")):(c.closest(".navbar-item").addClass("notification-hidden"),c.removeClass("notification-counter-new")),c.text(a)},get:function(){b.get("/messages/notifications/",function(a){b('[data-role = "notification-messages"]').html(a)})}}}(window,window.jQuery),function(a,b,c){a.Nextfinder.pro={selectBillingInterval:function(a){b(".monthly")["monthly"==a?"show":"hide"](),b(".annual")["monthly"==a?"hide":"show"](),b('[data-billing-interval="monthly"]').toggleClass("active","monthly"==a),b('[data-billing-interval="annual"]').toggleClass("active","monthly"!=a),b("[data-selected-billing-interval]").data("selected-billing-interval",a)},init:function(){b('[data-action="select-billing-interval"]').click(function(){return a.Nextfinder.pro.selectBillingInterval(b(this).data("billing-interval")),!1}),a.location.search.indexOf("autoplay=yes")>-1&&(b("#provideo-container").show(),b(".video-frame").attr("src",b(".video-frame").attr("src")+"&autoplay=1")),b(document).ready(function(){b(".fullscreen-bg").addClass("animate-init"),setTimeout(function(){b(".titles").addClass("animate-init")},350)}),b(a).load(function(){setTimeout(function(){b(".why-action .content, .pro-hero-wrapper").addClass("animate-init")},1e3)}),b(".js-sticky-pro").sticky({topSpacing:0,className:"is-js-sticky",wrapperClassName:"js-sticky-wrapper"}),b(".why-action a").click(function(){var a=b(".fullscreen-bg").height()-25;return b("html, body").animate({scrollTop:a},500),!1});var c=b(".section-one"),d={offset:"80%"},e=b(".section-two"),f={offset:"80%"},g=b(".section-tree"),h={offset:"75%"};c.waypoint(function(a,d){c.find(".image-wrapper").addClass("animate"),c.find(".content-wrapper").delay(200).queue(function(){b(this).addClass("animate").dequeue()}),c.find(".testify").delay(400).queue(function(){b(this).addClass("animate").dequeue()})},d),e.waypoint(function(a,c){e.find(".image-wrapper").addClass("animate"),e.find(".content-wrapper").delay(300).queue(function(){b(this).addClass("animate").dequeue()}),e.find(".testify").delay(400).queue(function(){b(this).addClass("animate").dequeue()})},f),g.waypoint(function(a,c){g.find(".image-wrapper").addClass("animate"),g.find(".content-wrapper").delay(300).queue(function(){b(this).addClass("animate").dequeue()}),g.find(".testify").delay(700).queue(function(){b(this).addClass("animate").dequeue()})},h),b('[data-action="select-billing-interval"]').click(function(){return a.Nextfinder.pro.selectBillingInterval(b(this).data("billing-interval")),!1})}}}(window,window.jQuery),$(document).ready(function(){$.cookie("killProPromotion")||$(".promotion-bar .close").click(function(){return $(".promotion-bar").remove(),$(document.body).removeClass("has-promotion-bar"),$.cookie("killProPromotion","true"),!1})}),function(a,b,c){var d=a.Nextfinder,e={performancePositive:"#5cbd00",performanceNegative:"#e44525",targetA:"#f9cb9c",targetB:"#fed86f",targetC:"#93c47d"};d.pro.admin_sales_analysis=d.Class.extend({drawChart:function(){function c(a,b){return a.map(function(a){return{x:a.date,y:a[b]}})}var d=b("#net_subscribers_growth_chart").parent().width(),f=[10,70,30,20],g=d3.scale.ordinal().rangeRoundBands([0,d-f[1]-f[3]]),h=d3.scale.linear().range([0,200-f[0]-f[2]]),i=d3.time.format("%b %d"),j=d3.select("#net_subscribers_growth_chart").attr("width",d).attr("height",200),k=j.select("g.chart");null!==k[0][0]&&k.remove(),k=j.append("svg:g").attr("class","chart"),k.attr("transform","translate("+f[3]+","+(200-f[2])+")");var l=d3.layout.stack()(["performance"].map(function(b){return c(a.NET_SUBSCRIBER_GROWTH_DATA,b)})),m=[c(a.NET_SUBSCRIBER_GROWTH_DATA,"target_a"),c(a.NET_SUBSCRIBER_GROWTH_DATA,"target_b"),c(a.NET_SUBSCRIBER_GROWTH_DATA,"target_c")];g.domain(l[0].map(function(a){return a.x}));for(var n=[l[l.length-1]],o=void 0,p=0;p<n.length;++p){var q=d3.min(n[p],function(a){return a.y}),r=d3.max(n[p],function(a){return a.y});o?(q<o[0]&&(o[0]=q),r>o[1]&&(o[1]=r)):o=[q,r]}o[0]>0&&(o[0]=0),h.domain(o);var s=k.selectAll("g.rule").data(h.ticks(5)).enter().append("svg:g").attr("class","rule").attr("transform",function(a){return"translate(0,"+-h(a)+")"});s.append("svg:line").attr("x2",d-f[1]-f[3]).style("stroke",function(a){return a?"#F7F7F7":"#E0E0E1"});var t=k.selectAll("g.performance").data(l).enter().append("svg:g").attr("class","performance"),u=(t.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(a){return g(a.x)+3}).attr("y",function(a){var b=h(a.y),c=h(a.y0);return b<c?-c:-b}).attr("height",function(a){return Math.abs(h(a.y)-h(a.y0))}).attr("width",g.rangeBand()>6?g.rangeBand()-6:g.rangeBand()).style("fill",function(a){return a.y>0?e.performancePositive:e.performanceNegative}),d3.svg.line().interpolate("basis").x(function(a){return g(a.x)+g.rangeBand()/2}).y(function(a){return-h(a.y)}),k.selectAll("g.targets").data(m).enter().append("svg:g").attr("class","targets")),v=d3.scale.ordinal().range([e.targetA,e.targetB,e.targetC]),w=(u.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(a){return g(a.x)+3}).attr("y",function(a){return-h(a.y)-.5}).attr("height",function(a){return 1}).attr("width",g.rangeBand()>6?g.rangeBand()-6:g.rangeBand()).style("fill",function(a,b,c){return v(c)}),d3.min(l[0],function(a){return a.x})),x=Math.ceil(50/g.rangeBand());k.selectAll("text").data(g.domain()).enter().append("svg:text").attr("x",function(a){return g(a)+g.rangeBand()/2}).attr("y",6).attr("text-anchor","middle").attr("dy",".71em").text(function(a){return parseInt((a-w)/864e5,10)%x==0?i(a):""}).style("fill","#B2B2B2");s.append("svg:text").attr("x",d-f[1]-f[3]+6).attr("dy",".35em").text(function(a){return d3.format(",.0f")(a)}).style("fill","#B2B2B2")},init:function(){var c=this;b(a).resize(function(){c.drawChart()}),this.drawChart()}})}(window,window.jQuery),function(a,b){a.Nextfinder.reporting={}}(window),function(a,b){var c=a.Nextfinder;c.reporting.admin_table_query=c.Class.extend({init:function(){var a=this;this.editor=ace.edit("editor"),this.editor.setTheme("ace/theme/tomorrow_night_eighties"),this.editor.getSession().setMode("ace/mode/pgsql"),this.editor.setOptions({minLines:10,maxLines:30}),this.editor.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Enter",mac:"Meta-Enter"},exec:function(b){a.executeCurrentQuery()}}),this.result=m.prop(),this.isLoadingResult=m.prop(!1),this.resultCounter=0,m.module($('[data-content="table-query-result"]')[0],new nfx.modules.BiTableQueryResult({result:this.result,isLoading:this.isLoadingResult})),$('[data-action="execute-query"]').click(function(){a.executeCurrentQuery()}),$('[data-action="save-query"]').click(function(){a.saveCurrentQuery()}),this.executeCurrentQuery()},startLoadingResult:function(){m.startComputation(),this.isLoadingResult(!0),m.endComputation()},setResult:function(a){m.startComputation(),this.isLoadingResult(!1),this.result(a),m.endComputation()},executeCurrentQuery:function(){var a=$.trim(this.editor.getSession().getValue()),b=this;if(0==a.length)return this.setResult(null);var c=++this.resultCounter;this.startLoadingResult(),Nextfinder.transport.post({url:"/admin/reporting/table-queries/execute",data:{query:a},success:function(a){b.resultCounter==c&&b.setResult(new nfx.models.BiTableQueryResult({columns:a.columns,rows:a.rows,executionTime:a.execution_time}))},error:function(a,d){b.resultCounter==c&&b.setResult(new nfx.models.BiTableQueryResult({error:d.message}))}})},saveCurrentQuery:function(){var a=$.trim(this.editor.getSession().getValue());if(a.length){var b=prompt("Query name","");b&&(b=$.trim(b))&&Nextfinder.transport.post({url:"/admin/reporting/table-queries/new",data:{query:a,name:b},success:function(a){location.href="/admin/reporting/table-queries/"+a.query_id}})}}})}(window),function(a,b,c){a.Nextfinder.subscriptions={}}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.subscriptions.admin_details=d.Class.extend({init:function(){b(document).on("click",'[data-action="change-plan"]',function(c){if(c.preventDefault(),confirm("Are you sure you want to change the subscriber's plan?")){var d=b(this).attr("data-subscription-id"),e=b(this).attr("data-pricing-plan-id");a.Nextfinder.transport.request({method:"post",data:{pricing_plan_id:e},url:"/admin/subscriptions/"+d+"/change-plan",success:function(){location.reload()},error:function(a,b){alert("An error occured. Check the JS console."),console.log("An error occured: ",b)}})}})}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.subscriptions.admin_list=d.Class.extend({init:function(){b(document).on("click",'[data-action="change-plan"]',function(c){if(c.preventDefault(),confirm("Are you sure you want to change the subscriber's plan?")){var d=b(this).attr("data-subscription-id"),e=b(this).attr("data-pricing-plan-id");a.Nextfinder.transport.request({method:"post",data:{pricing_plan_id:e},url:"/admin/subscriptions/"+d+"/change-plan",success:function(){location.reload()},error:function(a,b){alert("An error occured")}})}}),b(document).on("click",'[data-action="add-plan"]',function(c){if(c.preventDefault(),confirm("Are you sure you want to add the selected plan?")){var d=b(this).attr("data-subscription-id"),e=b(this).attr("data-pricing-plan-id"),f=b(this).attr("data-is-api-plan"),g=b(this).attr("data-billing-interval"),h=b(this).attr("data-detailed-user-id");a.Nextfinder.transport.request({method:"post",data:{subscription_id:d,pricing_plan_id:e,is_api_plan:f,billing_interval:g,detailed_user_id:h},url:"/admin/subscriptions/"+h+"/add-plan",success:function(a){location.href="/admin/subscriptions/"+a.subscription_id},error:function(a,b){alert(a),console&&console.error(a)}})}})}})}(window,window.jQuery),function(a,b,c){a.Nextfinder.users={}}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder;d.users.admin_details=d.Class.extend({init:function(){b(document).on("click",'[data-action="change-username"]',function(c){c.preventDefault();var d=b(this).attr("data-user-id"),e=b(this).attr("data-username"),f=b.trim(prompt("Change username",e));f&&f!=e&&a.Nextfinder.transport.request({method:"post",data:{username:f},url:"/admin/auth/details/"+d+"/set-username",success:function(){location.reload()},error:function(a,b){var c="An unexpected error occured";b&&b.message&&(c=b.message),alert(c)}})}),b(document).on("click",'[data-action="redeem-giftcard"]',function(a){a.preventDefault();var c=b(this).attr("data-user-id"),d=prompt("Please enter giftcard code");Nextfinder.transport.post({url:"/admin/auth/details/"+c+"/"+d+"/redeem",success:function(a){alert("Giftcard added")},error:function(a){alert("Error: "+a),console.log(a)}})}),b(document).on("click",'[data-tab="transactions"] #pagination a',function(c){c.preventDefault(),b.ajax(b(this).attr("href"),{success:function(c){b('[data-tab="transactions"]').html(c),b(a).scrollTop(0)}})})}})}(window,window.jQuery),function(a,b){a.Nextfinder.mailing_lists={}}(window),function(a,b,c){var d=a.Nextfinder;d.mailing_lists.subscribe=d.Class.extend({init:function(){var a=b(".fixture"),c=parseInt(a.attr("data-mailing-list-id"),10);a.remove(),nfx.app.modalStackController.present(new nfx.modules.MailingListSubscribeModalModule({dismissable:!1,mailingListId:c}),!1)}})}(window,window.jQuery),function(a,b,c){a.Nextfinder.modals={init:function(){}}}(window,window.jQuery),function(a,b,c,d){b.modals.Modal=b.Class.extend({modal:null,close:function(){this._modalActivelyClosed=!0,this.modal.modal("hide")},isLoading:function(a){var b=this;a=void 0===a||a,a?(b.modal.find(":not([disabled])").attr("post-disabled","disabled").attr("disabled","disabled"),b.modal.addClass("loading"),b.modal.prepend("<div class='spinner'>&nbsp;</div>")):(b.modal.find("[post-disabled]").removeAttr("post-disabled").removeAttr("disabled"),b.modal.removeClass("loading"),b.modal.find(".spinner").remove())},init:function(a){var d=this,e=c.extend({},{action:function(){d.close()},cancelLabel:"Cancel"},a);this._modalActivelyClosed=!1,b.tracking.trackPageview("/modal/"+e.title),this.modal=c("body").createModal({id:e.id||"modal",title:e.title,template:e.template,action:void 0!==e.actionLabel&&null!==e.actionLabel?"modal-action":null,actionLabel:e.actionLabel,cancelLabel:e.cancelLabel,backdrop:e.backdrop,context:e.context,canHide:function(){return!e.canClose||e.canClose()},hide:function(){d._modalActivelyClosed||(b.tracking.trackEvent("Modal",e.title,"Cancel"),e.cancel&&e.cancel()),e.close&&e.close()}}),this.modal.find('[data-action="modal-action"]').click(function(){b.tracking.trackEvent("Modal",e.title,"Confirm"),e.action()})}})}(window,window.Nextfinder,window.jQuery),function(a,b,c){var d=a.Nextfinder.modals;d.ErrorModal=d.Modal.extend({init:function(a){a=b.extend({},{template:"modals/templates/error.html",cancelLabel:"OK",context:{message:new Handlebars.SafeString(a.message)}},a),this._super(a)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder.modals;d.ChangeCoverPictureModal=d.Modal.extend({init:function(a){a=b.extend({},{title:"Change cover picture",template:"modals/templates/change_cover_picture.html",actionLabel:"Update"},a),this._super(a)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder.modals;d.ConfirmModal=d.Modal.extend({init:function(a){var c=this;b(".modal").modal("hide"),a=b.extend({},{id:"confirmModal",title:new Handlebars.SafeString(a.title),template:"modals/templates/confirm.html",actionLabel:"Confirm",action:function(){a.callback(),c.close()},context:{message:new Handlebars.SafeString(a.message)},standalone:!1},a),this._super(a)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder.modals;d.ShowDataURI=d.Modal.extend({init:function(a){a=b.extend({},{title:"Base64 encoded data URI for the "+a.format+" file",template:"modals/templates/show_datauri.html",context:{datauri:a.datauri}},a),this._super(a)}})}(window,window.jQuery),function(a,b,c){var d=a.Nextfinder.modals;d.CreateCollection=d.Modal.extend({form_initialized:!1,init:function(a){var c=this;b(".modal").modal("hide"),a=b.extend({},{id:"createCollection",title:"New collection",template:"modals/templates/create_collection.html",actionLabel:"Create collection",action:function(){c.formSubmit(a.callback),c.close()},standalone:!1},a),this._super(a)},formSubmit:function(a){var c=this,d=b("#create_collection_form");!1===c.form_initialized&&(d.ajaxifyForm({success:function(b){a(b.collection.collection_id,b.collection.name)}}),c.form_initialized=!0),d.submit()}})}(window,window.jQuery),window.nfx={components:{},controllers:{},models:{},modules:{},views:{},viewHelpers:{},services:{},api:{},mext:{watchedProp:function(a,b){var c=function(){if(arguments.length){var c=a!==arguments[0];a=arguments[0],c&&b()}return a};return c.toJSON=function(){return a},c},processedWatchedProp:function(a,b,c){var d=function(){if(arguments.length){var d=b(arguments[0]),e=a!==d;a=d,e&&c()}return a};return d.toJSON=function(){return a},d},classMap:function(){classNames=[];for(var a=0;a<arguments.length;a++){var b=arguments[a];if(b instanceof String)classNames.push(b);else if(b instanceof Array)for(var c=0;c<b.length;c++)classNames.push(b[c]);else if(b instanceof Object)for(var d in b)b.hasOwnProperty(d)&&b[d]&&classNames.push(d);else b&&classNames.push(b)}return classNames.join(" ")},validatedProp:function(a,b){var c=b.errorMessages||{},d=function(){return arguments.length&&(a=arguments[0]),a};return d.toJSON=function(){return a},d.options=b,d.error=m.prop(void 0),d.clean=function(){return b.clean?b.clean(a):a},d.validate=function(){var a=d.clean();if(b.required&&!a)return d.error(c.required||"This field is required"),!1;var e=b.minlength?b.minlength:b.minLength,f=b.maxlength?b.maxlength:b.maxLength;return e&&a.length<e?(d.error(c.minLength||"Please enter at least "+e+" character"+(1==e?"":"s")),!1):f&&a.length>f?(d.error(c.maxLength||"Please enter at most "+f+" character"+(1==f?"":"s")),!1):(d.error(void 0),!0)},d},validatedInput:function(a){var b=m("input",{id:"id_ "+a.name,name:a.name,type:a.type||"text",placeholder:a.placeholder,value:a.value(),oninput:m.withAttr("value",a.value),class:nfx.mext.classMap({error:a.value.error&&a.value.error()})});return a.value.error&&a.value.error()?[b,m("label",{for:"id_"+a.name,class:"error",style:"display: block"},a.value.error())]:b}}},nfx.services.userService={connectWithFacebook:function(a){a=a||{},FB.login(function(b){b.authResponse?window.Nextfinder.transport.post({url:"/user/ajax/login/facebook",data:{access_token:b.authResponse.accessToken,is_newsletter_subscriber:a.isNewsletterSubscriber?"on":void 0},success:function(b){a.onConnect&&a.onConnect()},error:function(b,c){"missing_user_data"==b?a.onMissingUserData&&a.onMissingUserData(c.additional_data):a.onError&&a.onError()}}):a.onCancel&&a.onCancel()},{scope:"email"})}},function(){var a={AT:20,BE:21,BG:20,CY:19,CZ:21,DE:19,DK:25,EE:20,ES:21,FI:24,FR:20,GB:20,GR:23,HR:25,HU:27,IE:23,IT:22,LT:21,LU:15,LV:21,MT:18,NL:21,PL:23,PT:23,RO:24,SE:25,SI:22,SK:20};nfx.services.commerceService={getVatCharge:function(b,c){var d=a[b];return d?new nfx.models.VatCharge({rate:d,countryCode:b,action:c&&"DK"!=b?nfx.models.VatChargeAction.reverseCharge:nfx.models.VatChargeAction.charge}):new nfx.models.VatCharge({rate:0,action:nfx.models.VatChargeAction.noCharge})}}}(),function(){var a="/admin/iconsets/promoted/";nfx.services.iconsetPromotionService={promote:function(b,c){return new Promise(function(d,e){var f=a+"promote/"+b;c&&(f+="/"+c),window.Nextfinder.transport.post({url:f,success:function(a,b,c){d(a,b,c)},error:function(a,b,c){e(Error(c))}})})},demote:function(b){return new Promise(function(c,d){window.Nextfinder.transport.post({url:a+"demote/"+b,success:function(a,b,d){c(a,b,d)},error:function(a,b,c){d(Error(c))}})})}}}(),nfx.services.staticAssetService={upload:function(a){var b=new FormData;return b.append("file",a,a.name),new Promise(function(a,c){Nextfinder.transport.post({url:"/admin/static-assets/new",data:b,contentType:!1,processData:!1,success:function(b){a(new nfx.models.StaticAsset(b.asset))},error:function(a,b){c(new Error(b&&b.message?b.message:a))}})})}},nfx.models.AccountState=function(a){this.balance=m.prop(a.balance)},nfx.models.Address=function(a){this.street=m.prop(a.street),this.postalCode=m.prop(a.postalCode),this.city=m.prop(a.city),this.state=m.prop(a.state),this.country=m.prop(a.country)},nfx.models.AssetOffer=function(a){this.price=m.prop(a.price),this.license=m.prop(a.license?new nfx.models.License(a.license):null),this.seller=m.prop(a.seller_user?a.seller_user:null)},nfx.models.BiTableQueryResult=function(a){this.error=m.prop(a.error),this.columns=m.prop(a.columns),this.rows=m.prop(a.rows),this.executionTime=m.prop(a.executionTime)},nfx.models.CreditCard=function(a){this.cardId=m.prop(a.cardId),this.numberLastFour=m.prop(a.numberLastFour),this.isDefault=m.prop(a.isDefault),this.cardType=m.prop(a.cardType),this.expirationMonth=m.prop(a.expirationMonth),this.expirationYear=m.prop(a.expirationYear),this.paymentProvider=m.prop(a.paymentProvider)},nfx.models.License=function(a){this.licenseId=m.prop(a.licenseId),this.name=m.prop(a.name),this.identifier=m.prop(a.identifier),this.url=m.prop(a.url),this.link=function(){return this.url()?this.url():this.identifier()?"/licenses/"+this.identifier():null}.bind(this)},nfx.models.Organization=function(a){this.organizationId=m.prop(a.organizationId),this.name=m.prop(a.name),this.proSubscription=m.prop(a.proSubscription?new nfx.models.ProSubscription(a.proSubscription):null);var b=null;if(a.memberships){b=[];for(var c=0;c<a.memberships.length;c++)b.push(new nfx.models.OrganizationMembership(a.memberships[c]))}this.memberships=m.prop(b);var d=null;if(a.invites){d=[];for(var c=0;c<a.invites.length;c++)d.push(new nfx.models.OrganizationInvite(a.invites[c]))}this.invites=m.prop(d),this.canAddMember=function(){var a=this.proSubscription();return!a||!a.plan().proMembersMax()||this.membersCount()<a.plan().proMembersMax()}.bind(this);var e=a.membersCount;this.membersCount=function(){return void 0!==e&&null!==e?e:this.memberships().length+this.invites().length}.bind(this)},nfx.models.OrganizationInvite=function(a){this.inviteId=m.prop(a.inviteId),this.email=m.prop(a.email),this.emailMd5Hash=m.prop(a.emailMd5Hash),this.level=m.prop(a.level)},nfx.models.OrganizationMembership=function(a){this.level=m.prop(a.level),this.user=m.prop(a.user?new nfx.models.User(a.user):null),this.organization=m.prop(a.organization?new nfx.models.Organization(a.organization):null)},nfx.models.PricingPlan=function(a){this.name=m.prop(a.name),this.identifier=m.prop(a.identifier),this.priceMonthly=m.prop(a.priceMonthly),this.priceAnnual=m.prop(a.priceAnnual),this.attributes=m.prop(a.attributes),this.priceAnnualMonthly=function(){return Math.ceil(this.priceAnnual()/12)}.bind(this),this.proDownloadsPerMonthMax=function(){return this.attributes().downloads_per_month_max}.bind(this),this.proMembersMax=function(){return this.attributes().organization_members_max}.bind(this),this.isPerceptuallyUnlimited=function(){return!this.attributes().downloads_per_month_max||!0===this.attributes().is_perceptually_unlimited}.bind(this),this.isAvailable=function(a){var b=this.proMembersMax();return!b||!a||a.membersCount()<=b}.bind(this),this.priceForBillingIntervalAndMembers=function(a,b){var c=("annual"==a?this.priceAnnual:this.priceMonthly)(),d="annual"==a?this.attributes().price_annual_per_additional_member:this.attributes().price_monthly_per_additional_member;return this.proMembersMax()?c:c+d*(b-1)}.bind(this),this.priceForBillingInterval=function(a,b){return this.priceForBillingIntervalAndMembers(a,b?b.membersCount():1)}.bind(this)},nfx.models.ProSubscription=function(a){this.subscriptionId=m.prop(a.subscriptionId),this.plan=m.prop(new nfx.models.PricingPlan(a.plan)),this.effectivePlan=m.prop(new nfx.models.PricingPlan(a.effectivePlan)),this.downloadsThisMonth=m.prop(a.downloadsThisMonth),this.isCancelled=m.prop(a.isCancelled),this.dateRenews=m.prop(a.dateRenews),this.dateExpires=m.prop(a.dateExpires),this.billingInterval=m.prop(a.billingInterval),this.currentBillingPeriodBillingInterval=m.prop(a.currentBillingPeriodBillingInterval),this.currentBillingPeriodPayment=m.prop(a.currentBillingPeriodPayment),this.currentBillingPeriodTotalDays=m.prop(a.currentBillingPeriodTotalDays),this.currentBillingPeriodResidualDays=m.prop(a.currentBillingPeriodResidualDays)},nfx.models.Transaction=function(a){this.transactionId=m.prop(a.transactionId),this.amountBalance=m.prop(parseFloat(a.amountBalance)),this.amountPayment=m.prop(parseFloat(a.amountPayment))},nfx.models.User=function(a){this.userId=m.prop(a.userId),this.username=m.prop(a.username),this.fullName=m.prop(a.fullName),this.email=m.prop(a.email),this.emailMd5Hash=m.prop(a.emailMd5Hash),this.company=m.prop(a.company),this.vatNumber=m.prop(a.vatNumber),this.balance=m.prop(a.balance),this.address=m.prop(a.address?new nfx.models.Address(a.address):null),this.hasSufficientBillingDetails=function(){if(this.email())return!!(this.address()&&this.address().street()&&this.address().postalCode()&&this.address().city()&&this.address().country())}},nfx.models.VatChargeAction={charge:"charge",reverseCharge:"reverseCharge",noCharge:"noCharge"},nfx.models.VatCharge=function(a){this.rate=m.prop(a.rate),this.countryCode=m.prop(a.countryCode),this.action=m.prop(a.action),this.calculateContainedVatAmount=function(a){return this.action()==nfx.models.VatChargeAction.charge?Math.round(a*this.rate()/(100+this.rate())*100)/100:0}.bind(this)},nfx.models.SubscriptionDiscountCode=function(a){this.code=m.prop(a.code),this.rule=m.prop(a.rule),this.description=function(){var a=this.rule();return"first_month_percentage"==a.identifier?a.attributes.percentage.toString()+"% off your first month":"full_year_percentage"==a.identifier?a.attributes.percentage.toString()+"% off the full period":void 0}.bind(this),this.reason=function(){return a.code?" with a discount code "+a.code:!!a.referrer&&" thanks to an invitation from "+a.referrer},this.effectAmount=function(a,b){var c=this.rule();if("first_month_percentage"==c.identifier){var d="annual"==b?a/12:a;return Math.round(d*c.attributes.percentage)/100}if("full_year_percentage"==c.identifier){var d=a;return Math.round(d*c.attributes.percentage)/100}}},nfx.models.UserCommerceStatistics=function(a){this.depositedTotal=m.prop(a.depositedTotal),this.depositedLast30Days=m.prop(a.depositedLast30Days),this.assetSpendingTotal=m.prop(a.assetSpendingTotal),this.assetSpendingLast30Days=m.prop(a.assetSpendingLast30Days),this.balance=m.prop(a.balance)},nfx.models.SimpleNewsletterPart=function(a){this.type=m.prop(a.type),this.label=m.prop(a.label),this.identifier=m.prop(a.identifier),this.helpText=m.prop(a.helpText),this.placeholder=m.prop(a.placeholder),this.data=m.prop(a.data),this.config=m.prop(a.config)},nfx.models.ImageNewsletterPart=function(a){this.type=function(){return"image"},this.label=m.prop(a.label),this.identifier=m.prop(a.identifier),this.asset=m.prop(a.embedded.asset?new nfx.models.StaticAsset(a.embedded.asset):null),this.data=function(){return this.asset()?this.asset().assetId():null}},nfx.models.ArticleListNewsletterPartArticle=function(a){a||(a={}),this.title=m.prop(a.title),this.url=m.prop(a.url),this.author=m.prop(a.author),this.excerpt=m.prop(a.excerpt),this.thumbnail=m.prop(a.thumbnail),this.featured=m.prop(a.featured),this.backgroundColor=m.prop(a.bgcolor)},nfx.models.ArticleListNewsletterPart=function(a){this.type=function(){return"article_list"},this.label=m.prop(a.label),this.identifier=m.prop(a.identifier),this.helpText=m.prop(a.helpText),this.config=m.prop(a.config||{}),this.articles=m.prop(a.data?a.data.map(function(b){var c=null;return a.embedded.assets[b.thumbnail_asset_id]&&(c=new nfx.models.StaticAsset(a.embedded.assets[b.thumbnail_asset_id])),new nfx.models.ArticleListNewsletterPartArticle($.extend({},b,{thumbnail:c}))}):[]),this.removeArticle=function(a){this.articles().splice(a,1)},this.addArticle=function(a){this.canAddArticle()&&this.articles().push(a||new nfx.models.ArticleListNewsletterPartArticle)},this.moveArticle=function(a,b){a==b||a>=this.articles().length||(b>=this.articles().length&&(b=this.articles().length-1),this.articles().splice(b,0,this.articles().splice(a,1)[0]))},this.canAddArticle=function(){return!this.config()||!this.config().countMax||this.config().countMax>this.articles().length},this.data=function(){return this.articles().map(function(a){return{title:a.title(),url:a.url(),author:a.author(),excerpt:a.excerpt(),thumbnail_asset_id:a.thumbnail()?a.thumbnail().assetId():null,featured:a.featured(),bgcolor:a.backgroundColor()}})}},nfx.models.IconSetListNewsletterPartIconSet=function(a){this.iconSetId=m.prop(a.iconSetId),this.name=m.prop(a.name),this.identifier=m.prop(a.identifier),this.isPremium=m.prop(a.isPremium)},nfx.models.IconSetListNewsletterPart=function(a){this.type=function(){return"iconset_list"},this.label=m.prop(a.label),this.identifier=m.prop(a.identifier),this.helpText=m.prop(a.helpText),this.config=m.prop(a.config||{}),this.iconSets=m.prop(a.data?a.data.map(function(b){return new nfx.models.IconSetListNewsletterPartIconSet(a.embedded.iconSets[b])}):[]),this.removeIconSet=function(a){this.iconSets().splice(a,1)},this.moveIconSet=function(a,b){a==b||a>=this.iconSets().length||(b>=this.iconSets().length&&(b=this.iconSets().length-1),this.iconSets().splice(b,0,this.iconSets().splice(a,1)[0]))},this.addIconSet=function(a){this.canAddIconSet()&&this.iconSets().push(a)},this.canAddIconSet=function(){return!this.config()||!this.config().countMax||this.config().countMax>this.iconSets().length},this.data=function(){return this.iconSets().map(function(a){return a.iconSetId()})}},nfx.models.Newsletter=function(a){this.newsletterId=m.prop(a.newsletterId),this.subject=m.prop(a.subject),this.parts=m.prop(a.parts)},nfx.models.ExternalArticle=function(a){this.urlCanonical=m.prop(a.urlCanonical),this.title=m.prop(a.title),this.excerpt=m.prop(a.excerpt),this.author=m.prop(a.author),this.thumbnailUrl=m.prop(a.thumbnailUrl),this.sourceIdentifier=m.prop(a.sourceIdentifier)},nfx.models.StaticAsset=function(a){this.assetId=m.prop(a.assetId),this.uri=m.prop(a.uri)},nfx.api.account={getUser:function(){return nfx.api.get({url:"/account/ajax/state"}).then(function(a){return Q(new nfx.models.User(a.user))})}},nfx.api.ApiError=function(a,b){this.code=a,this.data=b},nfx.api.get=function(a){var b=Q.defer();return Nextfinder.transport.get($.extend({},{success:function(a){b.resolve(a)},error:function(a,c){
b.reject(new nfx.api.ApiError(a,c))}},a)),b.promise},nfx.api.commerce={listCreditCards:function(){return nfx.api.get({url:"/commerce/ajax/credit-cards"}).then(function(a){var b=[];return a.creditCards.forEach(function(a){b.push(new nfx.models.CreditCard(a))}),Q({creditCards:b,user:new nfx.models.User(a.user),referral:a.referralDiscount})})},getCheapestOffer:function(a,b){return nfx.api.get({url:"/commerce/ajax/offers",data:{asset_identifier:a,asset_primary_key:b}}).then(function(a){return Q({asset:a.asset,offer:new nfx.models.AssetOffer(a.offers[0]),user:new nfx.models.User(a.user),proPlanSmallest:a.pro_plan_smallest?new nfx.models.PricingPlan(a.pro_plan_smallest):""})})}},nfx.controllers.AppController=function(){this.modalStackController=new nfx.controllers.AppModalStackController},nfx.controllers.AppModalStackController=function(){function a(){function a(){i.length&&i[i.length-1].controllerState.dismissable()&&!i[i.length-1].controllerState.processing()&&e.dismissTopmost()}f||(f=$('<div class="modal-backdrop fade in" />').appendTo($("body")),$(document).on("keyup.dismiss.topmost.modal",function(b){27==b.which&&a()}),f.on("click",a))}function b(){if(f){$(document).off("keyup.dismiss.topmost.modal");var a=f;f=null,a.attr("class","modal-backdrop fade out"),setTimeout(function(){a.remove()},500)}}function c(a){var b={view:a.view,controllerState:new a.controller};return b.controller=function(){return b.controllerState},i.push(b),b}function d(a){if(Mithril.module(g[0],a),a.controller()){var b=a.controller();b.didAppear&&b.didAppear(),b.title&&Nextfinder.tracking.trackPageview("/modal/"+b.title())}}var e=this,f=null,g=null,h={controller:function(){},view:function(a){}},i=[];this.present=function(b,e){if(!1!==e&&a(),g||(g=$('<div class="modal-container" />').appendTo("body")),i.length){var f=i[i.length-1];f.controllerState.didDisappear&&f.controllerState.didDisappear()}d(c(b))},this.presentLoader=function(a){this.present(new nfx.modules.ModalStackLoaderModule(a))},this.replaceAll=function(a){if(i.length){var a=i.pop();a.controllerState.didDisappear&&a.controllerState.didDisappear()}i=[],e.present(a)},this.replaceAllWithLoader=function(a){this.replaceAll(new nfx.modules.ModalStackLoaderModule(a))},this.replaceTopmost=function(a){if(!i.length)return e.present(a);var b=i.pop();b.controllerState.didDisappear&&b.controllerState.didDisappear(),d(c(a))},this.replaceTopmostWithLoader=function(a){this.replaceTopmost(new nfx.modules.ModalStackLoaderModule(a))},this.replaceTopmostWithError=function(a,b){this.replaceTopmost(new nfx.modules.ErrorModalModule({title:a,message:b}))},this.dismissTopmost=function(){if(i.length){var a=i.pop(),c=i.length?i[i.length-1]:void 0;a.controllerState.didDisappear&&a.controllerState.didDisappear(),c?d(c):(d(h),b())}},this.dismissAll=function(){if(i.length){var a=i.pop();a.controllerState.didDisappear&&a.controllerState.didDisappear()}i=[],d(h),b()}},nfx.controllers.ModalController=function(){var a=this;this.title=m.prop("Modal"),this.dismissable=m.prop(!0),this.actionable=m.prop(!1),this.actionLabel=m.prop("OK"),this.dismissLabel=m.prop("Cancel"),this.processing=m.prop(!1),this.dismiss=function(){nfx.app.modalStackController.dismissTopmost(),this.trackAction("Cancel")},this.action=function(){},this.trackAction=function(b){Nextfinder.tracking.trackEvent("Modal",a.title(),b)}},nfx.controllers.AuthenticationModalController=function(a){var b=new nfx.controllers.ModalController;return a=a||{},b.errorMessage=m.prop(void 0),b.isNewsletterSubscriber=m.prop(!0),b.connectWithFacebook=function(){this.processing(!0),nfx.services.userService.connectWithFacebook({isNewsletterSubscriber:this.isNewsletterSubscriber(),onConnect:function(){m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Successful"),this.processing(!1),a.onAuthenticate&&a.onAuthenticate(),m.endComputation()}.bind(this),onError:function(){m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Failed"),this.processing(!1),this.errorMessage("Failed to connect with Facebook."),m.endComputation()}.bind(this),onMissingUserData:function(b){m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Require data"),this.processing(!1),nfx.app.modalStackController.replaceTopmost(new nfx.modules.MissingUserDataModalModule({initialUserData:b,onAuthenticate:a.onAuthenticate})),m.endComputation()}.bind(this),onCancel:function(){m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Cancelled"),this.processing(!1),m.endComputation()}.bind(this)})},b},nfx.controllers.AccountDashboardOrganizationController=function(a,b){this.organization=a,this.organizationMembership=b,this.loading=m.prop(!1),this.reload=function(){var a=this;a.loading(!0),Nextfinder.transport.get({url:"/organizations/"+this.organization().organizationId(),success:function(b){a.organization(new nfx.models.Organization(b.organization)),a.loading(!1),m.redraw()}})}.bind(this),this.inviteMembers=function(){var a=this;nfx.app.modalStackController.present(new nfx.modules.InviteMembersModalModule({organization:this.organization,onInvited:function(){$.pnotify({pnotify_title:"User has been invited."}),a.reload()}}))}.bind(this),this.resendInvite=function(a){Nextfinder.transport.post({url:"/organizations/"+this.organization().organizationId()+"/invites/"+a.inviteId()+"/resend"})},this.deleteInvite=function(a){if(confirm("Are you sure you want to remove this invite?")){var b=this;Nextfinder.transport.post({url:"/organizations/"+this.organization().organizationId()+"/invites/"+a.inviteId()+"/revoke",success:function(c){var d=b.organization().invites(),e=d.indexOf(a);e>-1&&(d.splice(e,1),m.redraw())}})}},this.removeMember=function(a){if(confirm("Are you sure you want to remove "+a.fullName()+" from this team?")){var b=this;Nextfinder.transport.post({url:"/organizations/"+this.organization().organizationId()+"/members/"+a.userId()+"/remove",success:function(c){for(var d=b.organization().memberships(),e=-1,f=0;f<d.length;f++)if(d[f].user().userId()==a.userId()){e=f;break}e>-1&&(d.splice(e,1),m.redraw())}})}},this.leave=function(){if(confirm("Are you sure you want to leave this organization?")){Nextfinder.transport.post({url:"/organizations/"+this.organization().organizationId()+"/leave",success:function(a){location.reload()}})}}},nfx.controllers.AccountSubscriptionPlanController=function(a,b){this.organization=a,this.pricingPlans=b,this.billingInterval=m.prop(this.organization().proSubscription().billingInterval()),this.selectedPlan=m.prop(this.organization().proSubscription().plan()),this.canSetName=m.prop(!0),this.name=nfx.mext.watchedProp(a().name(),function(){this.canSetName($.trim(this.name()).length>0)}.bind(this)),this.cancelSubscription=function(){if(confirm("Are you sure you want to cancel your subscription?")){nfx.app.modalStackController.presentLoader();var a=this.organization().proSubscription().subscriptionId();Nextfinder.transport.post({url:"/pro/ajax/subscriptions/"+a+"/cancel",success:function(){nfx.app.modalStackController.present(new nfx.modules.ChurnSurveyModalModule({id:a,reasons:[{label:"I have no regular need of icons for a monthly subscription",value:1},{label:"I don't like how the monthly subscription is designed",value:2},{label:"I am not using the subscription enough to justify the cost",value:3},{label:"I prefer a pay-as-you go solution",value:4},{label:"It is too expensive",value:5},{label:"I couldn't find the icons I was looking for",value:6},{label:"I use other sites to get icons",value:7}]}))},error:function(){m.startComputation(),nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","We're really sorry, but it looks like something went wrong. Please reload the page and try again."),m.endComputation()}})}},this.reopenSubscription=function(){confirm("Are you sure you want to reopen your subscription?")&&(nfx.app.modalStackController.presentLoader(),Nextfinder.transport.post({url:"/pro/ajax/subscriptions/"+this.organization().proSubscription().subscriptionId()+"/reopen",success:function(){location.reload()},error:function(){m.startComputation(),nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","We're really sorry, but it looks like something went wrong. Please reload the page and try again."),m.endComputation()}}))},this.selectPlan=function(a){this.selectedPlan(a)},this.selectBillingInterval=function(a){this.billingInterval(a)},this.changePlan=function(){nfx.app.modalStackController.presentLoader(),Nextfinder.transport.post({url:"/pro/ajax/subscriptions/"+this.organization().proSubscription().subscriptionId()+"/change",data:{billing_interval:this.billingInterval(),pricing_plan_identifier:this.selectedPlan().identifier()},success:function(){location.reload()},error:function(a,b){var c="Something went wrong",d="We're really sorry, but it looks like something went wrong. Please reload the page and try again.";"credit_card_declined"==a?(c="Credit card declined",d=m.trust('We\'re sorry, but we could not change your Iconfinder Pro subscription plan because your credit card was declined. Please check to make sure you have the correct credit card set up in under <a href="/account/payment-methods">Payment methods</a>.')):"no_payment_method"==a?(c="You have no credit card registered",d=m.trust('We\'re sorry, but we could not change your Iconfinder Pro subscription plan because you currently have no active credit cards registered. Please check to make sure you have the correct credit card set up in under <a href="/account/payment-methods">Payment methods</a>.')):"unpaid_billing_cycles"==a&&(c="You have an outstanding payment",d=m.trust('We\'re sorry, but we could not change your Iconfinder Pro subscription plan because you currently have an outstanding payment for your subscription. Please check to make sure you have the correct credit card set up in under <a href="/account/payment-methods">Payment methods</a> so we can process the payment before we can upgrade your plan.')),m.startComputation(),nfx.app.modalStackController.replaceTopmostWithError(c,d),m.endComputation()}})},this.changeName=function(){0!=$.trim(this.name()).length&&(nfx.app.modalStackController.presentLoader(),Nextfinder.transport.post({url:"/organizations/"+this.organization().organizationId()+"/name",data:{name:this.name()},success:function(){location.reload()},error:function(){m.startComputation(),nfx.app.modalStackController.replaceTopmostWithError("Something went wrong","We're really sorry, but it looks like something went wrong. Please reload the page and try again."),m.endComputation()}}))}},nfx.controllers.AddCreditCardModalController=function(a){var b=new nfx.controllers.ModalController,c=function(c,d){m.startComputation(),b.processing(!0),m.endComputation(),Nextfinder.transport.post({url:"/commerce/ajax/credit-cards",data:{payment_token:c,payment_provider:d},success:function(){a.didAddCreditCard&&a.didAddCreditCard()},error:function(a,c){m.startComputation(),b.paymentFormController.errorMessage("Something went wrong while trying to add your credit card"),b.processing(!1),m.endComputation()}})};return b.title("Add credit card"),b.actionLabel("Add credit card"),b.actionable(!0),b.paymentFormController=new nfx.controllers.PaymentFormController({existingCreditCardAllowed:!1,payPalAllowed:!1,rememberCreditCardOptional:!1,didSelectNewCreditCard:function(a,b){c(a,b)},didStartLoading:function(){b.processing(!0)},didEndLoading:function(){b.processing(!1)}}),b.action=function(a){a.preventDefault(),this.trackAction("Confirm"),this.paymentFormController.submit()},b},nfx.controllers.AssetPurchaseCompletedModalController=function(a){var b=new nfx.controllers.ModalController;return b.asset=m.prop(a.asset),b.dontShowAgain=m.prop(!0),b.title("Thank you for your purchase"),b.dismiss=function(){nfx.app.modalStackController.dismissTopmost(),b.dontShowAgain()&&Nextfinder.transport.post({url:"/commerce/ajax/never-show-post-purchase"}),b.trackAction("Dismiss")},b.didDisappear=function(){a.didDismiss&&a.didDismiss()},b},nfx.controllers.BiTableQueryResultController=function(a){a=a||{},this.result="function"==typeof a.result?a.result:m.prop(a.result),this.format="function"==typeof a.format?a.format:m.prop(a.format||"table"),this.isLoading="function"==typeof a.isLoading?a.isLoading:m.prop(a.isLoading||!1)},nfx.controllers.BillingDetailsController=function(a){var b=this,c=null;c=a.user&&"function"==typeof a.user?a.user():a.user;var d={};c&&c.address()&&(d.addressStreet=c.address().street(),d.addressPostalCode=c.address().postalCode(),d.addressCity=c.address().city(),d.addressState=c.address().state(),d.addressCountry=c.address().country()),c&&(d.company=c.company(),d.vatNumber=c.vatNumber()),this.addressStreet=nfx.mext.validatedProp(d.addressStreet||"",{required:!0,minlength:2,maxlength:255,errorMessages:{required:"Please specify your street and street number"},clean:$.trim}),this.addressPostalCode=nfx.mext.validatedProp(d.addressPostalCode||"",{required:!0,minlength:2,maxlength:16,errorMessages:{required:"Please specify your postal code"},clean:$.trim}),this.addressCity=nfx.mext.validatedProp(d.addressCity||"",{required:!0,minlength:2,maxlength:128,errorMessages:{required:"Please specify your city"},clean:$.trim}),this.addressState=nfx.mext.validatedProp(d.addressState||"",{maxlength:128,clean:$.trim}),this.addressCountry=m.prop(d.addressCountry?d.addressCountry:"US"),this.company=nfx.mext.validatedProp(d.company||"",{required:!0,maxlength:64,errorMessages:{required:"Please specify your company"},clean:$.trim}),this.vatNumber=nfx.mext.validatedProp(d.vatNumber||"",{maxlength:64,clean:$.trim}),this.isBusiness=m.prop(!!d.company),this.errorMessage=m.prop(void 0),this.validateForm=function(){return this.addressStreet.validate(),this.addressPostalCode.validate(),this.addressCity.validate(),this.isBusiness()?(this.company.validate(),this.vatNumber.validate()):(this.company.error(void 0),this.vatNumber.error(void 0)),!(this.addressStreet.error()||this.addressPostalCode.error()||this.addressCity.error()||this.isBusiness()&&(this.company.error()||this.vatNumber.error()))},this.submitForm=function(a){return Q.Promise(function(a,c){b.validateForm()||(b.errorMessage("Oops! Please correct the errors below."),c(Error("Form is not valid.")));var d=b.addressStreet.clean(),e=b.addressPostalCode.clean(),f=b.addressCity.clean(),g=b.addressState.clean(),h=b.addressCountry(),i=b.company.clean(),j=b.vatNumber.clean();b.errorMessage(void 0),Nextfinder.transport.post({url:"/account/ajax/billing-details",data:{address_street:d,address_postal_code:e,address_city:f,address_state:g,address_country:h,company:b.isBusiness()?i:void 0,vat_number:b.isBusiness()?j:void 0},error:function(a,d){if(m.startComputation(),"invalid_data"==a){b.errorMessage("Oops! Please correct the errors below.");var e={address_street:b.addressStreet,address_city:b.addressCity,address_postal_code:b.addressPostalCode,address_state:b.addressState,company:b.company,vat_number:b.vatNumber};for(var f in d.errors)e[f].error(d.errors[f][0])}else b.errorMessage(d.message);m.endComputation(),c(Error(d))}.bind(b),success:function(b){a(b)}.bind(b)})})}},nfx.controllers.BillingDetailsModalController=function(a){var b=new nfx.controllers.ModalController,c=new nfx.controllers.BillingDetailsController({user:a.user});return b.billingDetailsCtrl=c,b.title("Billing information"),b.actionLabel("Save billing information"),b.actionable(!0),b.action=function(d){d&&d.preventDefault(),b.trackAction("Confirm"),this.processing(!0),c.submitForm().then(function(b){m.startComputation(),a.didUpdate&&a.didUpdate(),m.endComputation()},function(a){}),this.processing(!1)},b},nfx.controllers.ConfirmAssetPurchaseModalController=function(a){var b=new nfx.controllers.ModalController;return"icon"==a.asset.type?b.title(["Confirm purchase of icon for ",m("b","$"+a.offer.price())]):"iconset"==a.asset.type?b.title(["Confirm purchase of icon set for ",m("b","$"+a.offer.price())]):"custom_service"==a.asset.type?b.title(["Confirm prepay of custom service for ",m("b","$"+Nextfinder.formatting.formatMoney(a.offer.price()))]):b.title("Confirm purchase"),b.user=m.prop(a.user),b.asset=m.prop(a.asset),b.offer=m.prop(a.offer),b.proPlanSmallest=m.prop(a.proPlanSmallest),b.showProDescription=m.prop(!1),this.processing=m.prop(),b.toggleProDescription=function(){this.showProDescription(!this.showProDescription())},b.confirmPurchase=function(){this.processing(!0),a.didConfirmPurchase&&a.didConfirmPurchase(),b.trackAction("Confirm purchase")},b.confirmPro=function(){a.didConfirmPro&&a.didConfirmPro(),b.trackAction("Subscribe to Pro")},b},nfx.controllers.DepositCashModalController=function(a){function b(a){g.paymentFormController.errorMessage(a)}function c(a,b,c){window.Nextfinder.transport.post({url:"/commerce/payments/paypal-express/setup-deposit",data:{amount:100*a},success:function(a){location.href=a.redirect},error:function(a,b){Nextfinder.tracking.trackEvent("Commerce","Set up for PayPal","Error code",error.code)}})}function d(a,b,c,d,e,f){window.Nextfinder.transport.post({url:"/commerce/ajax/deposit",data:{amount:100*d,payment_token:a,payment_provider:b,save_credit_card:c,request_token:g.requestToken},success:function(a){Nextfinder.tracking.trackEvent("Commerce","Deposit cash","Deposit amount",1.5*d),e(a.balance)},error:function(a,b){Nextfinder.tracking.trackEvent("Commerce","Deposit cash","Error code",a),f(a,b)}})}function e(a,b,c,d){window.Nextfinder.transport.post({url:"/commerce/ajax/deposit",data:{card_id:a.cardId(),amount:100*b,request_token:g.requestToken},success:function(a){Nextfinder.tracking.trackEvent("Commerce","Deposit cash","Deposit amount",1.5*b),c(a.balance)},error:function(a,b){Nextfinder.tracking.trackEvent("Commerce","Deposit cash","Error code",a),d(a,b)}})}function f(c){var d=g.selectedAmount();if(null==d){var e=$.trim(g.customAmount());if(g.customAmountValid(!!e.match(/^\d+$/)),g.customAmountValid()&&(d=parseInt(e,10)),!g.customAmountValid()||d<5)return m.startComputation(),b("Please enter a valid amount of at least $ 5"),void m.endComputation()}m.startComputation(),g.processing(!0),b(),m.endComputation(),c(d,function(b){a.didDeposit&&a.didDeposit(d,b)},function(a,c){m.startComputation(),g.processing(!1),b(c?c.message:"An unexpected error occured. Please reload the page."),m.endComputation()})}var g=new nfx.controllers.ModalController;g.selectedAmount=m.prop(10),g.customAmount=m.prop("100"),g.customAmountValid=m.prop(!0),g.referral=a.referral,g.selectAmount=function(a){this.selectedAmount(a)},g.requestToken=$.generateRandomAlphanumeric(32);return g.title("Deposit cash to your account"),g.actionLabel("Deposit"),g.actionable(!0),g.paymentFormController=new nfx.controllers.PaymentFormController({creditCards:a.creditCards,existingCreditCardAllowed:!0,payPalAllowed:!0,rememberCreditCardOptional:!0,didSelectNewCreditCard:function(a,b,c){f(d.bind(void 0,a,b,c))},didSelectExistingCreditCard:function(a){f(e.bind(void 0,a))},didSelectPayPal:function(){f(c)},didStartLoading:function(){g.processing(!0)},didEndLoading:function(){g.processing(!1)}}),g.action=function(a){a.preventDefault(),this.trackAction("Confirm"),this.paymentFormController.submit()},g},nfx.controllers.DownloadLimitReachedModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Download limit reached"),b.dismissLabel("OK"),b.dateResets=m.prop(a.dateResets),b.downloadLimit=m.prop(a.downloadLimit),b.isPerceptuallyUnlimited=m.prop(a.isPerceptuallyUnlimited),b},nfx.controllers.ErrorModalController=function(a){var b=new nfx.controllers.ModalController;return b.title(a.title),b.message=m.prop(a.message),b.actionLabel("OK"),b},nfx.controllers.InsufficientFundsModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Your account balance is too low"),b.actionLabel("Deposit cash"),b.actionable(!0),b.asset=m.prop(a.asset),b.user=m.prop(a.user),b.proPlanSmallest=m.prop(a.proPlanSmallest),b.showProDescription=m.prop(!1),b.toggleProDescription=function(){this.showProDescription(!this.showProDescription())},b.depositCash=function(){a.didChooseDeposit&&a.didChooseDeposit(),this.trackAction("Deposit cash")},b.subscribePro=function(){a.didChoosePro&&a.didChoosePro(),this.trackAction("Subscribe to Pro")},b},nfx.controllers.InviteMembersModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Add team members"),b.actionLabel=function(){return this.billedNow()?"Pay and add team members":"Add team members"}.bind(b),b.billedNext=function(){if(this.organization().proSubscription()){var a=this.organization().proSubscription();return a.plan().priceForBillingIntervalAndMembers(a.billingInterval(),this.organization().membersCount()+this.emailsCount())}}.bind(b),b.billedNow=function(){if(this.organization().proSubscription()){var a=this.organization().proSubscription(),b=a.plan(),c=(b.priceForBillingIntervalAndMembers(a.currentBillingPeriodBillingInterval(),this.organization().membersCount()+this.emailsCount())-a.currentBillingPeriodPayment())*(a.currentBillingPeriodResidualDays()/a.currentBillingPeriodTotalDays());return c>0?c:0}}.bind(b),b.organization=a.organization,b._emails="",b._emailsCount=0,b.emails=function(){if(arguments.length){this._emails=arguments[0],this.actionable(""!=arguments[0]),this._emailsCount=0;for(var a=this._emails.split(/[,\s]+/),b=0;b<a.length;++b)a[b].match(/^[^@]+@[^@\.]+\.[^@]+$/)&&++this._emailsCount}return this._emails}.bind(b),b.emails.toJSON=function(){return this._emails}.bind(b),b.errorMessage=m.prop(void 0),b.emailsInvalid=m.prop(!1),b.emailsCount=function(){return this._emailsCount}.bind(b),b.action=function(){var c=this;this.trackAction("Confirm"),this.processing(!0),this.errorMessage(void 0),this.emailsInvalid(!1),Nextfinder.transport.post({url:"/organizations/"+b.organization().organizationId()+"/invites",data:{emails:this.emails()},success:function(b){nfx.app.modalStackController.dismissTopmost(),a.onInvited&&a.onInvited()},error:function(a,b){switch(c.processing(!1),c.emailsInvalid("invalid_data"==a),a){case"invalid_data":c.errorMessage("That does not look like e-mail addresses");break;case"credit_card_declined":case"invalid_Credit_card":c.errorMessage("Sorry, but your credit card was declined");break;case"no_payment_method":c.errorMessage("You don't have a credit card registered. Please update your payment methods");break;case"unpaid_billing_cycles":c.errorMessage("You have unpaid subscription charges outstanding. Please check your payment methods");break;default:c.errorMessage("We had a problem talking to the server. Sorry about that - please try again!")}m.redraw()}})},b},nfx.controllers.ModalStackLoaderController=function(a){this.message=m.prop(a||"Hang tight..."),this.dismissable=m.prop(!1)},nfx.controllers.PaymentFormController=function(a){var b=this;a=a||{};var c=new CardCheck,d=function(a,b){this.creditCard=m.prop(a),this.isSelected=m.prop((b()||!1)&&"paymill"!=a.paymentProvider()),this.isSelectable=m.prop("paymill"!=a.paymentProvider())};this.hideUnselectable=m.prop(1==a.hideUnselectable);var e=function(){this.errorMessage(void 0),this.creditCardNumberInvalid(!1),this.creditCardExpirationMonthInvalid(!1),this.creditCardExpirationYearInvalid(!1),this.creditCardHolderNameInvalid(!1),this.creditCardCvcInvalid(!1)}.bind(this),f=function(){function a(a){g=!1,h.errorMessage(a)}var b=$.trim(this.creditCardNumber()),c=$.trim(this.creditCardExpirationMonth()),d=$.trim(this.creditCardExpirationYear()),e=$.trim(this.creditCardCvc()),f=$.trim(this.creditCardHolderName()),g=!0,h=this;if(0==b.length?(a("Please enter a credit card number"),this.creditCardNumberInvalid(!0)):$.payment.validateCardNumber(b)?this.creditCardNumberInvalid(!1):(a("Your credit card number is not valid"),this.creditCardNumberInvalid(!0)),0==c.length&&(a("Please enter the expiration month"),this.creditCardExpirationMonthInvalid(!0)),0==d.length?(a("Please enter the expiration year"),this.creditCardExpirationYearInvalid(!0)):4==d.length&&(d=d.slice(-2),this.creditCardExpirationYearInvalid(!1)),c.length>0&&d.length>0){var i=$.payment.validateCardExpiry(c,d);this.creditCardExpirationYearInvalid(!i),this.creditCardExpirationMonthInvalid(!i),i||a("The expiration date is not valid")}return e.length<3?(a("Please enter card verification code, eg. '123'"),this.creditCardCvcInvalid(!0)):$.payment.validateCardCVC(e)?this.creditCardCvcInvalid(!1):(a("Your card validation code (CVC) is not valid"),this.creditCardCvcInvalid(!0)),0==f.length?(a("Please enter the name of the card holder"),this.creditCardHolderNameInvalid(!0)):this.creditCardHolderNameInvalid(!1),g}.bind(this),g=function(a){var c=[],e=!1,f=!1;if(a.forEach(function(a){var g=new d(a,a.isDefault);!b.hideUnselectable()&&g.isSelectable()&&c.push(g),g.isSelected()?e=!0:g.isSelectable()||(f=!0)}),c.length&&!e)for(var g=0;g<c.length;g++){var h=c[g];if(h.isSelectable()){h.isSelected(!0);break}}this.existingCreditCards(c),this.hasUnselectableExistingCreditCards(f),c.length&&this.selectPaymentMethod("existing-credit-card")}.bind(this),h=function(){a.didStartLoading&&a.didStartLoading(),function(){nfx.api.commerce.listCreditCards().then(function(b){m.startComputation(),g(b.creditCards),a.didEndLoading&&a.didEndLoading(),m.endComputation()},function(b){m.startComputation(),a.didEndLoading&&a.didEndLoading(),m.endComputation()})}()}.bind(this),i=function(){e()}.bind(this),j=function(){c.cardNumber(this.creditCardNumber()),this.creditCardType(c.cardType()),this.newCreditCardFormTitle(this.creditCardType()?c.cardType(!0):"Credit card"),i()}.bind(this);this.creditCardAllowed=m.prop(!1!==a.creditCardAllowed),this.payPalAllowed=m.prop(!1!==a.payPalAllowed),this.existingCreditCardAllowed=m.prop(!1!==a.existingCreditCardAllowed),this.selectedPaymentMethod=m.prop(this.creditCardAllowed()?"new-credit-card":"paypal"),this.existingCreditCards=m.prop([]),this.hasUnselectableExistingCreditCards=m.prop(!1),this.hasSelectedExistingCreditCard=function(){for(var a=this.existingCreditCards(),b=0;b<a.length;b++)if(a[b].isSelected())return!0;return!1}.bind(this),this.newCreditCardFormTitle=m.prop("Credit card"),this.creditCardType=m.prop(null),this.creditCardValid=m.prop(!1),this.errorMessage=m.prop(),this.creditCardNumber=nfx.mext.processedWatchedProp("",function(a){return $.payment.formatCardNumber(a)},j),this.creditCardExpirationMonth=nfx.mext.watchedProp("",i),this.creditCardExpirationYear=nfx.mext.watchedProp("",i),this.creditCardHolderName=nfx.mext.watchedProp("",i),this.creditCardCvc=nfx.mext.watchedProp("",i),this.rememberCreditCard=m.prop(!0),this.rememberCreditCardOptional=!1!==a.rememberCreditCardOptional,this.creditCardNumberInvalid=m.prop(!1),this.creditCardExpirationMonthInvalid=m.prop(!1),this.creditCardExpirationYearInvalid=m.prop(!1),this.creditCardHolderNameInvalid=m.prop(!1),this.creditCardCvcInvalid=m.prop(!1),this.actionable=function(){return"existing-credit-card"!=this.selectedPaymentMethod()||this.hasSelectedExistingCreditCard()}.bind(this),this.selectPaymentMethod=function(b,c){e(),this.selectedPaymentMethod(b),c&&c.preventDefault(),a.didChangeActionable&&a.didChangeActionable(this.actionable())},this.selectExistingCreditCard=function(b){this.existingCreditCards().forEach(function(a){a.isSelected(a.creditCard().cardId==b.cardId)}),a.didChangeActionable&&a.didChangeActionable(this.actionable())},this.submit=function(b){if(b?b.preventDefault():m.startComputation(),a.didStartLoading&&a.didStartLoading(),"new-credit-card"==this.selectedPaymentMethod()){if(!f())return a.didEndLoading&&a.didEndLoading(),void m.endComputation();var c=$.trim(this.creditCardNumber()),d=$.trim(this.creditCardExpirationMonth()),e=$.trim(this.creditCardExpirationYear()),g=$.trim(this.creditCardCvc()),h=$.trim(this.creditCardHolderName()),i=this;Stripe.setPublishableKey(window.STRIPE_PUBLISHABLE_KEY),Stripe.card.createToken({number:c,exp_month:d,exp_year:2==e.length?"20"+e:e,cvc:g,name:h},function(b,c){if(a.didEndLoading&&a.didEndLoading(),c.error)return i.errorMessage("Your credit card does not seem to be valid or we do not accept it"),void m.redraw();a.didSelectNewCreditCard&&a.didSelectNewCreditCard(c.id,"stripe",this.rememberCreditCard())}.bind(this))}else if("existing-credit-card"==this.selectedPaymentMethod()){for(var j,k=this.existingCreditCards(),l=0;l<k.length;l++)if(k[l].isSelected()){j=k[l].creditCard();break}j&&a.didSelectExistingCreditCard&&a.didSelectExistingCreditCard(j)}else"paypal"==this.selectedPaymentMethod()&&a.didSelectPayPal&&a.didSelectPayPal();b||m.endComputation()}.bind(this),this.creditCardAllowed&&this.existingCreditCardAllowed()&&(a.creditCards?g(a.creditCards):h())},nfx.controllers.SubscriptionCreatedModalController=function(a){var b=new nfx.controllers.ModalController;return b.proSubscription=m.prop(a.proSubscription),b.transaction=m.prop(a.transaction),b.discount=m.prop(a.discount),b.title("Your Iconfinder Pro subscription is now ready"),b.dismissable(!1),b.actionLabel("Take me to the dashboard"),b.actionable(!0),b.action=function(){b.trackAction("Confirm"),location.href="/account/"},b.dismiss=function(){location.reload()},b},nfx.controllers.SubscriptionPaymentModalController=function(a){var b=new nfx.controllers.ModalController,c=function(c,d,e){m.startComputation(),b.processing(!0),m.endComputation(),Nextfinder.transport.post({url:"/pro/ajax/subscribe",data:{plan_identifier:a.pricingPlanIdentifier,card_id:c,payment_token:d,payment_provider:e,billing_interval:a.billingInterval},success:function(b){a.didSubscribe&&a.didSubscribe(new nfx.models.ProSubscription(b.proSubscription),new nfx.models.Transaction(b.transaction))},error:function(a,c){var d="Something went wrong while trying to set up your subscription.";switch(a){case"invalid_credit_card":d="Invalid credit card data. Please check your credit card data below.";break;case"credit_card_declined":d="Your credit card was declined, sorry.";break;case"invalid_data":d="The data you have entered is not valid.";break;case"suspicious_activity":d="Your account has been flagged for suspicious activity. A support staff will review your account shortly. We're sorry about the inconvenience."}m.startComputation(),b.paymentFormController.errorMessage(d),b.processing(!1),m.endComputation()}})};return b.title("Subscribe to Iconfinder Pro"),b.actionLabel("Subscribe"),b.actionable(!0),b.paymentFormController=new nfx.controllers.PaymentFormController({creditCards:a.creditCards,payPalAllowed:!1,rememberCreditCardOptional:!1,didSelectExistingCreditCard:function(a){c(a.cardId)},didSelectNewCreditCard:function(a,b){c(void 0,a,b)},didStartLoading:function(){b.processing(!0)},didEndLoading:function(){b.processing(!1)},didChangeActionable:function(a){b.actionable(a)}}),b.action=function(a){a.preventDefault(),this.trackAction("Confirm"),this.paymentFormController.submit()},b},nfx.controllers.ChurnSurveyModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Feedback"),b.dismissLabel("Close window"),b.dismissable(!1),b.reasons=$.shuffle(a.reasons),b.toggleOther=function(a){var b=$('#feedback-form input[value="0"]').is(":checked");$("#other-reason").toggleClass("hidden",!b),0==a&&setTimeout(function(){$("#other-reason").focus()},50)},b.validate=function(){var a=$('#feedback-form input[type="checkbox"]:checked').length>0;return $("#feedback-form .alert").toggleClass("hidden",a),a},b.submit=function(){if(b.validate()){$("#feedback-form").parents(".modal").find(".btn").attr("disabled",!0),b.trackAction("Submit");var c={reasons:[]};c.freetext=$("#other-reason").val(),$("#feedback-form input").sort(function(a,b){return $(a).val()-$(b).val()}).each(function(){c.reasons.push($(this).is(":checked"))}),Nextfinder.transport.post({url:"/pro/ajax/subscriptions/"+a.id+"/feedback",data:c,success:function(a,b){alert("Thank you for your feedback!"),location.reload()}.bind(self),error:function(a,b){
alert("Something went wrong, please try again!"),$("#feedback-form").parents(".modal").find(".btn").attr("disabled",!1)}.bind(self)})}},b.dismiss=function(){b.trackAction("Dismiss"),location.reload()},b},nfx.controllers.FreeDownloadPromptModalController=function(a){var b=new nfx.controllers.AuthenticationModalController(a);return a=a||{},b.title("Continue downloading free icons"),b.logIn=function(){nfx.app.modalStackController.replaceTopmost(new nfx.modules.LogInModalModule({onAuthenticate:a.onAuthenticate}))},b.signUp=function(){nfx.app.modalStackController.replaceTopmost(new nfx.modules.SignUpModalModule({onAuthenticate:a.onAuthenticate}))},b},nfx.controllers.SignUpModalController=function(a){var b=new nfx.controllers.AuthenticationModalController(a);return a=a||{},b.title("Sign up"),b.actionLabel("Sign up"),b.actionable(!0),b.firstName=nfx.mext.validatedProp("",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.lastName=nfx.mext.validatedProp("",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.email=nfx.mext.validatedProp("",{required:!0,minlength:5,maxlength:128,clean:$.trim}),b.username=nfx.mext.validatedProp("",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.password=nfx.mext.validatedProp("",{required:!0,minlength:6,maxlength:128,clean:$.trim}),b.dismissable(!1!==a.dismissable),b.logIn=function(b){b&&b.preventDefault(),nfx.app.modalStackController.replaceTopmost(new nfx.modules.LogInModalModule({dismissable:a.dismissable,onAuthenticate:a.onAuthenticate}))},b.action=function(b){if(b&&b.preventDefault(),this.trackAction("Confirm"),this.firstName.validate()&&this.lastName.validate()&&this.username.validate()&&this.email.validate()&&this.password.validate()){this.processing(!0),this.errorMessage(void 0);var c={first_name:this.firstName,last_name:this.lastName,username:this.username,email:this.email,password:this.password,is_newsletter_subscriber:this.isNewsletterSubscriber},d={};for(var e in c){var f=c[e]();!1===f?f="":!0===f&&(f="on"),f&&(d[e]=f)}Nextfinder.transport.post({url:"/user/ajax/signup",data:d,error:function(a,b){if(m.startComputation(),"invalid_data"==a)for(var d in b.errors)c[d].error(b.errors[d][0]);else this.errorMessage(b.message);Nextfinder.tracking.trackEvent("User","Sign up","Error code",a),this.processing(!1),m.endComputation()}.bind(this),success:function(b){m.startComputation(),Nextfinder.tracking.trackEvent("User","Sign up","Signed up successfully"),this.processing(!1),a.onAuthenticate&&a.onAuthenticate(),m.endComputation()}.bind(this)})}},b},nfx.controllers.MissingUserDataModalController=function(a){var b=new nfx.controllers.ModalController;return a=a||{},b.title("Sign up"),b.actionLabel("Create account"),b.actionable(!0),b.errorMessage=m.prop(void 0),b.firstName=nfx.mext.validatedProp(a.initialUserData.first_name||"",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.lastName=nfx.mext.validatedProp(a.initialUserData.last_name||"",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.email=nfx.mext.validatedProp(a.initialUserData.email||"",{required:!0,minlength:5,maxlength:128,clean:$.trim}),b.username=nfx.mext.validatedProp(a.initialUserData.username||"",{required:!0,minlength:2,maxlength:128,clean:$.trim}),b.isNewsletterSubscriber=m.prop(!0),b.action=function(b){if(b&&b.preventDefault(),this.trackAction("Confirm"),this.firstName.validate()&&this.lastName.validate()&&this.username.validate()&&this.email.validate()){this.processing(!0),this.errorMessage(void 0);var c={first_name:this.firstName,last_name:this.lastName,username:this.username,email:this.email,is_newsletter_subscriber:this.isNewsletterSubscriber},d={backend_name:a.initialUserData.backend_name,backend_user_id:a.initialUserData.backend_user_id};for(var e in c){var f=c[e]();!1===f?f="":!0===f&&(f="on"),f&&(d[e]=f)}Nextfinder.transport.post({url:"/user/ajax/missing-user-data",data:d,error:function(a,b){if(m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Require data error code",a),"invalid_data"==a){this.errorMessage("Oops! Please correct the errors below.");for(var d in b.errors)c[d].error(b.errors[d][0])}else this.errorMessage(b.message);this.processing(!1),m.endComputation()}.bind(this),success:function(b){m.startComputation(),Nextfinder.tracking.trackEvent("User","Connect with Facebook","Successful"),this.processing(!1),a.onAuthenticate&&a.onAuthenticate(),m.endComputation()}.bind(this)})}},b},nfx.controllers.LogInModalController=function(a){function b(a){function b(){c||(c=!0,a())}if(window.Recaptcha)return void a();var c=!1,d=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.onreadystatechange=function(){b()},e.onload=b,e.src="https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",d.appendChild(e)}var c=new nfx.controllers.AuthenticationModalController(a);return a=a||{},c.title("Log in"),c.actionLabel("Log in"),c.actionable(!0),c.username=nfx.mext.validatedProp("",{required:!0,clean:$.trim}),c.password=nfx.mext.validatedProp("",{required:!0,clean:$.trim}),c.remember=m.prop(!0),c.recaptchaRequired=m.prop(!1),c.recaptchaPublicKey=m.prop(),c.dismissable(!1!==a.dismissable),c.signUp=function(b){b&&b.preventDefault(),nfx.app.modalStackController.replaceTopmost(new nfx.modules.SignUpModalModule({dismissable:a.dismissable,onAuthenticate:a.onAuthenticate}))},c.action=function(c){if(c&&c.preventDefault(),this.trackAction("Confirm"),this.username.validate()&&this.password.validate()){this.processing(!0),this.errorMessage(void 0);var d={username:this.username,password:this.password,remember_me:this.remember},e={recaptcha_challenge_field:$('input[name="recaptcha_challenge_field"]').val(),recaptcha_response_field:$('input[name="recaptcha_response_field"]').val()};for(var f in d){var g=d[f]();!1===g?g="":!0===g&&(g="on"),g&&(e[f]=g)}Nextfinder.transport.post({url:"/user/ajax/login",data:e,error:function(a,c){if(m.startComputation(),"invalid_data"==a){this.errorMessage("Oops! Please correct the errors below.");for(var e in c.errors)"__all__"==e?this.errorMessage(c.errors[e][0]):d[e]&&d[e].error(c.errors[e][0])}else this.errorMessage(c.message);Nextfinder.tracking.trackEvent("User","Log in","Error code",a),c.recaptcha_required&&!this.recaptchaRequired()?b(function(){m.startComputation(),this.processing(!1),this.recaptchaRequired(!0),this.recaptchaPublicKey(c.recaptcha_public_key),m.endComputation()}.bind(this)):this.processing(!1),m.endComputation()}.bind(this),success:function(b){m.startComputation(),Nextfinder.tracking.trackEvent("User","Log in","Logged in successfully"),this.processing(!1),a.onAuthenticate&&a.onAuthenticate(),m.endComputation()}.bind(this)})}},c},nfx.controllers.FormatIsProOnlyPromptModalController=function(a){var b=new nfx.controllers.AuthenticationModalController(a);return a=a||{},b.title("Get additional formats with Iconfinder Pro"),b},nfx.controllers.PrivateMessageIsProOnlyPromptModalController=function(a){var b=new nfx.controllers.AuthenticationModalController(a);return a=a||{},b.title("Get access to private messages with Iconfinder Pro"),b},nfx.controllers.SubscriptionController=function(a){var b=function(){var b="/pro/subscribe?plan="+this.currentPlan().identifier()+"&billing_interval="+this.billingInterval();this.campaignIdentifier()&&(b+="&campaign="+encodeURIComponent(this.campaignIdentifier())),a.discountCode.length>0&&this.validateDiscountCode(),null===a.referralDiscount||this.discount()||this.discount(new nfx.models.SubscriptionDiscountCode(a.referralDiscount)),History.replaceState(null,$("head title").text(),b)}.bind(this);this.iconsCount=m.prop(a.iconsCount),this.pricingPlans=m.prop(a&&a.pricingPlans?a.pricingPlans.map(function(a){return new nfx.models.PricingPlan(a)}):null),this.user=m.prop(a&&a.user?new nfx.models.User(a.user):null),this.organization=m.prop(a&&a.organization?new nfx.models.Organization(a.organization):null),this.billingInterval=nfx.mext.watchedProp(a.billingInterval,function(){b()}),this.isBusiness=m.prop(!1),this.userCommerceStatistics=m.prop(a&&a.userCommerceStatistics?new nfx.models.UserCommerceStatistics(a.userCommerceStatistics):null);for(var c,d=0;d<this.pricingPlans().length;++d){var e=this.pricingPlans()[d];if(e.isAvailable(this.organization())){c=e;break}}if(a.defaultPlanIdentifier)for(var d=0;d<this.pricingPlans().length;++d){var e=this.pricingPlans()[d];if(e.isAvailable(this.organization())&&e.identifier()==a.defaultPlanIdentifier){c=e;break}}this.currentPlan=nfx.mext.watchedProp(c,function(){b()}),this.discount=m.prop(),this.discountCode=m.prop(a.discountCode),this.discountCodePercentage=m.prop(a.discountCodePercentage),this.discountCodeError=m.prop(void 0),this.discountCodeLoading=m.prop(!1),this.balance=m.prop(this.user()?this.user().balance():0),this.processing=m.prop(),this.errorMessage=m.prop();var f=new nfx.controllers.BillingDetailsController({user:this.user});this.billingDetailsCtrl=f;var g=new nfx.controllers.PaymentFormController({existingCreditCardAllowed:!0,payPalAllowed:!1,rememberCreditCardOptional:!1,hideUnselectable:!1,didSelectNewCreditCard:function(a,b,c){this.submitData.bind(this)({token:a,paymentProvider:b,rememberCreditCard:c})}.bind(this),didSelectExistingCreditCard:function(a){this.submitData.bind(this)({creditCard:a})}.bind(this),didStartLoading:function(){this.processing(!0)}.bind(this),didEndLoading:function(){g.hasUnselectableExistingCreditCards()&&this.errorMessage("The previously stored credit card can be used, but you have to add it again."),this.processing(!1)}.bind(this)});this.paymentFormController=g,this.vatCharge=function(){return nfx.services.commerceService.getVatCharge(this.billingDetailsCtrl.addressCountry(),!!$.trim(this.billingDetailsCtrl.vatNumber()))}.bind(this),this.campaignIdentifier=m.prop(a?a.campaignIdentifier:null),this.campaignDiscountAmount=function(){return"payg-30"==this.campaignIdentifier()&&this.userCommerceStatistics()?this.userCommerceStatistics().assetSpendingLast30Days():0}.bind(this),this.campaignDiscountDescription=function(){return"Discount"}.bind(this),this.confirmSubscription=function(){this.user()&&!this.processing()&&(this.errorMessage(void 0),this.processing(!0),f.submitForm().then(function(){g.submit()}.bind(this),function(a){m.startComputation(),this.errorMessage(f.errorMessage()),this.processing(!1),m.endComputation()}.bind(this)))},this.submitData=function(a){m.startComputation(),this.processing(!0),m.endComputation(),nfx.app.modalStackController.replaceAllWithLoader("Processing payment...");var b=setTimeout(function(){nfx.app.modalStackController.replaceTopmostWithLoader("This may take a few seconds...")},3e3);Nextfinder.transport.post({url:"/pro/ajax/subscribe",data:{plan_identifier:this.currentPlan().identifier(),billing_interval:this.billingInterval(),discount_code:this.discountCode(),card_id:a.creditCard?a.creditCard.cardId:void 0,payment_token:a.token?a.token:void 0,payment_provider:a.paymentProvider?a.paymentProvider:void 0,campaign:this.campaignIdentifier()||void 0},error:function(a,c){var d="Something went wrong while trying to set up your subscription.";switch(a){case"invalid_credit_card":d="Invalid credit card data. Please check your credit card data below.";break;case"credit_card_declined":d="Your credit card was declined, sorry.";break;case"invalid_data":d="The data you have entered is not valid.";break;case"suspicious_activity":d="Your account has been flagged for suspicious activity. A support staff will review your account shortly. We're sorry about the inconvenience.";break;case"invalid_discount_code":d="The promotional code your entered is not valid.";break;case"plan_not_applicable":d="The plan you've chosen is not available."}m.startComputation(),this.errorMessage(d),this.processing(!1),m.endComputation(),clearInterval(b),nfx.app.modalStackController.dismissAll()}.bind(this),success:function(a){var c=new nfx.models.ProSubscription(a.proSubscription),d=new nfx.models.Transaction(a.transaction),e=this.currentPlan().identifier();Nextfinder.tracking.trackEvent("Commerce","Subscribe","Pro",1.75*d.amountPayment()),Nextfinder.tracking.trackTransaction(d.transactionId(),"Iconfinder",d.amountPayment(),0,e,e,"Pro: Subscription","N/A","N/A","N/A"),clearInterval(b),nfx.app.modalStackController.replaceTopmost(new nfx.modules.SubscriptionCreatedModalModule({proSubscription:c,transaction:d,discount:this.discount()}))}.bind(this)})},this.validateDiscountCode=function(a){a&&a.preventDefault(),this.discountCodeLoading(!0),this.processing(!0),Nextfinder.transport.get({url:"/pro/ajax/discount-code",data:{code:this.discountCode()},error:function(a,c){m.startComputation(),this.discount(void 0),this.discountCodeLoading(!1),b(),this.processing(!1),m.endComputation()}.bind(this),success:function(a){m.startComputation(),this.discount(new nfx.models.SubscriptionDiscountCode(a)),this.discountCodeError("Valid code"),this.discountCodeLoading(!1),b(),this.processing(!1),m.endComputation()}.bind(this)})},b()},nfx.controllers.PrivateMessageModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Contact user"),b.actionLabel("Send message"),b.actionable=m.prop(!0),b.errorMessage=m.prop(),b.message=nfx.mext.validatedProp("",{required:!0,minlength:2,errorMessages:{required:"Please write a message to send."},clean:$.trim}),b.action=function(){b.message.validate()&&(b.processing(!0),Nextfinder.transport.get({url:"/account/messages/send",data:{to_user_id:a.toUserId,text:b.message.clean()},error:function(a,c){m.startComputation(),b.processing(!1),b.errorMessage("There was an error sending your message."),m.endComputation()}.bind(b),success:function(a){m.startComputation(),b.dismiss(),m.endComputation(),$.pnotify({pnotify_notice_icon:"",pnotify_history:!1,pnotify_text:"Your message has successfully been sent."})}.bind(b)}))},b},nfx.controllers.PerformanceInspectorController=function(a){for(var b=[],c=0,d=0,e=0,f=0,g=0;g<a.queries.length;++g){var h=a.queries[g];b.push({resource:"Database",startTime:h.start_time,duration:h.duration,result:null,operation:h.sql}),f+=h.duration}for(var g=0;g<a.cacheAccess.length;++g){var i=a.cacheAccess[g];b.push({resource:"Cache",startTime:i.start_time,duration:i.duration,result:i.total?i.hits+"/"+i.total:null,operation:i.description}),i.total&&(c+=i.total),i.hits&&(d+=i.hits),e+=h.duration}b.sort(function(a,b){return a.startTime-b.startTime});for(var j=0,g=0;g<b.length;++g){var k=b[g].startTime+b[g].duration;k>j&&(j=k)}this.cacheAccessTotal=m.prop(c),this.cacheAccessHits=m.prop(d),this.cacheAccessDuration=m.prop(e),this.queriesTotal=m.prop(a.queries.length),this.queriesDuration=m.prop(f),this.operations=m.prop(b),this.operationLastEnds=m.prop(j)},nfx.controllers.NewsletterEditController=function(a){this.newsletter=new nfx.models.Newsletter({newsletterId:a.newsletter.newsletterId,subject:a.newsletter.subject,parts:a.newsletter.parts.map(function(a){return new{line:nfx.models.SimpleNewsletterPart,text:nfx.models.SimpleNewsletterPart,color:nfx.models.SimpleNewsletterPart,article_list:nfx.models.ArticleListNewsletterPart,iconset_list:nfx.models.IconSetListNewsletterPart,image:nfx.models.ImageNewsletterPart}[a.type](a)})}),this.latestExternalArticles=m.prop(a.latestExternalArticles?a.latestExternalArticles.map(function(a){return new nfx.models.ExternalArticle(a)}):[]),this.latestPromotedIconSets=m.prop(a.latestPromotedIconSets?a.latestPromotedIconSets.map(function(a){return new nfx.models.IconSetListNewsletterPartIconSet(a)}):[]),this._save=function(a){var b={subject:this.newsletter.subject(),data:{}};this.newsletter.parts().forEach(function(a){b.data[a.identifier()]=a.data()}),Nextfinder.transport.post({url:"/admin/newsletters/"+this.newsletter.newsletterId(),data:JSON.stringify(b),contentType:"application/json; charset=utf-8",success:function(b){a?a():nfx.app.modalStackController.dismissAll()},error:function(a,b){nfx.app.modalStackController.replaceTopmostWithError("Couldn't save newsletter",b&&b.message?b.message:"Error code: "+a)}}),nfx.app.modalStackController.presentLoader("Saving...")},this.save=function(a){a.preventDefault(),this._save()},this.saveAndSendPreview=function(a){a.preventDefault(),this._save(function(){nfx.app.modalStackController.dismissAll();var a=prompt("Recipient e-mail addresses (comma separated)");if(a){var b=[];a.split(",").forEach(function(a){(a=$.trim(a))&&b.push(a)}),b&&(Nextfinder.transport.post({url:"/admin/newsletters/"+this.newsletter.newsletterId()+"/send-preview",data:JSON.stringify({emails:b}),contentType:"application/json; charset=utf-8",success:function(a){nfx.app.modalStackController.dismissAll()},error:function(a,b){nfx.app.modalStackController.replaceTopmostWithError("Couldn't send newsletter preview",b&&b.message?b.message:"Error code: "+a)}}),nfx.app.modalStackController.presentLoader("Sending..."))}}.bind(this))},this.saveAndSend=function(a){a.preventDefault(),this._save(function(){nfx.app.modalStackController.dismissAll();var a=prompt('You\'re about to send an e-mail newsletter to a lot of people. Please enter "I understand" to confirm this.');a&&"i understand"==a.toLowerCase()&&(Nextfinder.transport.post({url:"/admin/newsletters/"+this.newsletter.newsletterId()+"/send",success:function(a){location.reload()},error:function(a,b){nfx.app.modalStackController.replaceTopmostWithError("Couldn't send newsletter",b&&b.message?b.message:"Error code: "+a)}}),nfx.app.modalStackController.presentLoader("Sending..."))}.bind(this))},this.uploadImage=function(a,b){nfx.services.staticAssetService.upload(b).then(function(b){m.startComputation(),a.asset(b),m.endComputation()},function(a){nfx.app.modalStackController.replaceTopmostWithError("Couldn't upload file",a.message)})},this.uploadArticleThumbnail=function(a,b){nfx.services.staticAssetService.upload(b).then(function(b){m.startComputation(),a.thumbnail(b),m.endComputation()},function(a){nfx.app.modalStackController.replaceTopmostWithError("Couldn't upload file",a.message)})}},nfx.controllers.MailingListSubscribeModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Subscribe to the Iconfinder mailing list"),b.dismissLabel("Cancel"),b.actionLabel("Subscribe"),b.actionable(!0),b.dismissable(!1!==a.dismissable),b.isSubscribed=m.prop(!1),b.errorMessage=m.prop(void 0),b.email=nfx.mext.validatedProp("",{required:!0,minlength:5,maxlength:128,clean:$.trim,errorMessages:{required:"We need to know where to send the newsletter."}}),b.firstName=nfx.mext.validatedProp("",{required:!0,minlength:2,maxlength:128,clean:$.trim,errorMessages:{required:"What's your first name?"}}),b.lastName=nfx.mext.validatedProp("",{required:!0,minlength:2,maxlength:128,clean:$.trim,errorMessages:{required:"What's your last name?"}}),b.action=function(c){if(c&&c.preventDefault(),this.isSubscribed())return void(!1!==a.dismissable?nfx.app.modalStackController.dismissAll():location.href="/");var d=this.firstName.validate();if(this.lastName.validate()||(d=!1),this.email.validate()||(d=!1),d){this.processing(!0),this.errorMessage(void 0);var e={first_name:this.firstName,last_name:this.lastName,email:this.email},f={};for(var g in e){var h=e[g]();h&&(f[g]=h)}b.trackAction("Subscribe"),Nextfinder.transport.post({url:"/mailing-lists/ajax/"+a.mailingListId+"/subscribe",data:f,error:function(a,b){if(m.startComputation(),"invalid_data"==a){this.errorMessage("Oops! Please correct the errors below.");for(var c in b.errors)e[c].error(b.errors[c][0])}else this.errorMessage(b.message);this.processing(!1),m.endComputation()}.bind(this),success:function(a){m.startComputation(),Nextfinder.tracking.trackEvent("Mailing lists","Subscribe","Successful"),this.processing(!1),this.isSubscribed(!0),this.dismissable(!1),this.actionLabel("Awesome!"),m.endComputation()}.bind(this)})}},b},nfx.controllers.RequestPaymentModalController=function(a){var b=new nfx.controllers.ModalController;return b.title("Request Payment"),b.requestPayment=function(){var a=$("#requestPaymentModal form");a.validate({errorElement:"div",errorClass:"text-error",focusInvalid:!1,highlight:function(a){$(a).parents(".control-group").addClass("error")},unhighlight:function(a){$(a).parents(".control-group").removeClass("error")},errorPlacement:function(a,b){a.appendTo(b.parents(".controls"))}}),a.valid()&&(this.processing(!0),$(".reply-form textarea").rules("remove"),a.serializeArray().map(function(a){$("<input />",a).attr("type","hidden").appendTo("form.reply-form")}),$("form.reply-form").submit())},b},nfx.viewHelpers.countrySelect=function(a,b){return m("select",{name:a,id:"id_"+a,value:b(),onchange:m.withAttr("value",b)},[m("option",{value:"US"},"United States of America"),m("option",{value:"AF"},"Afghanistan"),m("option",{value:"AX"},"land Islands"),m("option",{value:"AL"},"Albania"),m("option",{value:"DZ"},"Algeria"),m("option",{value:"AS"},"American Samoa"),m("option",{value:"AD"},"Andorra"),m("option",{value:"AO"},"Angola"),m("option",{value:"AI"},"Anguilla"),m("option",{value:"AQ"},"Antarctica"),m("option",{value:"AG"},"Antigua and Barbuda"),m("option",{value:"AR"},"Argentina"),m("option",{value:"AM"},"Armenia"),m("option",{value:"AW"},"Aruba"),m("option",{value:"AU"},"Australia"),m("option",{value:"AT"},"Austria"),m("option",{value:"AZ"},"Azerbaijan"),m("option",{value:"BS"},"Bahamas"),m("option",{value:"BH"},"Bahrain"),m("option",{value:"BD"},"Bangladesh"),m("option",{value:"BB"},"Barbados"),m("option",{value:"BY"},"Belarus"),m("option",{value:"BE"},"Belgium"),m("option",{value:"BZ"},"Belize"),m("option",{value:"BJ"},"Benin"),m("option",{value:"BM"},"Bermuda"),m("option",{value:"BT"},"Bhutan"),m("option",{value:"BO"},"Bolivia, Plurinational State of"),m("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),m("option",{value:"BA"},"Bosnia and Herzegovina"),m("option",{value:"BW"},"Botswana"),m("option",{value:"BV"},"Bouvet Island"),m("option",{value:"BR"},"Brazil"),m("option",{value:"IO"},"British Indian Ocean Territory"),m("option",{value:"BN"},"Brunei Darussalam"),m("option",{value:"BG"},"Bulgaria"),m("option",{value:"BF"},"Burkina Faso"),m("option",{value:"BI"},"Burundi"),m("option",{value:"KH"},"Cambodia"),m("option",{value:"CM"},"Cameroon"),m("option",{value:"CA"},"Canada"),m("option",{value:"CV"},"Cape Verde"),m("option",{value:"KY"},"Cayman Islands"),m("option",{value:"CF"},"Central African Republic"),m("option",{value:"TD"},"Chad"),m("option",{value:"CL"},"Chile"),m("option",{value:"CN"},"China"),m("option",{value:"CX"},"Christmas Island"),m("option",{value:"CC"},"Cocos (Keeling) Islands"),m("option",{value:"CO"},"Colombia"),m("option",{value:"KM"},"Comoros"),m("option",{value:"CG"},"Congo"),m("option",{value:"CD"},"Congo, the Democratic Republic of the"),m("option",{value:"CK"},"Cook Islands"),m("option",{value:"CR"},"Costa Rica"),m("option",{value:"CI"},"Cte d'Ivoire"),m("option",{value:"HR"},"Croatia"),m("option",{value:"CU"},"Cuba"),m("option",{value:"CW"},"Curaao"),m("option",{value:"CY"},"Cyprus"),m("option",{value:"CZ"},"Czech Republic"),m("option",{value:"DK"},"Denmark"),m("option",{value:"DJ"},"Djibouti"),m("option",{value:"DM"},"Dominica"),m("option",{value:"DO"},"Dominican Republic"),m("option",{value:"EC"},"Ecuador"),m("option",{value:"EG"},"Egypt"),m("option",{value:"SV"},"El Salvador"),m("option",{value:"GQ"},"Equatorial Guinea"),m("option",{value:"ER"},"Eritrea"),m("option",{value:"EE"},"Estonia"),m("option",{value:"ET"},"Ethiopia"),m("option",{value:"FK"},"Falkland Islands (Malvinas)"),m("option",{value:"FO"},"Faroe Islands"),m("option",{value:"FJ"},"Fiji"),m("option",{value:"FI"},"Finland"),m("option",{value:"FR"},"France"),m("option",{value:"GF"},"French Guiana"),m("option",{value:"PF"},"French Polynesia"),m("option",{value:"TF"},"French Southern Territories"),m("option",{value:"GA"},"Gabon"),m("option",{value:"GM"},"Gambia"),m("option",{value:"GE"},"Georgia"),m("option",{value:"DE"},"Germany"),m("option",{value:"GH"},"Ghana"),m("option",{value:"GI"},"Gibraltar"),m("option",{value:"GB"},"Great Britain"),m("option",{value:"GR"},"Greece"),m("option",{value:"GL"},"Greenland"),m("option",{value:"GD"},"Grenada"),m("option",{value:"GP"},"Guadeloupe"),m("option",{value:"GU"},"Guam"),m("option",{value:"GT"},"Guatemala"),m("option",{value:"GG"},"Guernsey"),m("option",{value:"GN"},"Guinea"),m("option",{value:"GW"},"Guinea-Bissau"),m("option",{value:"GY"},"Guyana"),m("option",{value:"HT"},"Haiti"),m("option",{value:"HM"},"Heard Island and McDonald Islands"),m("option",{value:"VA"},"Holy See (Vatican City State)"),m("option",{value:"HN"},"Honduras"),m("option",{value:"HK"},"Hong Kong"),m("option",{value:"HU"},"Hungary"),m("option",{value:"IS"},"Iceland"),m("option",{value:"IN"},"India"),m("option",{value:"ID"},"Indonesia"),m("option",{value:"IR"},"Iran, Islamic Republic of"),m("option",{value:"IQ"},"Iraq"),m("option",{value:"IE"},"Ireland"),m("option",{value:"IM"},"Isle of Man"),m("option",{value:"IL"},"Israel"),m("option",{value:"IT"},"Italy"),m("option",{value:"JM"},"Jamaica"),m("option",{value:"JP"},"Japan"),m("option",{value:"JE"},"Jersey"),m("option",{value:"JO"},"Jordan"),m("option",{value:"KZ"},"Kazakhstan"),m("option",{value:"KE"},"Kenya"),m("option",{value:"KI"},"Kiribati"),m("option",{value:"KP"},"Korea, Democratic People's Republic of"),m("option",{value:"KR"},"Korea, Republic of"),m("option",{value:"KW"},"Kuwait"),m("option",{value:"KG"},"Kyrgyzstan"),m("option",{value:"LA"},"Lao People's Democratic Republic"),m("option",{value:"LV"},"Latvia"),m("option",{value:"LB"},"Lebanon"),m("option",{value:"LS"},"Lesotho"),m("option",{value:"LR"},"Liberia"),m("option",{value:"LY"},"Libya"),m("option",{value:"LI"},"Liechtenstein"),m("option",{value:"LT"},"Lithuania"),m("option",{value:"LU"},"Luxembourg"),m("option",{value:"MO"},"Macao"),m("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),m("option",{value:"MG"},"Madagascar"),m("option",{value:"MW"},"Malawi"),m("option",{value:"MY"},"Malaysia"),m("option",{value:"MV"},"Maldives"),m("option",{value:"ML"},"Mali"),m("option",{value:"MT"},"Malta"),m("option",{value:"MH"},"Marshall Islands"),m("option",{value:"MQ"},"Martinique"),m("option",{value:"MR"},"Mauritania"),m("option",{value:"MU"},"Mauritius"),m("option",{value:"YT"},"Mayotte"),m("option",{value:"MX"},"Mexico"),m("option",{value:"FM"},"Micronesia, Federated States of"),m("option",{value:"MD"},"Moldova, Republic of"),m("option",{value:"MC"},"Monaco"),m("option",{value:"MN"},"Mongolia"),m("option",{value:"ME"},"Montenegro"),m("option",{value:"MS"},"Montserrat"),m("option",{value:"MA"},"Morocco"),m("option",{value:"MZ"},"Mozambique"),m("option",{value:"MM"},"Myanmar"),m("option",{value:"NA"},"Namibia"),m("option",{value:"NR"},"Nauru"),m("option",{value:"NP"},"Nepal"),m("option",{value:"NL"},"Netherlands"),m("option",{value:"NC"},"New Caledonia"),m("option",{value:"NZ"},"New Zealand"),m("option",{value:"NI"},"Nicaragua"),m("option",{value:"NE"},"Niger"),m("option",{value:"NG"},"Nigeria"),m("option",{value:"NU"},"Niue"),m("option",{value:"NF"},"Norfolk Island"),m("option",{value:"MP"},"Northern Mariana Islands"),m("option",{value:"NO"},"Norway"),m("option",{value:"OM"},"Oman"),m("option",{value:"PK"},"Pakistan"),m("option",{value:"PW"},"Palau"),m("option",{value:"PS"},"Palestine, State of"),m("option",{value:"PA"},"Panama"),m("option",{value:"PG"},"Papua New Guinea"),m("option",{value:"PY"},"Paraguay"),m("option",{value:"PE"},"Peru"),m("option",{value:"PH"},"Philippines"),m("option",{value:"PN"},"Pitcairn"),m("option",{value:"PL"},"Poland"),m("option",{value:"PT"},"Portugal"),m("option",{value:"PR"},"Puerto Rico"),m("option",{value:"QA"},"Qatar"),m("option",{value:"RE"},"Runion"),m("option",{value:"RO"},"Romania"),m("option",{value:"RU"},"Russian Federation"),m("option",{value:"RW"},"Rwanda"),m("option",{value:"BL"},"Saint Barthlemy"),m("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),m("option",{value:"KN"},"Saint Kitts and Nevis"),m("option",{value:"LC"},"Saint Lucia"),m("option",{value:"MF"},"Saint Martin (French part)"),m("option",{value:"PM"},"Saint Pierre and Miquelon"),m("option",{value:"VC"},"Saint Vincent and the Grenadines"),m("option",{value:"WS"},"Samoa"),m("option",{value:"SM"},"San Marino"),m("option",{value:"ST"},"Sao Tome and Principe"),m("option",{value:"SA"},"Saudi Arabia"),m("option",{value:"SN"},"Senegal"),m("option",{value:"RS"},"Serbia"),m("option",{value:"SC"},"Seychelles"),m("option",{value:"SL"},"Sierra Leone"),m("option",{value:"SG"},"Singapore"),m("option",{value:"SX"},"Sint Maarten (Dutch part)"),m("option",{value:"SK"},"Slovakia"),m("option",{value:"SI"},"Slovenia"),m("option",{value:"SB"},"Solomon Islands"),m("option",{value:"SO"},"Somalia"),m("option",{value:"ZA"},"South Africa"),m("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),m("option",{value:"SS"},"South Sudan"),m("option",{value:"ES"},"Spain"),m("option",{value:"LK"},"Sri Lanka"),m("option",{value:"SD"},"Sudan"),m("option",{value:"SR"},"Suriname"),m("option",{value:"SJ"},"Svalbard and Jan Mayen"),m("option",{value:"SZ"},"Swaziland"),m("option",{value:"SE"},"Sweden"),m("option",{value:"CH"},"Switzerland"),m("option",{value:"SY"},"Syrian Arab Republic"),m("option",{value:"TW"},"Taiwan, Province of China"),m("option",{value:"TJ"},"Tajikistan"),m("option",{value:"TZ"},"Tanzania, United Republic of"),m("option",{value:"TH"},"Thailand"),m("option",{value:"TL"},"Timor-Leste"),m("option",{value:"TG"},"Togo"),m("option",{value:"TK"},"Tokelau"),m("option",{value:"TO"},"Tonga"),m("option",{value:"TT"},"Trinidad and Tobago"),m("option",{value:"TN"},"Tunisia"),m("option",{value:"TR"},"Turkey"),m("option",{value:"TM"},"Turkmenistan"),m("option",{value:"TC"},"Turks and Caicos Islands"),m("option",{value:"TV"},"Tuvalu"),m("option",{value:"UG"},"Uganda"),m("option",{value:"UA"},"Ukraine"),m("option",{value:"AE"},"United Arab Emirates"),m("option",{value:"GB"},"United Kingdom"),m("option",{value:"UM"},"United States Minor Outlying Islands"),m("option",{value:"US"},"United States of America"),m("option",{value:"UY"},"Uruguay"),m("option",{value:"UZ"},"Uzbekistan"),m("option",{value:"VU"},"Vanuatu"),m("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),m("option",{value:"VN"},"Viet Nam"),m("option",{value:"VG"},"Virgin Islands, British"),m("option",{value:"VI"},"Virgin Islands, U.S."),m("option",{value:"WF"},"Wallis and Futuna"),m("option",{value:"EH"},"Western Sahara"),m("option",{value:"YE"},"Yemen"),m("option",{value:"ZM"},"Zambia"),m("option",{value:"ZW"},"Zimbabwe")])},nfx.viewHelpers.gravatarImg=function(a,b,c,d){d||(d=window.location.protocol+"//"+window.location.hostname+"/static/img/default-avatar-user.png");var e=a?"https://secure.gravatar.com/avatar/"+a+"?d="+escape(d)+"&s="+b:d;return m("img",{class:c||"",width:b,height:b,src:e})},nfx.viewHelpers.license=function(a,b){var c=a.link();if(!c)return a.name();var d={href:c,title:a.name()};return b&&(d.target="_blank"),m("a",d,a.name())},nfx.viewHelpers.pluralize=function(a,b){return a+" "+b+(1==a?"":"s")},nfx.viewHelpers.verbalJoin=function(a){for(var b=[],c=0;c<a.length;c++)c>0&&b.push(c==a.length-1?" and ":", "),b.push(a[c]);return b},nfx.viewHelpers.billingIntervalSubject=function(a){return"monthly"==a?"month":"annual"==a?"year":void 0},nfx.viewHelpers.billingIntervalAdverb=function(a){return"monthly"==a?"monthly":"annual"==a?"annually":void 0},nfx.viewHelpers.describeVatCharge=function(a,b){var c;return a.action()==nfx.models.VatChargeAction.charge?c="Including "+a.rate()+" % "+a.countryCode()+" VAT":a.action()==nfx.models.VatChargeAction.reverseCharge?c="Including 0 % VAT (reverse charge)":a.action()==nfx.models.VatChargeAction.noCharge&&(c="Including 0 % VAT"),{amount:a.calculateContainedVatAmount(b),label:c}},nfx.views.ModalView=function(a){var b=function(c){return m("div.modal"+(c.processing()?".loading":""),{tabindex:"-1",role:"dialog",id:a.id?a.id(c):void 0},(c.processing()?[m("div.spinner"," ")]:[]).concat([m("div.modal-header",(c.dismissable()?[m("button.close",{
onclick:c.dismiss.bind(c),disabled:c.processing()},"")]:[]).concat([m("h1",c.title())])),m("div.modal-body",a.body?a.body.bind(b)(c):[]),m("div.modal-footer",a.footer?a.footer.bind(b)(c):b.defaultFooter(c))]))};return b.defaultFooter=function(a){return[m("button.btn.btn-large.btn-primary",{disabled:!a.actionable()||a.processing(),onclick:a.action.bind(a)},a.actionLabel())].concat(a.dismissable()?[m("button.btn.btn-large",{onclick:a.dismiss.bind(a),disabled:a.processing()},a.dismissLabel())]:[])},b},nfx.views.ValidatedInputFieldView=function(a){var b=m("input",{id:"id_"+a.name,name:a.name,type:a.type||"text",placeholder:a.placeholder,value:a.value(),oninput:m.withAttr("value",a.value),class:nfx.mext.classMap(a.class,{error:a.value.error&&a.value.error()})});return a.value.error&&a.value.error()?[b,m("label",{for:"id_"+a.name,class:"error",style:"display: block"},a.value.error())]:b},nfx.views.IconInputView=function(a){return[m("p",{class:a.icon?"input-icon":""},[a.icon?m("span.icon-if.icon-if-"+a.icon):"",m("span",a.input)])]},nfx.views.connectWithFacebook=function(a){return[m("p",m("button.btn.btn-block.facebook-btn",{onclick:a.connectWithFacebook.bind(a)},[m("i.icon-if.icon-if-facebook"," ")," Connect with Facebook"])),m("div.orbullet","OR"),m("div.orbullet-divider")]},nfx.views.FormErrorMessageView=function(a){return m("div.error-container",{class:nfx.mext.classMap({visible:!!a()})},a()?[m("div.alert",a())]:[])},nfx.views.AccountDashboardOrganizationView=function(a){function b(a,b){var c=[m("img",{width:45,height:45,src:a})];return b&&c.push(m("div.icon-team-status."+b)),m("li",[m("div.gravatar",c)])}function c(b){return m("div.user-management-wrapper.invitation",[m("ul",[m("li",[m("div.gravatar",[nfx.viewHelpers.gravatarImg(b.emailMd5Hash(),45)]),m("div.icon-team-status.pending")]),m("li",[m("p",b.email())," ",m("p","Invited - awaiting response")])])].concat(e?[m("div.member-action",[m("a.resend-invite",{href:"javascript:void(0)",onclick:a.resendInvite.bind(a,b)},"Resend invite"),m("div.icon-remove",{onclick:a.deleteInvite.bind(a,b)})])]:[]))}function d(b){return m("div.user-management-wrapper",[m("ul",[m("li",[m("div.gravatar",[nfx.viewHelpers.gravatarImg(b.user().emailMd5Hash(),45)]),m("div.icon-team-status.accepted")]),m("li",[m("p",b.user().fullName()),m("p",b.user().email())])])].concat(e?[m("div.member-action","owner"==b.level()?"Owner":m("div.icon-remove",{onclick:a.removeMember.bind(a,b.user())}))]:[]))}var e="owner"==a.organizationMembership().level(),f=null!==a.organization().proSubscription(),g=f?a.organization().proSubscription().effectivePlan():null,h=f?a.organization().proSubscription().plan():null;return(a.loading()?[m("div.spinner")]:[]).concat([m("div",{class:nfx.mext.classMap("account-details-bar-wrapper",g?"plan-"+g.identifier():void 0)},[m('div[class="account-details-header"]',[m("h2",[m("a",{href:"/account/plan","data-toggle":"tooltip","data-original-title":"Rename organization name"},a.organization().name())]),m('p[class="account-company-name"]',[m("b",e?"Owner":"Member")])]),m("div.account-details-bar",[f?[function(){if(!g.isPerceptuallyUnlimited()){var b=a.organization().proSubscription().downloadsThisMonth();return[m("div.progress.account-white",[m("div.bar",{style:{width:(b>=g.proDownloadsPerMonthMax()?"100":parseInt(Math.floor(b/g.proDownloadsPerMonthMax()*100),10))+"%"}})]),m("p","Downloads this month:"),m("p.right",[b," / ",g.proDownloadsPerMonthMax()])]}}(),function(){return a.organization().proSubscription().isCancelled()?[m("p","Plan (cancelled - expires "+a.organization().proSubscription().dateExpires()+"):"),m("p.right",g.name())]:g.identifier()==h.identifier()?[m("p","Plan (renews "+a.organization().proSubscription().dateRenews()+"):"),m("p.right",g.name())]:[m("p","Plan:"),m("p.right",g.name()),m("p","Downgraded to plan (from "+a.organization().proSubscription().dateRenews()+"):"),m("p.right",h.name())]}()]:[],e?[m("a.btn.btn-small",{href:"/account/transactions"},"Transactions")," ",f?m("a.btn.btn-small",{href:"/account/plan"},"Change plan"):m("a.btn.btn-small",{href:"/pro"},"Upgrade to subscription")]:[m("a.btn.btn-small",{href:"javascript:void(0)",onclick:a.leave.bind(a)},"Leave team")]]),m('section[class="manage-team"]',[m('div[class="user-management-wrapper header"]',[m("h3",e?"Manage team":"Team"),m("div.user-amount",f&&h.proMembersMax()?"("+a.organization().membersCount()+"/"+h.proMembersMax()+" members)":"("+a.organization().membersCount()+" member"+(1==a.organization().membersCount()?")":"s)"))]),function(){return a.organization().canAddMember()?m("div.user-management-wrapper.add-team-member",{onclick:a.inviteMembers},[m("ul.invite-users",[b("/static/img/plus-gray-24.png"),m("li",[m("p",[m("a.invite-users",{href:"javascript:void(0)"},"Add new team members")])])])]):m("div.user-management-wrapper.upgrade-to-add-team-member",[m("ul.invite-users",[b("/static/img/plus-gray-24.png"),m("li",[m("p",[m("a",{href:"/account/plan"},"Upgrade to add more team members")])])])])}(),a.organization().memberships().map(function(a){return d(a)}),a.organization().invites().map(function(a){return c(a)})])])])},nfx.views.AccountSubscriptionPlanView=function(a){var b=a.organization().proSubscription(),c=b.plan(),d=a.selectedPlan(),e=function(b){var c=b.proMembersMax()||a.organization().membersCount();return c>1?nfx.viewHelpers.pluralize(c-1,"additional team member"):"No additional team members"},f=function(a){return a.isPerceptuallyUnlimited()?"Unlimited downloads":a.proDownloadsPerMonthMax()+" downloads per month"},g=function(c){var e=a.organization().membersCount(),f=!b.isCancelled()&&c.isAvailable(a.organization()),g=c.identifier()==d.identifier(),h=f?a.selectPlan.bind(a,c):void 0,i="annual"==a.billingInterval()?c.priceAnnual():c.priceMonthly(),j="annual"==a.billingInterval()?"year":"month",k="annual"==a.billingInterval()?c.attributes().price_annual_per_additional_member:c.attributes().price_monthly_per_additional_member;return m("table.table.table-bordered.plans.plan-box.plan-"+c.identifier(),{onclick:h},[m("tbody",[m("tr",[f?m("td",m("input",{type:"radio",checked:g})):m("td"),m("td",[m("h3","Iconfinder Pro "+c.name()),m("p",{starter:"1 seat. 25 downloads per month.",unlimited:"You will not be limited to 25 downloads per month."}[c.identifier()])]),m("td",m("h3",["$ "+Nextfinder.formatting.formatMoney(i),m("span.price-interval","/"+j)]))]),c.proMembersMax()?"":m("tr",[m("td"),m("td",[m("h4","Additional team members"),m("p",["With the Unlimited subscription you can add additional team members at $"+Nextfinder.formatting.formatMoney(k)+" per "+j+" per seat. You have "+(1==e?"no team members":2==e?"1 team member":e.toString()+" team members")+". ",m("a",{href:"/account/"},1==e?"Invite your team from the dashboard":"Add more from the dashboard"),"."])]),e>1?m("td",m("h4",[m("span.price-calculation",m.trust((e-1).toString()+" &times; $"+Nextfinder.formatting.formatMoney(k)+" = ")),"$"+Nextfinder.formatting.formatMoney(k*(e-1)),m("span.price-interval","/"+j)])):m("td")])])])};return[m("div.span8",[m("section",[m("h1","Your Iconfinder Pro subscription")]),function(b){return d.identifier().indexOf("api-plan")>-1?m("section.plan-list",[m("p",["You are on a Pro API plan. You can find the details on the right hand side of this page. For upgrading and downgrading your subscription plan, please contact us at ",m("a",{href:"mailto:support@iconfinder.com"},"support@iconfinder.com")])]):m("section.plan-list",[m("p","You can easily change your Pro subscription at any time."),a.pricingPlans().map(b)])}(g),m("section.plan-billing",[m("form",[m("label",[m("input",{type:"checkbox",checked:"annual"==a.billingInterval(),onchange:m.withAttr("checked",function(b){a.selectBillingInterval.bind(a)(b?"annual":"monthly")})}),m("span",[m("b"," Annual billing")," - Choose annual billing and get 2 months free"])]),m("div",[m("span","SAVE"),m("span","16%")])])]),m("section.plan-name",[m("form.horizontal-form",[m("label","Name of team: "),m("span",[m("input",{name:"organization-name",type:"text",value:a.name(),onchange:m.withAttr("value",a.name)})," ",m("input",{type:"submit",value:"Update name",class:"btn",onclick:a.changeName.bind(a),disabled:!a.canSetName()})])])])]),m("div.span4",[m("section.plan-status",d.identifier()==c.identifier()&&a.billingInterval()==b.billingInterval()?function(){return[m("h2",b.isCancelled()?"Subscription cancelled":"Your current Pro subscription"),m("h3",c.name()),m("p",e(c)),m("p",f(c)),m("p","Billed "+("annual"==b.billingInterval()?"annually":"monthly"))].concat(b.isCancelled()?[m("table.table.price-table",[m("tr",[m("td","Expires"),m("td",b.dateExpires())])]),m("a.btn.btn-medium",{href:"javascript:void(0)",onclick:a.reopenSubscription.bind(a)},"Reopen subscription")]:[m("table.table.price-table",[m("tr",[m("td","Next payment"),m("td",b.dateRenews())]),m("tr",[m("td","Billed "+("monthly"==b.billingInterval()?"monthly":"annually")),m("td","$ "+c.priceForBillingInterval(b.billingInterval(),a.organization())+".00")])]),m("a.btn.btn-medium",{href:"/account/transactions"},"View transaction history"),m("p.text-centered",m("a",{href:"javascript:void(0)",onclick:a.cancelSubscription.bind(a)},"Cancel subscription")),m("p.extra-change-info","Your cancellation will be effective at the end of this billing cycle.")])}():function(){var g=d.proMembersMax()!=c.proMembersMax()?m("strong",e(d)):e(d),h=d.proDownloadsPerMonthMax()!=c.proDownloadsPerMonthMax()||d.isPerceptuallyUnlimited()!=c.isPerceptuallyUnlimited()?m("strong",f(d)):f(d),i=[],j=0,k=d.priceForBillingInterval("monthly",a.organization())-c.priceForBillingInterval("monthly",a.organization()),l=(d.priceForBillingInterval(b.currentBillingPeriodBillingInterval(),a.organization())-b.currentBillingPeriodPayment())*(b.currentBillingPeriodResidualDays()/b.currentBillingPeriodTotalDays());l>0&&(j=l,i.push({title:"Billed until "+b.dateRenews(),value:l})),"monthly"==a.billingInterval()?i.push({title:"Billed monthly from "+b.dateRenews(),value:d.priceForBillingInterval("monthly",a.organization())}):i.push({title:"Billed annually from "+b.dateRenews(),value:d.priceForBillingInterval("annual",a.organization())}),i.push({title:m("strong","Total billed now"),value:j});var n="Billed "+("annual"==a.billingInterval()?"annually":"monthly");return[m("h2","Selected changes"),m("h3",d.name()),m("p",g),m("p",h),m("p",a.billingInterval()==b.billingInterval()?n:m("strong",n)),m("table.table.price-table",i.map(function(a){return m("tr",[m("td",a.title),m("td","$ "+Nextfinder.formatting.formatMoney(a.value))])})),m("a.btn.btn-primary.btn-large",{href:"javascript:void(0)",onclick:a.changePlan.bind(a)},k<0?"Downgrade now":k>0?"Upgrade now":"Confirm changes")]}()),m("br"),m("section",[m("h2","Invite friends and earn money"),m("p","When your friends sign up to Iconfinder Pro, they will get a 50% discount on their first month. As a reward, you will receive 50% of the price of the plan they choose."),m("p","When friends you have referred deposit cash, they will receive a 25% bonus. You will receive 25% of what they deposit."),m("p",[m("a",{href:"/account/referrals",class:"btn btn-medium",style:"display: block;"},"Invite friends")])])])]},nfx.views.AddCreditCardModalView=nfx.views.ModalView({body:function(a){return m("article",m("form.payment-form-inline#payment-form",{onsubmit:a.action.bind(a)},nfx.views.PaymentFormView(a.paymentFormController)))},id:function(a){return"paymentModal"}}),nfx.views.AssetPurchaseCompletedModalView=nfx.views.ModalView({id:function(a){return"purchaseConfirmationModal"},body:function(a){a.asset();return m("article",m("section",[m("p",["The purchase was successful."]),m("p",["All receipts and transaction information is available in ",m("a",{href:"/account/transactions"},"your transaction history"),"."]),m("label.checkbox",[m("span",m("input",{type:"checkbox",name:"hide_completed_purchase",checked:a.dontShowAgain(),onchange:m.withAttr("checked",a.dontShowAgain)}))," Don't show me this message again."])]))},footer:function(a){return m("button.btn.btn-large",{onclick:a.dismiss.bind(a)},"OK")}}),nfx.views.BiTableQueryResultView=function(a){function b(a){return m("table.table.table-striped",{},[m("thead",[m("tr",a.columns().map(function(a){return m("th",m("tt",a))}))]),m("tbody",a.rows().map(function(a){return m("tr",a.map(function(a){var b=a.toString();return b.match(/^https?:\/\//)&&(a=m("a",{href:b},b)),m("td",m("tt",a))}))}))])}function c(a,b,c){return[a.columns().map(function(a){return c(a)}).join(b)].concat(a.rows().map(function(a){return a.map(function(a){return c(a)}).join(b)}))}function d(a,b,d){var e=c(a,b,d);return m("textarea.raw-data",{readonly:!0,rows:e.length},e.join("\n"))}function e(a){function b(a){return-1!=a.indexOf(" ")||-1!=a.indexOf(",")||-1!=a.indexOf('"')||-1!=a.indexOf("'")?'"'+a.replace('"','""')+'"':a}return d(a,",",b)}function f(a){return d(a,"\t",function(a){return a})}var g=["table","csv","tsv"],h={table:"table",csv:"CSV",tsv:"TSV"},i=h[a.format()],j=a.result();return a.isLoading()?m("h2","Loading..."):j?j.error()?m("section.flow-navigation-top.flow-navigation",[m("h2","Result"),m("div.alert.alert-error",[m("h4","Query failed"),m("pre",j.error())])]):[m("",[m("h2","Result (took "+(1e3*j.executionTime()).toFixed(3).toString()+" ms)"),m("div.btn-group",[m("a.btn.dropdown-toggle",{"data-toggle":"dropdown",href:"javascript:void(0)"},["View as ",m("strong",i),m("span.caret")]),m('ul.dropdown-menu[role="menu"]',g.map(function(b){return b==a.format()?[]:m("li",m("a",{href:"javascript:void(0)",onclick:function(){a.format(b)}},["View as ",m("strong",h[b])]))}))])]),{table:b,csv:e,tsv:f}[a.format()](j)]:[]},nfx.views.BillingDetailsView=function(a){var b=m("article",{style:"width: 50%"},[m("p",m("span",nfx.mext.validatedInput({name:"address_street",placeholder:"Address",value:a.addressStreet}))),m("p",m("span",nfx.mext.validatedInput({name:"address_postal_code",placeholder:"Postal code",value:a.addressPostalCode}))),m("p",m("span",nfx.mext.validatedInput({name:"address_city",placeholder:"City",value:a.addressCity}))),m("p",m("span",nfx.mext.validatedInput({name:"address_state",placeholder:"State/province (if applicable)",value:a.addressState}))),m("p",m("span",nfx.viewHelpers.countrySelect("address_country",a.addressCountry)))]),c=[m("p",m("div.control-group",[m("h2",{style:"margin: 0"},"Account type"),m("div.controls",[m("label.radio",{style:"padding-left: 15px;"},[m("input",{type:"radio",name:"account-type",id:"id_account_type_personal",checked:!a.isBusiness(),onclick:function(){a.isBusiness(!1)}})," Personal"]),m("label.radio",{style:"padding-left: 15px;"},[m("input",{type:"radio",name:"account-type",id:"id_account_type_business",checked:a.isBusiness(),onclick:function(){a.isBusiness(!0)}})," Business"])])]))];return a.isBusiness()&&c.push(m("div.business-input",[m("p",m("span",nfx.mext.validatedInput({name:"company",placeholder:"Company name",value:a.company}))),m("p",m("span",nfx.mext.validatedInput({name:"vat_number",placeholder:"VAT number",value:a.vatNumber}))),m("p.help-text",m("a",{href:"http://support.iconfinder.com/purchasing-and-downloading/why-do-you-need-my-vat-number",target:"_blank"},"Why do you ask for my VAT number?"))])),[nfx.views.FormErrorMessageView(a.errorMessage),m("article",{style:"float: right; width: 46%; padding-right: 0; margin-right: 8px"},c),b]},nfx.views.BillingDetailsModalView=nfx.views.ModalView({body:function(a){return m("section",new nfx.views.BillingDetailsView(a.billingDetailsCtrl))}}),nfx.views.IconfinderProDescriptionModalSubView=function(a,b){var c=a.user(),d=a.proPlanSmallest();return m("article#purchase-pro-content",m("section",[m("p",["With an Iconfinder Pro subscription you will get access to all ",m("b","400,000+ icons")," on Iconfinder. Subscription plans start at ",m("b","$"+d.priceMonthly()+" per month"),", where youll get ",m("b",d.attributes().downloads_per_month_max.toString()+" premium downloads every month"),". For more details, ",m("a",{href:"/pro#pricing",target:"_blank"},"see all the available plans.")]),m("p","If you choose Iconfinder Pro, you will be able upgraded immediately and will be able to download the icon you just intended to purchase"),m("p",c.balance()>0?"Your existing account balance of $"+Nextfinder.formatting.formatMoney(c.balance())+" will be deducted from the the initial and future payments for your subscription plan. Subsequent payments will be charged to your credit card.":"Monthly payments for your Iconfinder Pro subscription will automatically be charged to your credit card."),m("a.pro-upsell-toggle",{href:"javascript:void(0)",onclick:a.toggleProDescription.bind(a)},[m.trust("&larr; "),b])]))},nfx.views.IconfinderProTeaserModalSubView=function(a){var b=a.proPlanSmallest();return m("section.pro-upsell",["For just $"+b.priceMonthly()+" per month you can upgrade to an ",m("b","Iconfinder Pro subscription")," and download "+b.attributes().downloads_per_month_max+" icons every month. ",m("a.pro-upsell-toggle",{href:"/pro",target:"_blank"},"Read more about Iconfinder Pro"),m("span.text-muted"," (opens in a new window)")])},nfx.views.ConfirmAssetPurchaseModalView=nfx.views.ModalView({body:function(a){var b=a.asset(),c=a.offer(),d=(a.user(),a.proPlanSmallest());if(a.showProDescription())return nfx.views.IconfinderProDescriptionModalSubView(a,"Back to your purchase");var e,f,g;if("icon"==b.type){var h=$.map(b.available_as_raster_sizes,function(a){return[a.width,a.height].join("")});"vector"==b.icon_type&&h.unshift("scalable (vector)"),e="purchase-icon-content",f={width:b.display_version.size_width,height:b.display_version.size_height,src:b.display_version.public_raster_url,classname:"icon"},g={Formats:nfx.viewHelpers.verbalJoin(b.available_as),Sizes:nfx.viewHelpers.verbalJoin(h),License:nfx.viewHelpers.license(a.offer().license(),!0)}}else if("iconset"==b.type)e="purchase-iconset-content",f={width:b.preview_images.medium.width,height:b.preview_images.medium.height,src:b.preview_images.medium.url,classname:"iconset"},g={Format:"raster",License:nfx.viewHelpers.license(c.license(),!0),"Number of icons":b.public_icons_count},"vector"==b.iconset_type&&(g.Format="vector (scalable)");else if("custom_service"==b.type&&(d=!1,e="purchase-custom_service-content",g={Designer:c.seller().fullName,Description:b.description,Price:"$"+Nextfinder.formatting.formatMoney(b.price)},c.price()>b.price)){var i={amount:c.price()-b.price};i.percentage=Math.ceil(i.amount/b.price*100),i.key="VAT "+i.percentage+"%",g[i.key]="$"+Nextfinder.formatting.formatMoney(i.amount),g.Total="$"+Nextfinder.formatting.formatMoney(c.price())}var j=$.map(g,function(a,b){return m("p",[m("b",[b,":"])," ",a])});return m("article",{id:e},[m("section",[function(){if(f)return m("div",{class:f.classname},m("img",{style:{width:f.width+"px",height:f.height+"px"},src:f.src}))}(),j,m("div.clearboth")]),d?nfx.views.IconfinderProTeaserModalSubView(a):""])},footer:function(a){var b=a.asset(),c=a.proPlanSmallest(),d="Buy now";return"icon"==b.type?d="Buy icon":"iconset"==b.type?d="Buy icon set":"custom_service"==b.type&&(d="Make prepayment",c=!1),[c?m("button.btn.btn-large.btn",{disabled:a.processing(),onclick:a.confirmPro.bind(a)},["Upgrade to Pro ","$"+c.priceMonthly().toString()+"/mo."]):"",m("button.btn.btn-large.btn-primary",{disabled:a.processing(),onclick:a.confirmPurchase.bind(a)},[d," ","$"+a.offer().price().toFixed(2).toString()]),m("button.btn.btn-large",{onclick:a.dismiss.bind(a),disabled:a.processing()},a.dismissLabel())]}}),nfx.views.DepositCashModalView=nfx.views.ModalView({body:function(a){return m("article",[m("section.amount",m("div",[function(){if(void 0!==a.referral&&null!==a.referral)return m("div.alert.alert-success","You will get "+a.referral.rule.attributes.percentage+"% extra cash on your first deposit thanks to the invitation from "+a.referral.referrer+".")}(),m("div.btn-group.amounts",[m("button",{type:"button",class:nfx.mext.classMap("btn","btn-large",{active:2==a.selectedAmount()}),onclick:a.selectAmount.bind(a,2)},"$ 2"),m("button",{type:"button",class:nfx.mext.classMap("btn","btn-large",{active:5==a.selectedAmount()}),onclick:a.selectAmount.bind(a,5)},"$ 5"),m("button",{type:"button",class:nfx.mext.classMap("btn","btn-large",{active:10==a.selectedAmount()}),onclick:a.selectAmount.bind(a,10)},"$ 10"),m("button",{type:"button",class:nfx.mext.classMap("btn","btn-large",{active:50==a.selectedAmount()}),onclick:a.selectAmount.bind(a,50)},"$ 50"),m("button",{type:"button",class:nfx.mext.classMap("btn","btn-large",{active:null==a.selectedAmount()}),onclick:a.selectAmount.bind(a,null)},"Other")]),null==a.selectedAmount()?m("div.well",{id:"other-amount-well"},[m("input",{type:"number",value:a.customAmount(),id:"customamount",oninput:m.withAttr("value",a.customAmount),class:nfx.mext.classMap({error:!a.customAmountValid()})}),m("label","Please enter amount in USD")]):""])),m("form.payment-form-inline#payment-form",{onsubmit:a.action.bind(a)},nfx.views.PaymentFormView(a.paymentFormController))])},id:function(a){return"paymentModal"}}),nfx.views.DownloadLimitReachedModalView=nfx.views.ModalView({body:function(a){return m("article",m("section.subscription-created-modal",[m("img",{src:"/static/img/limit.svg",width:120,height:120}),a.isPerceptuallyUnlimited()?[m("h1","Wow, you are on fire!"),m("p","You have been downloading a huge amount of icons from your Iconfinder account in the last 30 days. That is great, but it also made us worry about our designers work being scraped for illegal purposes."),m("p","We know it is probably not your case, but please do get in touch with us at support@iconfinder.com to explain your use of the icons.")]:[m("h1","Your team has hit the download limit"),m("h3","Your team's monthly download limit of "+a.downloadLimit()+" icons has been reached. The limit will be reset on "+a.dateResets()+"."),m("p",[m("a",{href:"/account/"},"Upgrade your team's Iconfinder Pro plan")," to raise the download limit and continue downloading icons."])]]))},footer:function(a){return m("button.btn.btn-large",{onclick:a.dismiss.bind(a)},a.dismissLabel())}}),nfx.views.ErrorModalView=nfx.views.ModalView({body:function(a){return m("article",m("section",m("p",a.message())))},footer:function(a){return m("button.btn.btn-large",{onclick:a.dismiss.bind(a)},"OK")}}),nfx.views.InsufficientFundsModalView=nfx.views.ModalView({body:function(a){if("custom_service"==a.asset().type&&(a.proPlanSmallest=function(){return!1}),a.showProDescription())return nfx.views.IconfinderProDescriptionModalSubView(a,"Back");return m("article",[m("section",[m("p",["Your account balance of ",m("b","$ "+Nextfinder.formatting.formatMoney(a.user().balance()))," is not enough to buy this "+function(){return{iconset:"icon set",icon:"icon",custom_service:"service"}[a.asset().type]||"item"}()+"."]),m("p",["You can easily deposit cash to your account. It will only take you a minute and you can get back to designing beautiful stuff."])]),m("div.clearboth"),a.proPlanSmallest()?nfx.views.IconfinderProTeaserModalSubView(a):""])},footer:function(a){var b=a.proPlanSmallest();return[b?m("button.btn.btn-large",{disabled:!a.actionable()||a.processing(),onclick:a.subscribePro.bind(a)},["Upgrade to Iconfinder Pro ","$"+b.priceMonthly().toString()+"/mo."]):"",m("button.btn.btn-large.btn-primary",{disabled:!a.actionable()||a.processing(),onclick:a.depositCash.bind(a)},a.actionLabel()),m("button.btn.btn-large",{onclick:a.dismiss.bind(a),disabled:a.processing()},a.dismissLabel())]}}),nfx.views.InviteMembersModalView=nfx.views.ModalView({body:function(a){var b=null!==a.organization().proSubscription();if(b)var c=a.organization().proSubscription(),d=c.plan(),e=c.billingInterval(),f=a.billedNow(),g=a.billedNext(),h="annual"==e?d.attributes().price_annual_per_additional_member:d.attributes().price_monthly_per_additional_member;return m("article",[m("section",[].concat(a.errorMessage()?[m("p",[m("div.alert.alert-error",a.errorMessage())])]:[]).concat([m("p",[m("div.input-wrapper",[m("label",["Enter email: ",m('input[type="text"].invite-input'+(a.emailsInvalid()?".error":""),{placeholder:"Add people by e-mail address (separate by space or comma)",value:a.emails(),autofocus:"autofocus",oninput:m.withAttr("value",a.emails)})])]),m("p.invite-description","New team members will receive an e-mail with an invitation to join Iconfinder Pro. You will be notified when they have accepted your invite.")]),b?m("div",[m("h3","Changes to subscription"),m("p","Additional team members on your Unlimited plan cost $"+h+" per "+("annual"==c.billingInterval()?"year":"month")+"."),m("table.table.price-table.table-bordered.table-striped",[f?m("tr",[m("td",m("strong","Billed now")),m("td.price-cell","$"+Nextfinder.formatting.formatMoney(f))]):"",m("tr",[m("td","Billed "+("annual"==c.billingInterval()?"annually":"monthly")+" from "+c.dateRenews()),m("td.price-cell","$"+Nextfinder.formatting.formatMoney(g))])])]):""]))])}}),nfx.views.ModalStackLoaderView=function(a){return m("h1.loader",[m("span.spinner",m("img",{src:"/static/img/spinners/spinner-big.gif",width:32,height:32})),a.message()])},nfx.views.PaymentFormView=function(a){var b=a.selectedPaymentMethod();return[a.creditCardAllowed()&&a.payPalAllowed()?m("section#toggle-payment-methods",[m("ul.nav.nav-tabs",[a.creditCardAllowed()?m("li",{class:"new-credit-card"==b||"existing-credit-card"==b?"active":void 0},[m("a#id-choose-creditcard",{href:"javascript:void(0)",onclick:a.selectPaymentMethod.bind(a,"new-credit-card")},[m("i.icon-if.icon-if-creditcard"),"Credit card"])]):"",a.payPalAllowed()?m("li",{class:"paypal"==b?"active":void 0},[m("a#id-choose-paypal",{href:"javascript:void(0)",onclick:a.selectPaymentMethod.bind(a,"paypal")},[m("i.icon-if.icon-if-paypal"),"PayPal"])]):""])]):"",m("div.error-container",{class:nfx.mext.classMap({visible:!!a.errorMessage()})},a.errorMessage()?[m("div.alert",a.errorMessage())]:[]),m("section.new-creditcard",{style:{display:"existing-credit-card"!=b?"block":"none"}},[a.creditCardAllowed()?m("div.payment-method"+("new-credit-card"!=b?".flip":"")+(a.creditCardType()?"."+a.creditCardType():"")+"#creditcard-method",[m("div#accepted-cards-images",["visa","mastercard","americanexpress","diners","jcb","maestro"].map(function(b){return m("div.card-icons6.creditcard-"+b+(a.creditCardType()&&a.creditCardType()!=b?".faded":""))})),m("h3",a.newCreditCardFormTitle()),m("div.number",[m('label[for="payment-number"]',"Card number"),m("input#payment-number",{type:"tel","x-autocompletetype":"cc-number",placeholder:m.trust("   "),"data-encrypted-name":"number",oninput:m.withAttr("value",a.creditCardNumber),value:a.creditCardNumber(),class:nfx.mext.classMap("card-number",{error:a.creditCardNumberInvalid()})})]),m("div.expiry",[m('label[for="payment-expiry-month"]',"Expires (MM/YY)"),m("fieldset",[m("input#payment-expiry-month",{type:"text",placeholder:"MM","x-autocompletetype":"cc-exp-month","data-encrypted-name":"month",minlength:1,maxlength:2,oninput:m.withAttr("value",a.creditCardExpirationMonth),value:a.creditCardExpirationMonth(),class:nfx.mext.classMap("card-expiry-month",{error:a.creditCardExpirationMonthInvalid()})}),m("input.card-expiry-year#payment-expiry-year",{type:"text",placeholder:"YY","x-autocompletetype":"cc-exp-year","data-encrypted-name":"month",minlength:1,maxlength:4,oninput:m.withAttr("value",a.creditCardExpirationYear),value:a.creditCardExpirationYear(),class:nfx.mext.classMap("card-expiry-year",{error:a.creditCardExpirationYearInvalid()})})])]),m("div.name",[m('label[for="payment-name"]',"Name on card"),m("input#payment-name",{type:"text","x-autocompletetype":"cc-name",name:"name_on_card",placeholder:"Name",minlength:1,oninput:m.withAttr("value",a.creditCardHolderName),value:a.creditCardHolderName(),class:nfx.mext.classMap("card-holdername",{error:a.creditCardHolderNameInvalid()})})]),m("div.cvc",[m('label[for="payment-cvc"]',"Card code (CVC)"),m("input#payment-cvc",{type:"text","x-autocompletetype":"cc-csc",placeholder:"CVC","data-encrypted-name":"cvv",minlength:1,maxlength:4,oninput:m.withAttr("value",a.creditCardCvc),value:a.creditCardCvc(),class:nfx.mext.classMap("card-cvc",{error:a.creditCardCvcInvalid()})})]),m("div#remembercard",[m("label",[m("input",{type:"checkbox",onclick:m.withAttr("checked",a.rememberCreditCard),checked:a.rememberCreditCard(),disabled:!a.rememberCreditCardOptional})," Remember this credit card"])])]):"",a.payPalAllowed()?m("div.payment-method"+("paypal"==b?".flip":"")+"#paypal-method",[m("div",[m("p","At this point you will be redirected to the PayPal website."),m("p","You are not required to have a PayPal account to make a payment via PayPal.")])]):""]),"new-credit-card"==b&&a.existingCreditCards().length?m("section#show-existing-creditcards-container",{style:{display:"block"}},[m('button.btn.btn-small[type="button"]',{onclick:a.selectPaymentMethod.bind(a,"existing-credit-card")},"Show existing credit cards")]):"",m("section.existing-creditcards",{style:{display:a.existingCreditCardAllowed()&&"existing-credit-card"==b?"block":"none"}},[m("h3","Existing credit cards"),m("p","Please select the credit card you want to use or add a new credit card."),m("table.table.table-bordered.table-striped#payment-methods",a.existingCreditCards().map(function(b){return m("tr",[m("td.radiobutton",b.isSelectable()?m('input[type="radio"][name="existing-card"]',{checked:b.isSelected(),onclick:a.selectExistingCreditCard.bind(a,b.creditCard())}):[]),m("td.payment-icons.creditcard-visa",m.trust("&#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; "+b.creditCard().numberLastFour()))])})),m("button.btn.btn-small#show-new-creditcard",{onclick:a.selectPaymentMethod.bind(a,"new-credit-card")},"Add a new credit card")]),m("a.secureconnection",{href:"http://support.iconfinder.com/purchasing-and-downloading/is-credit-card-data-sent-using-a-secure-connection",target:"_blank"},[m("img",{
src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyNCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTEwMjguNCkiPjxwYXRoIGQ9Im01IDEwMzcuNGMtMS4xMDQ2IDAtMiAwLjktMiAydjEgNiAxYzAgMS4xIDAuODk1NCAyIDIgMmgyIDEwIDJjMS4xMDUgMCAyLTAuOSAyLTJ2LTctMWMwLTEuMS0wLjg5NS0yLTItMmgtMi0xMnoiIGZpbGw9IiNmMWM0MGYiLz48cGF0aCBkPSJtNSAxMDQwLjRjLTEuMTA0NiAwLTIgMC45LTIgMnYxIDYgMWMwIDEuMSAwLjg5NTQgMiAyIDJoMiAxMCAyYzEuMTA1IDAgMi0wLjkgMi0ydi03LTFjMC0xLjEtMC44OTUtMi0yLTJoLTItMTJ6IiBmaWxsPSIjZjM5YzEyIi8+PHBhdGggZD0ibTEyIDEwMjkuNGMtMy44NjYgMC03IDMuMS03IDdoM2MwLTIuMiAxLjc5MDktNCA0LTQgMi4yMDkgMCA0IDEuOCA0IDRoM2MwLTMuOS0zLjEzNC03LTctN3oiIGZpbGw9IiNiZGMzYzciLz48cGF0aCBkPSJtNSAxNHYxaDE0di0xaC0xNHptMCAydjFoMTR2LTFoLTE0em0wIDJ2MWgxNHYtMWgtMTR6bTAgMnYxaDE0di0xaC0xNHoiIGZpbGw9IiNlNjdlMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIvPjxwYXRoIGQ9Im01IDEwMzcuNHYxYzAgMC41IDAuNjcxNiAxIDEuNSAxczEuNS0wLjUgMS41LTF2LTFjMCAwLjUtMC42NzE2IDEtMS41IDFzLTEuNS0wLjUtMS41LTF6IiBmaWxsPSIjN2Y4YzhkIi8+PHBhdGggZD0ibTE2IDEwMzcuNHYxYzAgMC41IDAuNjcyIDEgMS41IDFzMS41LTAuNSAxLjUtMXYtMWMwIDAuNS0wLjY3MiAxLTEuNSAxcy0xLjUtMC41LTEuNS0xeiIgZmlsbD0iIzdmOGM4ZCIvPjxwYXRoIGQ9Im0xMiAyLjQzNzVjLTAuMzUxIDAtMC42OTkgMC4wMzM4LTEuMDMxIDAuMDkzNy0wLjI0NyAwLjA0NDYtMC40ODcgMC4xMTI5LTAuNzE5IDAuMTg3Ni0wLjIxNyAwLjA2OTgtMC40MjI5IDAuMTU2MS0wLjYyNSAwLjI1LTAuMTA2IDAuMDQ5Mi0wLjIxMDkgMC4xMDA4LTAuMzEyNSAwLjE1NjItMC4xMzE5IDAuMDcxOS0wLjI1MTMgMC4xNjgyLTAuMzc1IDAuMjUtMC4xMTU4IDAuMDc2NS0wLjIzNTYgMC4xMzQyLTAuMzQzNyAwLjIxODgtMC4xNDA3IDAuMTA5Ny0wLjI3OTkgMC4yMjExLTAuNDA2MyAwLjM0MzctMC4wMzY5IDAuMDM2Mi0wLjA1ODEgMC4wODc4LTAuMDkzNyAwLjEyNS0wLjE2ODQgMC4xNzQ0LTAuMzMxMyAwLjMzNTYtMC40Njg4IDAuNTMxMy0wLjE0MDIgMC4xOTkzLTAuMjcwNCAwLjQwNjUtMC4zNzUgMC42MjUtMC4wMDQgMC4wMDg0IDAuMDA0IDAuMDIyNyAwIDAuMDMxMi0wLjExMTEgMC4yMzU5LTAuMjE1OSAwLjQ5NTktMC4yODEyIDAuNzUtMC4yNTMgMC41ODQ0LTAuOTQyNCAxLTEuNzUgMS0wLjA2IDAtMC4wODMyIDAuMDAxOC0wLjEyNSAwLTAuMDEwNS0wLjAwMDQtMC4wMTY4IDAuMDAxNC0wLjAzMTMgMGwtMC4wNjI1IDF2MSAxaDN2LTEtMWMwLTAuMjc2MSAwLjA0MDUtMC41NTIxIDAuMDkzOC0wLjgxMjUgMC4zNzI5LTEuODIyNyAxLjk3MzItMy4xODc1IDMuOTA2Mi0zLjE4NzUgMi4yMDkgMCA0IDEuNzkwOSA0IDR2MSAxaDN2LTEtMWwtMC4wNjItMWMtMC4wMTUgMC4wMDE0LTAuMDIxLTAuMDAwNC0wLjAzMiAwaC0wLjEyNWMtMC44MDcgMC0xLjQ5Ny0wLjQxNTYtMS43NS0xLTAuMDY1LTAuMjU0MS0wLjE3LTAuNTE0MS0wLjI4MS0wLjc1LTAuMDA0LTAuMDA4NSAwLjAwNC0wLjAyMjggMC0wLjAzMTItMC4xMDUtMC4yMTg1LTAuMjM1LTAuNDI1Ny0wLjM3NS0wLjYyNS0wLjEzOC0wLjE5NTctMC4zLTAuMzU2OS0wLjQ2OS0wLjUzMTMtMC4wMzYtMC4wMzgtMC4wNTUtMC4wODgxLTAuMDk0LTAuMTI1LTAuMTI2LTAuMTIyNi0wLjI2NS0wLjIzNC0wLjQwNi0wLjM0MzctMC4xMDQtMC4wODE3LTAuMjMyLTAuMTQ0OC0wLjM0NC0wLjIxODgtMC4xMjItMC4wODA5LTAuMjQ0LTAuMTc4OC0wLjM3NC0wLjI1LTAuMTAxLTAuMDU1LTAuMjA4LTAuMTA3NC0wLjMxMy0wLjE1NjItMC4yMDItMC4wOTM5LTAuNDA4LTAuMTgwMi0wLjYyNS0wLjI1LTAuMjMyLTAuMDc0Ny0wLjQ3Mi0wLjE0My0wLjcxOS0wLjE4NzYtMC4zMzItMC4wNTk5LTAuNjgtMC4wOTM3LTEuMDMxLTAuMDkzN3oiIGZpbGw9IiM5NWE1YTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIvPjwvZz48L3N2Zz4="})," Secure connection"])]},nfx.views.SubscriptionCreatedModalView=nfx.views.ModalView({id:function(a){return"subscription-created"},body:function(a){var b="$"+Nextfinder.formatting.formatMoney(a.transaction().amountPayment()),c="$"+Nextfinder.formatting.formatMoney(a.transaction().amountBalance()),d=c+" has been deducted from your account balance.",e=Nextfinder.formatting.formatDate(a.proSubscription().dateRenews());return a.transaction().amountPayment()>0&&(d="Your credit card has been charged "+b,a.transaction().amountBalance()>0&&(d+=" and "+c+" has been deducted from your account balance")),m("article",m("section.subscription-created-modal",[m("img",{src:"/static/img/pro/icon.svg",height:250}),m("p",d+"."),m("p","Your subscription will be automatically renewed on "+e+". You can choose to cancel your subscription at any time.")]))}}),nfx.views.SubscriptionPaymentModalView=nfx.views.ModalView({body:function(a){return m("article",m("form.payment-form-inline#payment-form",{onsubmit:a.action.bind(a)},nfx.views.PaymentFormView(a.paymentFormController)))},id:function(a){return"paymentModal"}}),nfx.views.ChurnSurveyModalView=nfx.views.ModalView({body:function(a){return m("section",[m("p",["We're sorry to see you cancel your Iconfinder Pro subscription. We would love to learn why you have cancelled in order to improve the product. ","If there is anything we can help you with, please ",m('a[href="mailto:support@iconfinder.com"]',"contact support"),"."]),m("form#feedback-form",[m("div",{class:"alert alert-danger hidden"},"Please select a reason for cancelling."),a.reasons.map(function(a){return m("label.checkbox",[m("input",{type:"checkbox",name:"cancel-reason",value:a.value})," "+a.label])}),m("label.checkbox",[m("input",{type:"checkbox",name:"cancel-reason",value:0,onclick:m.withAttr("value",a.toggleOther)})," Other"]),m("textarea",{name:"comment",placeholder:"Reason for cancelling",id:"other-reason",class:"input-block-level hidden"})])])},footer:function(a){return[m("button.btn",{onclick:a.dismiss.bind(a),disabled:a.processing()},a.dismissLabel()),m("button.btn.btn-primary",{onclick:a.submit.bind(a),disabled:a.processing()},"Send feedback")]}}),nfx.views.FreeDownloadPromptModalView=nfx.views.ModalView({id:function(a){return"free-download-prompt-modal"},body:function(a){return m("article",m("section.free-download-prompt-modal",[m("h2","Continue downloading free icons"),m("p.pitch","Sign up for Iconfinder Free to continue downloading free icons. You also get favorites and access to your download history."),m("a.btn.facebook-btn",{href:"javascript:void(0)",onclick:a.connectWithFacebook.bind(a)},[m("i.icon-if.icon-if-facebook"," ")," Connect with Facebook"]),m("p.alternative-login",[m("a",{href:"javascript:void(0)",onclick:a.signUp.bind(a)},"Sign up using e-mail")," or ",m("a",{href:"javascript:void(0)",onclick:a.logIn.bind(a)},"log in")]),m("p.newsletter-option",m("label",[m("input",{checked:a.isNewsletterSubscriber(),type:"checkbox",name:"is_newsletter_subscriber",id:"id_is_newsletter_subscriber",onchange:m.withAttr("checked",a.isNewsletterSubscriber)})," Keep me updated via e-mail."]))]))},footer:function(a){return[]}}),nfx.views.SignUpModalView=nfx.views.ModalView({id:function(a){return"signupModal"},body:function(a){return[m("section.section-inputfields",[nfx.views.connectWithFacebook(a),m("form",[nfx.views.FormErrorMessageView(a.errorMessage),m("div.inputfields",[m("p",m("span",nfx.views.ValidatedInputFieldView({name:"firstname",placeholder:"First name",value:a.firstName,class:"input-block-level"}))),m("p",m("span",nfx.views.ValidatedInputFieldView({name:"lastname",placeholder:"Last name",value:a.lastName,class:"input-block-level"}))),m("div.clearboth"),nfx.views.IconInputView({icon:"user",input:nfx.views.ValidatedInputFieldView({name:"username",placeholder:"Username",value:a.username,class:"input-block-level"})}),nfx.views.IconInputView({icon:"email",input:nfx.views.ValidatedInputFieldView({name:"email",placeholder:"E-mail address",value:a.email,class:"input-block-level"})}),nfx.views.IconInputView({icon:"lock",input:nfx.views.ValidatedInputFieldView({name:"password",placeholder:"Password",type:"password",value:a.password,class:"input-block-level"})})]),m("div.footertext",m("p",[m("label",[m("input",{checked:!0,type:"checkbox",name:"remember_me",id:"id_remember_me"})," Keep me logged in on this computer."]),m("label",[m("input",{checked:a.isNewsletterSubscriber(),type:"checkbox",name:"is_newsletter_subscriber",id:"id_is_newsletter_subscriber",onchange:m.withAttr("checked",a.isNewsletterSubscriber)})," Send me news & updates."])," By creating an account you agree to our ",m("a",{target:"_blank",href:"https://www.iconfinder.com/about/termsofservice"},"terms of service")]))])])]},footer:function(a){return[m("a",{href:"/user/login",onclick:a.logIn.bind(a)},"Log in ")," "].concat(this.defaultFooter(a))}}),nfx.views.MissingUserDataModalView=nfx.views.ModalView({id:function(a){return"missing_or_invalid_data_modal"},body:function(a){return[m("section.section-inputfields",[m("p","We need a little more information to create your account."),m("form",[nfx.views.FormErrorMessageView(a.errorMessage),m("div.inputfields",[m("p",m("span",nfx.views.ValidatedInputFieldView({name:"firstname",placeholder:"First name",value:a.firstName,class:"input-block-level"}))),m("p",m("span",nfx.views.ValidatedInputFieldView({name:"lastname",placeholder:"Last name",value:a.lastName,class:"input-block-level"}))),m("div.clearboth"),nfx.views.IconInputView({icon:"user",input:nfx.views.ValidatedInputFieldView({name:"username",placeholder:"Username",value:a.username,class:"input-block-level"})}),nfx.views.IconInputView({icon:"email",input:nfx.views.ValidatedInputFieldView({name:"email",placeholder:"E-mail address",value:a.email,class:"input-block-level"})})]),m("div.footertext",m("p",[m("label",[m("input",{checked:a.isNewsletterSubscriber(),type:"checkbox",name:"is_newsletter_subscriber",id:"id_is_newsletter_subscriber",onchange:m.withAttr("checked",a.isNewsletterSubscriber)})," Keep me updated via e-mail."])," By creating an account you agree to our ",m("a",{target:"_blank",href:"https://www.iconfinder.com/about/termsofservice"},"terms of service")]))])])]}}),nfx.views.LogInModalView=nfx.views.ModalView({id:function(a){return"loginModal"},body:function(a){return[m("section.section-inputfields",[nfx.views.connectWithFacebook(a),m("form",{onsubmit:a.action.bind(a)},[nfx.views.FormErrorMessageView(a.errorMessage),m("div.inputfields",[nfx.views.IconInputView({icon:"user",input:nfx.views.ValidatedInputFieldView({name:"username",placeholder:"Username or e-mail address",value:a.username,class:"input-block-level"})}),nfx.views.IconInputView({icon:"lock",input:nfx.views.ValidatedInputFieldView({name:"password",placeholder:"Password",type:"password",value:a.password,class:"input-block-level"})})]),a.recaptchaRequired()?m("div#recaptcha-container",{config:function(b,c,d){c||Recaptcha.create(a.recaptchaPublicKey(),"recaptcha-container",{theme:"white"})}.bind(a)}):"",m("div.footertext",[m("p",["Don't have an account? ",m("a.login-signup-link",{href:"/user/signup",onclick:a.signUp.bind(a)},"Sign up here")]),m("p",[m("label",[m("input",{checked:a.remember(),type:"checkbox",name:"remember_me",id:"id_remember_me",onchange:m.withAttr("checked",a.remember)})," Keep me logged in on this computer."])]),m("p",m("a",{href:"/user/password-reset"},"Lost your password?"))]),m("input",{type:"submit",style:"display: none"},"Log in")])])]}}),nfx.views.FormatIsProOnlyPromptModalView=nfx.views.ModalView({id:function(a){return"format-is-pro-only-prompt-modal"},body:function(a){return m("article",m("section.format-is-pro-only-prompt-modal",[m("h2","Get access to Adobe Illustrator icons, Adobe Photoshop shapes and much more"),m("p.pitch","Sign up for Iconfinder Pro and download icons in Adobe Illustrator format, as Adobe Photoshop shapes, and get access to the World's largest collection of premium icons."),m("a.btn.btn-primary",{href:"/pro/subscribe"},["Sign up for Iconfinder Pro"])]))},footer:function(a){return[]}}),nfx.views.PrivateMessageIsProOnlyPromptModalView=nfx.views.ModalView({id:function(a){return"private-message-is-pro-only-prompt-modal"},body:function(a){return m("article",m("section.feature-is-pro-only-prompt-modal",[m("h2","Send private messages to icon designers"),m("p.pitch","Sign up for Iconfinder Pro to send icon designers a private message and get access to the World's largest collection of premium icons."),m("a.btn.btn-primary",{href:"/pro/subscribe"},["Sign up for Iconfinder Pro"])]))},footer:function(a){return[]}}),nfx.views.SubscriptionView=function(a){var b=a.billingInterval(),c=nfx.viewHelpers.billingIntervalSubject(b),d=nfx.viewHelpers.billingIntervalAdverb(b),e='<div class="span4"><div class="boxit"><div class="content-section"><b>You\'ll love Iconfinder Pro</b><br>Both plans include:</div><div class="content-section secondary"><ul><li><span class="icon-if icon-if-checkmark-green"></span> '+Nextfinder.formatting.formatInt(a.iconsCount())+' premium vector icons</li><li><span class="icon-if icon-if-checkmark-green"></span> Licenses for commercial projects</li><li><span class="icon-if icon-if-checkmark-green"></span> 70% is paid out to the icon designers</li><li><span class="icon-if icon-if-checkmark-green"></span> Icons in AI and CSH formats</li><li><span class="icon-if icon-if-checkmark-green"></span> High priority support</li></ul><a href="#pro-faq">Frequently asked questions</a></div></div></div>',f=function(a){return a.isPerceptuallyUnlimited()?"No download limit on premium icons":a.proDownloadsPerMonthMax()+" premium icons each month"},g=function(b){var d="annual"==a.billingInterval()?b.attributes().price_annual_per_additional_member:b.attributes().price_monthly_per_additional_member;if(!b.proMembersMax())return m("div.content-section.secondary",m("div.row",m("div.span5.plan-description",[m("b","Additional team members"),m("div",m("p","After you sign up, you can add team members for $"+Nextfinder.formatting.formatInt(d)+"/"+c+" per seat. All members will have Iconfinder Pro Unlimited."))])))},h=function(b){var d=b.isAvailable(a.organization()),e="annual"==a.billingInterval()?b.priceAnnual():b.priceMonthly(),h=a.currentPlan().identifier()==b.identifier()?".active":"";return m("label.boxit.radio"+h,[m("div.content-section",m("div.row",[m("div.span.plan-selection",m("input",{type:"radio",id:b.identifier(),checked:a.currentPlan().identifier()==b.identifier(),disabled:!d||a.processing(),name:"optionsRadios",onchange:function(){a.currentPlan(b)}})),m("div.span4.plan-description",[m("h2",b.name()),m("p",f(b))]),m("div.span2.pull-right.plan-price",["$"+Nextfinder.formatting.formatInt(e),m("div.periode","per "+c)])])),g(b)])},i=function(){var e=m("button.btn.btn-primary.btn-large.fluid",{onclick:a.confirmSubscription.bind(a),disabled:a.processing()||!a.user()},"Confirm and subscribe"),g=m("div.secure-connection",m("a.secureconnection",{href:"http://support.iconfinder.com/purchasing-and-downloading/is-credit-card-data-sent-using-a-secure-connection",target:"_blank"},[m("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyNCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTEwMjguNCkiPjxwYXRoIGQ9Im01IDEwMzcuNGMtMS4xMDQ2IDAtMiAwLjktMiAydjEgNiAxYzAgMS4xIDAuODk1NCAyIDIgMmgyIDEwIDJjMS4xMDUgMCAyLTAuOSAyLTJ2LTctMWMwLTEuMS0wLjg5NS0yLTItMmgtMi0xMnoiIGZpbGw9IiNmMWM0MGYiLz48cGF0aCBkPSJtNSAxMDQwLjRjLTEuMTA0NiAwLTIgMC45LTIgMnYxIDYgMWMwIDEuMSAwLjg5NTQgMiAyIDJoMiAxMCAyYzEuMTA1IDAgMi0wLjkgMi0ydi03LTFjMC0xLjEtMC44OTUtMi0yLTJoLTItMTJ6IiBmaWxsPSIjZjM5YzEyIi8+PHBhdGggZD0ibTEyIDEwMjkuNGMtMy44NjYgMC03IDMuMS03IDdoM2MwLTIuMiAxLjc5MDktNCA0LTQgMi4yMDkgMCA0IDEuOCA0IDRoM2MwLTMuOS0zLjEzNC03LTctN3oiIGZpbGw9IiNiZGMzYzciLz48cGF0aCBkPSJtNSAxNHYxaDE0di0xaC0xNHptMCAydjFoMTR2LTFoLTE0em0wIDJ2MWgxNHYtMWgtMTR6bTAgMnYxaDE0di0xaC0xNHoiIGZpbGw9IiNlNjdlMjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIvPjxwYXRoIGQ9Im01IDEwMzcuNHYxYzAgMC41IDAuNjcxNiAxIDEuNSAxczEuNS0wLjUgMS41LTF2LTFjMCAwLjUtMC42NzE2IDEtMS41IDFzLTEuNS0wLjUtMS41LTF6IiBmaWxsPSIjN2Y4YzhkIi8+PHBhdGggZD0ibTE2IDEwMzcuNHYxYzAgMC41IDAuNjcyIDEgMS41IDFzMS41LTAuNSAxLjUtMXYtMWMwIDAuNS0wLjY3MiAxLTEuNSAxcy0xLjUtMC41LTEuNS0xeiIgZmlsbD0iIzdmOGM4ZCIvPjxwYXRoIGQ9Im0xMiAyLjQzNzVjLTAuMzUxIDAtMC42OTkgMC4wMzM4LTEuMDMxIDAuMDkzNy0wLjI0NyAwLjA0NDYtMC40ODcgMC4xMTI5LTAuNzE5IDAuMTg3Ni0wLjIxNyAwLjA2OTgtMC40MjI5IDAuMTU2MS0wLjYyNSAwLjI1LTAuMTA2IDAuMDQ5Mi0wLjIxMDkgMC4xMDA4LTAuMzEyNSAwLjE1NjItMC4xMzE5IDAuMDcxOS0wLjI1MTMgMC4xNjgyLTAuMzc1IDAuMjUtMC4xMTU4IDAuMDc2NS0wLjIzNTYgMC4xMzQyLTAuMzQzNyAwLjIxODgtMC4xNDA3IDAuMTA5Ny0wLjI3OTkgMC4yMjExLTAuNDA2MyAwLjM0MzctMC4wMzY5IDAuMDM2Mi0wLjA1ODEgMC4wODc4LTAuMDkzNyAwLjEyNS0wLjE2ODQgMC4xNzQ0LTAuMzMxMyAwLjMzNTYtMC40Njg4IDAuNTMxMy0wLjE0MDIgMC4xOTkzLTAuMjcwNCAwLjQwNjUtMC4zNzUgMC42MjUtMC4wMDQgMC4wMDg0IDAuMDA0IDAuMDIyNyAwIDAuMDMxMi0wLjExMTEgMC4yMzU5LTAuMjE1OSAwLjQ5NTktMC4yODEyIDAuNzUtMC4yNTMgMC41ODQ0LTAuOTQyNCAxLTEuNzUgMS0wLjA2IDAtMC4wODMyIDAuMDAxOC0wLjEyNSAwLTAuMDEwNS0wLjAwMDQtMC4wMTY4IDAuMDAxNC0wLjAzMTMgMGwtMC4wNjI1IDF2MSAxaDN2LTEtMWMwLTAuMjc2MSAwLjA0MDUtMC41NTIxIDAuMDkzOC0wLjgxMjUgMC4zNzI5LTEuODIyNyAxLjk3MzItMy4xODc1IDMuOTA2Mi0zLjE4NzUgMi4yMDkgMCA0IDEuNzkwOSA0IDR2MSAxaDN2LTEtMWwtMC4wNjItMWMtMC4wMTUgMC4wMDE0LTAuMDIxLTAuMDAwNC0wLjAzMiAwaC0wLjEyNWMtMC44MDcgMC0xLjQ5Ny0wLjQxNTYtMS43NS0xLTAuMDY1LTAuMjU0MS0wLjE3LTAuNTE0MS0wLjI4MS0wLjc1LTAuMDA0LTAuMDA4NSAwLjAwNC0wLjAyMjggMC0wLjAzMTItMC4xMDUtMC4yMTg1LTAuMjM1LTAuNDI1Ny0wLjM3NS0wLjYyNS0wLjEzOC0wLjE5NTctMC4zLTAuMzU2OS0wLjQ2OS0wLjUzMTMtMC4wMzYtMC4wMzgtMC4wNTUtMC4wODgxLTAuMDk0LTAuMTI1LTAuMTI2LTAuMTIyNi0wLjI2NS0wLjIzNC0wLjQwNi0wLjM0MzctMC4xMDQtMC4wODE3LTAuMjMyLTAuMTQ0OC0wLjM0NC0wLjIxODgtMC4xMjItMC4wODA5LTAuMjQ0LTAuMTc4OC0wLjM3NC0wLjI1LTAuMTAxLTAuMDU1LTAuMjA4LTAuMTA3NC0wLjMxMy0wLjE1NjItMC4yMDItMC4wOTM5LTAuNDA4LTAuMTgwMi0wLjYyNS0wLjI1LTAuMjMyLTAuMDc0Ny0wLjQ3Mi0wLjE0My0wLjcxOS0wLjE4NzYtMC4zMzItMC4wNTk5LTAuNjgtMC4wOTM3LTEuMDMxLTAuMDkzN3oiIGZpbGw9IiM5NWE1YTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIvPjwvZz48L3N2Zz4="})," Secure connection"]));return m("div.span4",m("div.the-bill.pull-right",m("div.content-section",[function(){var e=a.currentPlan().priceForBillingInterval(b,a.organization()),g=[m("p.yourorder","Your order"),m("h3","Iconfinder Pro: "+a.currentPlan().name()),m("p.order-description",f(a.currentPlan())),m("p.items",["Billed "+d,m("span.pull-right","$"+Nextfinder.formatting.formatMoney(e))])],h=e,i=a.discount()?a.discount().effectAmount(e,b):null,j=a.campaignDiscountAmount();(i||j>0)&&(i&&(h-=i,g.push(m("p.discount",[a.discount().description(),m("span.pull-right","- $"+Nextfinder.formatting.formatMoney(i))]))),j>0&&(j>h&&(j=h),h-=j,g.push(m("p.discount",[a.campaignDiscountDescription(),m("span.pull-right","- $"+Nextfinder.formatting.formatMoney(j))]))),g.push(m("p.items",["Billed for the first "+c,m("span.pull-right","$"+Nextfinder.formatting.formatMoney(h))])));var k=nfx.viewHelpers.describeVatCharge(a.vatCharge(),h);g.push(m("p.vat",[k.label,m("span.pull-right","$"+Nextfinder.formatting.formatMoney(k.amount))]));var l=h;if(a.balance()>0){var n=a.balance()>h?h:a.balance();l-=n,g.push(m("p.balance",["Deducted from account balance",m("span.pull-right","-$"+Nextfinder.formatting.formatMoney(n))]))}return g.push(m("p.charge",["Total credit card charge",m("span.pull-right","$"+Nextfinder.formatting.formatMoney(l))])),m("div.order-details",g)}(),e,g])))},j=function(){var b=[m("b","Promotional code"),m("input",{type:"text",name:"checkout-discount",placeholder:"Enter promotional code here",value:a.discountCode(),oninput:m.withAttr("value",function(b){a.discountCode(b),a.validateDiscountCode()})})];return a.discountCodeLoading()?b.push(m("span.loader")):a.discountCodeError()&&b.push(m("label",a.discountCodeError())),m("div.discount-field pull-left",m("div.content-section",m("form",{onsubmit:a.user()?a.validateDiscountCode.bind(a):function(a){a.preventDefault()}},b)))},k=function(){var b=m("div.billing-address",{style:""},[m("label","Address"),m("p",m("span",nfx.mext.validatedInput({name:"address_street",placeholder:"Address",value:a.billingDetailsCtrl.addressStreet}))),m("label","Postal code"),m("p",m("span",nfx.mext.validatedInput({name:"address_postal_code",placeholder:"Postal code",value:a.billingDetailsCtrl.addressPostalCode}))),m("label","City"),m("p",m("span",nfx.mext.validatedInput({name:"address_city",placeholder:"City",value:a.billingDetailsCtrl.addressCity}))),m("label","State/province"),m("p",m("span",nfx.mext.validatedInput({name:"address_state",placeholder:"State/province (if applicable)",value:a.billingDetailsCtrl.addressState}))),m("label","Country"),m("p",m("span",nfx.viewHelpers.countrySelect("address_country",a.billingDetailsCtrl.addressCountry)))]),c=[m("p",m("div.control-group",[m("label",{style:"margin-bottom: 10px"},"Account type:"),m("div.controls",[m("label.radio",{style:"padding-left: 15px;"},[m("input",{type:"radio",name:"account-type",id:"id_account_type_personal",checked:!a.billingDetailsCtrl.isBusiness(),onclick:function(){a.billingDetailsCtrl.isBusiness(!1)}})," Personal"]),m("label.radio",{style:"padding-left: 15px;"},[m("input",{type:"radio",name:"account-type",id:"id_account_type_business",checked:a.billingDetailsCtrl.isBusiness(),onclick:function(){a.billingDetailsCtrl.isBusiness(!0)}})," Business"])])]))];return a.billingDetailsCtrl.isBusiness()&&c.push(m("div.business-input",[m("label","Company name"),m("p",m("span",nfx.mext.validatedInput({name:"company",placeholder:"Company name",value:a.billingDetailsCtrl.company}))),m("label","VAT number (Optional)"),m("p",m("span",nfx.mext.validatedInput({name:"vat_number",placeholder:"VAT number",value:a.billingDetailsCtrl.vatNumber}))),m("p.help-text",m("a",{href:"http://support.iconfinder.com/purchasing-and-downloading/why-do-you-need-my-vat-number",target:"_blank"},"Why do you ask for my VAT number?"))])),[nfx.views.FormErrorMessageView(a.errorMessage),b,m("form.payment-form-inline#payment-form",new nfx.views.PaymentFormView(a.paymentFormController)),m("div.account-type",c)]};return[m("div.row",[m("div.span12.main-headline",[m("h1","You're only two steps away from becoming a real Pro"),m("h2","with access to the world's largest collection of premium icons")]),function(){if(a.discount())return m("div.span12",[m("div.alert.alert-success.discount-message","You get "+a.discount().description()+a.discount().reason()),m("br")])}(),m("div.span12",m("h2.section-headline","1. Choose your subscription plan")),m("div.span8.plans",m("div.controls",a.pricingPlans().map(h))),m.trust(e)]),m("div.row",[m("div.span8",m("div.boxit.billing-option",m("div.content-section",{onclick:function(){a.billingInterval("monthly"==a.billingInterval()?"annual":"monthly")}},[m("input",{type:"checkbox",name:"upsell",checked:"annual"==a.billingInterval()}),m("b","Annual billing")," - Sign me up for a year and get 2 months for free ",m("span.pull-right",m("b","Save 16%"))]))),m.trust('<div class="span4"><div class="boxit"><div class="content-section"><b>Pay by invoice</b></div><div class="content-section secondary">You can pay by invoice instead of credit card. Simply send us an email to <a href="mailto:support@iconfinder.com">support@iconfinder.com</a> and we\'ll guide you through the process.</div></div></div>')]),m("div.row",[m("div.span12",m("h2.section-headline","2. Fill out the billing details")),function(){if(form=[],!a.user()){var b=m("div.span8.not-logged-in",[m("h3","Log in to continue"),m("p","Take a second to log in to your existing Iconfinder account. Or sign up, if you do not already have an account."),m('a.btn.btn-primary.login-link[href="#"]',"Log in"),m("span.seperator","or"),m('a.btn.btn-primary.signup-link[href="#"]',"Sign up")]);form.push(b)}return form.push(k()),m("div.boxit.span12 customer-details",m("div.row",[m("div.span8",[m("div.content-section.pull-left",form),j()]),i()]))}()])]},nfx.views.PrivateMessageModalView=nfx.views.ModalView({body:function(a){return m("article",m("section",[nfx.views.FormErrorMessageView(a.errorMessage),m("p","Send a message to this user"),m("p",m("textarea.send-message",{style:"width: 97%",rows:5,cols:40,value:a.message(),placeholder:"Type your message",oninput:m.withAttr("value",a.message)}))]))}}),nfx.views.PerformanceInspectorView=function(a){var b=function(a){return Nextfinder.formatting.formatMoney(a,1)+" ms"};return[m("summary",[m("ul",[m("li.cache",[m("h2","Cache"),m("p",[m("em",a.cacheAccessHits()+"/"+a.cacheAccessTotal()),m.trust(" hits &asymp; "),m("em",Math.round(100*a.cacheAccessHits()/a.cacheAccessTotal())+" %")," in ",m("em",b(a.cacheAccessDuration()))])]),m("li.database",[m("h2","Database"),m("p",[m("em",a.queriesTotal())," queries in ",m("em",b(a.queriesDuration()))])]),m("li.redis",[m("h2","Redis"),m("p",m("i","(not available)"))]),m("li.elasticsearch",[m("h2","ElasticSearch"),m("p",m("i","(not available)"))])])]),m("table.table.operations",[m("thead",[m("tr",[m("th.resource","Resource"),m("th.operation","Operation"),m("th.duration","Duration"),m("th.result","Result"),m("th.timeline","Timeline")])]),m("tbody",[a.operations().map(function(c){var d=c.startTime/a.operationLastEnds()*90+"%";return m("tr",[m("td.resource",c.resource),m("td.operation",m("pre",c.operation)),m("td.duration",b(c.duration)),m("td.result",c.result),m("td.timeline",[m("div.bar",{style:{width:c.duration/a.operationLastEnds()*90+"%",left:d}}),m("div.time-span",{style:{left:d}},[b(c.startTime),m.trust(" &#8594; "),b(c.startTime+c.duration)])])])})])])]},nfx.views.NewsletterEditView=function(a){function b(a,b,c){return m("section.newsletter-part",[m("div.row",[m("div.span5",[m("h3",a),m("span",b)]),m("div.span4.help-text",c)])])}function c(a){return b(a.label(),m("input.span4",{placeholder:a.placeholder(),type:"text",value:a.data()||"",oninput:m.withAttr("value",a.data)}),a.helpText())}function d(a){return b(a.label(),m("textarea.span4",{rows:10,cols:40,placeholder:a.placeholder(),oninput:m.withAttr("value",a.data)},a.data()||""),a.helpText())}function e(a){return b(a.label(),m("input.span4",{type:"color",value:a.data()||"",oninput:m.withAttr("value",a.data)}),a.helpText())}function f(b){return m("section.newsletter-part",[m("div.row",[m("div.span5",[m("h3",b.label()),b.asset()?m("img",{src:b.asset().uri()}):"",m("input",{type:"file",onchange:function(c){var d=c.target.files;d.length&&a.uploadImage(b,d[0])}})])])])}function g(b){return[m("section",m("div.row",m("div.span9",m("h3",b.label())))),m("section.card-container.newsletter-articles.newsletter-part",[m("div.available-articles.sidebar",[a.latestExternalArticles().map(function(a){return m("div.available-article",[m("a.add",{href:"javascript: void(0)",onclick:function(){return b.addArticle(new nfx.models.ArticleListNewsletterPartArticle({title:a.title(),url:a.urlCanonical(),author:a.author(),excerpt:a.excerpt()}))}},"+"),m("p.title",a.title()),a.author()?m("p.author",a.author()):"",a.urlCanonical()?m("p.url",m("a",{href:a.urlCanonical(),target:"_blank"},a.urlCanonical())):""])})]),m("div.row",b.articles().map(function(c,d){var e="articles-"+b.identifier()+"-article";return m("div",{draggable:!0,ondragstart:function(a){a.dataTransfer.setData("type",e),a.dataTransfer.setData("index",d),c._isDragging=!0},ondragend:function(a){c._isDragging=!1},ondragover:function(a){a.preventDefault()},ondragenter:function(){m.startComputation(),c._dropTargetCounter=c._dropTargetCounter?c._dropTargetCounter+1:1,m.endComputation()},ondragleave:function(){c._dropTargetCounter--},ondrop:function(a){if(a.dataTransfer.getData("type")==e){var f=parseInt(a.dataTransfer.getData("index"),10);b.moveArticle(f,d),c._dropTargetCounter=0}},className:nfx.mext.classMap("card",{"drop-target":!c._isDragging&&c._dropTargetCounter>0})},[m("a.remove",{title:"Remove",href:"javascript:void(0)",onclick:function(){confirm("Are you sure you want to remove this article?")&&b.removeArticle(d)}},m.trust("&times;")),m("p",[m("label","Title"),m("span",m("input",{type:"text",value:c.title()||"",oninput:m.withAttr("value",c.title)}))]),m("p",[m("label","URL"),m("span",m("input",{type:"text",value:c.url()||"",oninput:m.withAttr("value",c.url)}))]),m("p",[m("label","Author"),m("span",m("input",{type:"text",value:c.author()||"",oninput:m.withAttr("value",c.author)}))]),m("p",[m("label","Excerpt"),m("span",m("textarea",{oninput:m.withAttr("value",c.excerpt)},c.excerpt()||""))]),m("p",[m("label","Thumbnail"),m("span.article-thumbnail",[m("img",{src:c.thumbnail()?c.thumbnail().uri():"http://placehold.it/360x360",style:"height: 90px"}),m("input",{type:"file",onchange:function(b){var d=b.target.files;d.length&&a.uploadArticleThumbnail(c,d[0])},width:315,height:90})])]),m("p",[m("label","Featured"),m("span",m("input",{type:"checkbox",checked:c.featured(),onclick:m.withAttr("checked",c.featured)}))]),c.featured()?m("p",[m("label","Background"),m("span",m("input",{type:"color",value:c.backgroundColor()||"",oninput:m.withAttr("value",c.backgroundColor)}))]):""])}).concat(b.canAddArticle()?[m("div.card.ghost.add",{onclick:function(){b.addArticle()}},m("span","+"))]:[]))])]}function h(b){function c(a){return m("article.span4.iconset-preview.iconset-preview-medium",[m("a",{href:"/iconsets/"+a.identifier(),className:"preview-image",draggable:!1,target:"_blank"},m("img",{src:"/data/iconsets/previews/medium/"+a.identifier()+".png",title:a.name(),draggable:!1})),m("section.info",[m("span",{className:a.isPremium()?"label-premium":"label-free"},a.isPremium()?"Premium":"Free"),m("h4",m("a",{href:"/iconsets/"+a.identifier(),title:a.name(),draggable:!1,target:"_blank"},a.name()))])])}var d={};return b.iconSets().forEach(function(a){d[a.iconSetId()]=!0}),[m("section",m("div.row",m("div.span9",m("h3",b.label())))),m("section.card-container.newsletter-iconsets.newsletter-part",[m("div.available-iconsets",[a.latestPromotedIconSets().map(function(a){return d[a.iconSetId()]?[]:m("div.available-iconset",[m("a.add",{href:"javascript: void(0)",onclick:function(){return b.addIconSet(a)}},"+"),c(a)])})]),m("div.row",b.iconSets().map(function(a,d){var e="iconsets-"+b.identifier()+"-iconset";return m("div",{draggable:!0,ondragstart:function(b){b.dataTransfer.setData("type",e),b.dataTransfer.setData("index",d),a._isDragging=!0},ondragend:function(b){a._isDragging=!1},ondragover:function(a){a.preventDefault()},ondragenter:function(){m.startComputation(),a._dropTargetCounter=a._dropTargetCounter?a._dropTargetCounter+1:1,m.endComputation()},ondragleave:function(){a._dropTargetCounter--},ondrop:function(c){if(c.dataTransfer.getData("type")==e){var f=parseInt(c.dataTransfer.getData("index"),10);b.moveIconSet(f,d),a._dropTargetCounter=0}},className:nfx.mext.classMap("card",{"drop-target":!a._isDragging&&a._dropTargetCounter>0})},[m("a.remove",{title:"Remove",href:"javascript:void(0)",onclick:function(){confirm("Are you sure you want to remove this icon set?")&&b.removeIconSet(d)}},m.trust("&times;")),c(a)])}))])]}function i(a){return{line:c,text:d,color:e,article_list:g,iconset_list:h,image:f}[a.type()](a)}return[b("Subject line",m("input.span4",{name:"subject",maxlength:"100",placeholder:"E.g. Designer's Digest #85",type:"text",value:a.newsletter.subject()||"",oninput:m.withAttr("value",a.newsletter.subject)}),"Subject line as it will appear to the recipients and as the title of the newsletter.")].concat(a.newsletter.parts().map(i)).concat([m("section.flow-navigation-bottom.flow-navigation",[m("button.btn.btn-next.btn-large.btn-primary",{onclick:a.save.bind(a)},"Save"),m("button.btn.btn-next.btn-large",{onclick:a.saveAndSendPreview.bind(a)},"Save and send preview"),m("button.btn.btn-next.btn-large.btn-warning",{onclick:a.saveAndSend.bind(a)},"Save and send")])])},nfx.views.MailingListSubscribeModalView=nfx.views.ModalView({id:function(){return"mailing_list_subscribe"},body:function(a){return a.isSubscribed()?m("article",m("section",[m("span",[m("img",{src:"/static/img/illustrations/mail.svg",width:338,height:274})]),m("h3","You are now subscribed to the mailing list"),m("p","The latest goodies from Iconfinder will be coming your way soon.")])):[m("section.section-inputfields",[m("p","Enter your details below to get the latest goodies from Iconfinder. Don't worry  we won't spam you."),m("form",{onsubmit:a.action.bind(a)},[nfx.views.FormErrorMessageView(a.errorMessage),m("div.inputfields",[nfx.views.IconInputView({icon:"email",input:nfx.views.ValidatedInputFieldView({name:"email",type:"email",placeholder:"E-mail address",value:a.email,class:"input-block-level"})}),nfx.views.IconInputView({icon:"user",input:nfx.views.ValidatedInputFieldView({name:"first_name",
placeholder:"First name",value:a.firstName,class:"input-block-level"})}),nfx.views.IconInputView({icon:"user",input:nfx.views.ValidatedInputFieldView({name:"last_name",placeholder:"Last name",value:a.lastName,class:"input-block-level"})})]),m("input",{type:"submit",style:"display: none"},"Subscribe")])])]}});var earnings=0;nfx.views.RequestPaymentModalView=nfx.views.ModalView({id:function(a){return"requestPaymentModal"},body:function(a){return m("section",[m("form.form-horizontal",{onsubmit:a.requestPayment.bind(a)},[m("div.inputfields",[m("p.control-group",[m("label.control-label",{for:"description"},"Service description:"),m("div.controls",[m("textarea.input-block-level",{name:"description",id:"description",placeholder:"Describe the service to be listed in the invoice, for example Design of 5 custom icons",rows:3,minlength:2,required:!0}),m("p.text-muted","This text will appear on the official invoices from Iconfinder. Make sure the information is complete and correct.")])]),m("p.control-group",[m("label.control-label",{for:"price"},"Payment amount:"),m("div.controls",[m("div.input-prepend",[m("span.add-on","$"),m("input.text-right",{type:"number",name:"price",id:"price",placeholder:"20",required:!0,style:{width:"50px"},oninput:function(a){earnings=.95*a.target.value}})]),m("span",[" =  ",m("strong.text-success",["$",Nextfinder.formatting.formatMoney(earnings)," earnings"])," (after 5% Iconfinder fee)"])])]),m("input",{type:"hidden",class:"hidden",name:"attachment_type",value:"payment_request"})])])])},footer:function(a){return[m("button.btn.btn-large.btn-primary",{disabled:a.processing(),onclick:a.requestPayment.bind(a)},"Request payment"),m("button.btn.btn-large",{onclick:a.dismiss.bind(a),disabled:a.processing()},a.dismissLabel())]}}),nfx.modules.AccountDashboardOrganizationModule=function(a){var b=m.prop(a&&a.organization?new nfx.models.Organization(a.organization):null),c=m.prop(a&&a.organizationMembership?new nfx.models.OrganizationMembership(a.organizationMembership):null);this.controller=nfx.controllers.AccountDashboardOrganizationController.bind(nfx.controllers.AccountDashboardOrganizationController,b,c),this.view=nfx.views.AccountDashboardOrganizationView},nfx.modules.AccountSubscriptionPlanModule=function(a){var b=m.prop(a&&a.organization?new nfx.models.Organization(a.organization):null),c=m.prop(a&&a.pricingPlans?a.pricingPlans.map(function(a){return new nfx.models.PricingPlan(a)}):null);this.controller=nfx.controllers.AccountSubscriptionPlanController.bind(nfx.controllers.AccountSubscriptionPlanController,b,c),this.view=nfx.views.AccountSubscriptionPlanView},nfx.modules.AddCreditCardModalModule=function(a){this.controller=nfx.controllers.AddCreditCardModalController.bind(nfx.controllers.AddCreditCardModalController,a),this.view=nfx.views.AddCreditCardModalView},nfx.modules.AssetPurchaseCompletedModalModule=function(a){this.controller=nfx.controllers.AssetPurchaseCompletedModalController.bind(nfx.controllers.AssetPurchaseCompletedModalController,a),this.view=nfx.views.AssetPurchaseCompletedModalView},nfx.modules.BiTableQueryResult=function(a){this.controller=nfx.controllers.BiTableQueryResultController.bind(nfx.controllers.BiTableQueryResultController,a),this.view=nfx.views.BiTableQueryResultView},nfx.modules.BillingDetailsModule=function(a){this.controller=nfx.controllers.BillingDetailsController.bind(nfx.controllers.BillingDetailsController,a),this.view=nfx.views.BillingDetailsView},nfx.modules.BillingDetailsModalModule=function(a){this.controller=nfx.controllers.BillingDetailsModalController.bind(nfx.controllers.BillingDetailsModalController,a),this.view=nfx.views.BillingDetailsModalView},nfx.modules.ConfirmAssetPurchaseModalModule=function(a){this.controller=nfx.controllers.ConfirmAssetPurchaseModalController.bind(nfx.controllers.ConfirmAssetPurchaseModalController,a),this.view=nfx.views.ConfirmAssetPurchaseModalView},nfx.modules.DepositCashModalModule=function(a){this.controller=nfx.controllers.DepositCashModalController.bind(nfx.controllers.DepositCashModalController,a),this.view=nfx.views.DepositCashModalView},nfx.modules.DownloadLimitReachedModalModule=function(a){this.controller=nfx.controllers.DownloadLimitReachedModalController.bind(nfx.controllers.DownloadLimitReachedModalController,a),this.view=nfx.views.DownloadLimitReachedModalView},nfx.modules.ErrorModalModule=function(a){this.controller=nfx.controllers.ErrorModalController.bind(nfx.controllers.ErrorModalController,a),this.view=nfx.views.ErrorModalView},nfx.modules.InsufficientFundsModalModule=function(a){this.controller=nfx.controllers.InsufficientFundsModalController.bind(nfx.controllers.InsufficientFundsModalController,a),this.view=nfx.views.InsufficientFundsModalView},nfx.modules.InviteMembersModalModule=function(a){this.controller=nfx.controllers.InviteMembersModalController.bind(nfx.controllers.InviteMembersModalController,a),this.view=nfx.views.InviteMembersModalView},nfx.modules.ModalStackLoaderModule=function(a){this.controller=nfx.controllers.ModalStackLoaderController.bind(nfx.controllers.ModalStackLoaderController,a),this.view=nfx.views.ModalStackLoaderView},nfx.modules.PaymentFormModule=function(a){var b=new nfx.controllers.PaymentFormController(a);this.controller=function(){return b},this.view=nfx.views.PaymentFormView},nfx.modules.SubscriptionCreatedModalModule=function(a){this.controller=nfx.controllers.SubscriptionCreatedModalController.bind(nfx.controllers.SubscriptionCreatedModalController,a),this.view=nfx.views.SubscriptionCreatedModalView},nfx.modules.SubscriptionPaymentModalModule=function(a){this.controller=nfx.controllers.SubscriptionPaymentModalController.bind(nfx.controllers.SubscriptionPaymentModalController,a),this.view=nfx.views.SubscriptionPaymentModalView},nfx.modules.ChurnSurveyModalModule=function(a){this.controller=nfx.controllers.ChurnSurveyModalController.bind(nfx.controllers.ChurnSurveyModalController,a),this.view=nfx.views.ChurnSurveyModalView},nfx.modules.FreeDownloadPromptModalModule=function(a){this.controller=nfx.controllers.FreeDownloadPromptModalController.bind(nfx.controllers.FreeDownloadPromptModalController,a),this.view=nfx.views.FreeDownloadPromptModalView},nfx.modules.SignUpModalModule=function(a){this.controller=nfx.controllers.SignUpModalController.bind(nfx.controllers.SignUpModalController,a),this.view=nfx.views.SignUpModalView},nfx.modules.MissingUserDataModalModule=function(a){this.controller=nfx.controllers.MissingUserDataModalController.bind(nfx.controllers.MissingUserDataModalController,a),this.view=nfx.views.MissingUserDataModalView},nfx.modules.LogInModalModule=function(a){this.controller=nfx.controllers.LogInModalController.bind(nfx.controllers.LogInModalController,a),this.view=nfx.views.LogInModalView},nfx.modules.FormatIsProOnlyPromptModalModule=function(a){this.controller=nfx.controllers.FormatIsProOnlyPromptModalController.bind(nfx.controllers.FormatIsProOnlyPromptModalController,a),this.view=nfx.views.FormatIsProOnlyPromptModalView},nfx.modules.PrivateMessageIsProOnlyPromptModalModule=function(a){this.controller=nfx.controllers.PrivateMessageIsProOnlyPromptModalController.bind(nfx.controllers.PrivateMessageIsProOnlyPromptModalController,a),this.view=nfx.views.PrivateMessageIsProOnlyPromptModalView},nfx.modules.SubscriptionModule=function(a){this.controller=nfx.controllers.SubscriptionController.bind(nfx.controllers.SubscriptionController,a),this.view=nfx.views.SubscriptionView},nfx.modules.PrivateMessageModalModule=function(a){this.controller=nfx.controllers.PrivateMessageModalController.bind(nfx.controllers.PrivateMessageModalController,a),this.view=nfx.views.PrivateMessageModalView},nfx.modules.PerformanceInspectorModule=function(a){this.controller=nfx.controllers.PerformanceInspectorController.bind(nfx.controllers.PerformanceInspectorController,a),this.view=nfx.views.PerformanceInspectorView},nfx.modules.NewsletterEditModule=function(a){this.controller=nfx.controllers.NewsletterEditController.bind(nfx.controllers.NewsletterEditController,a),this.view=nfx.views.NewsletterEditView},nfx.modules.MailingListSubscribeModalModule=function(a){this.controller=nfx.controllers.MailingListSubscribeModalController.bind(nfx.controllers.MailingListSubscribeModalController,a),this.view=nfx.views.MailingListSubscribeModalView},nfx.modules.RequestPaymentModalModule=function(a){this.controller=nfx.controllers.RequestPaymentModalController.bind(nfx.controllers.RequestPaymentModalController,a),this.view=nfx.views.RequestPaymentModalView},window.nfx.app=new nfx.controllers.AppController,"undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),$(document).ajaxError(function(a,b,c,d){c.url.indexOf("track.iconfinder.com")>0||Raven.captureMessage(d||b.statusText,{extra:{type:c.type,url:c.url,data:c.data,status:b.status,error:d||b.statusText,response:b.responseText}})}),$(document).ready(function(){if($("#navigation").length){var a=$("#navigation").offset().top,b=$(".homepage-header, .landingpage header, .hero.hypeanimation");b.length&&(a=b.offset().top+b.outerHeight(),$("body").addClass("nav-fade")),$(window).on("load scroll",function(){$("body").toggleClass("nav-fixed",$(window).scrollTop()>a),$(".autosuggest").fadeOut("fast")})}if($.each(onLoadFunctions,function(){this()}),Nextfinder.comments.init(),Nextfinder.notification_messages.init(),$(function(){$("input, textarea").placeholder()}),"#intro-video"===window.location.hash){videoPopUp($("#video-intro-container"))}$("#filters .filter .btn, #filters .filter .btn-group").click(function(){$(this).parent("div").addClass("active")}),$(".close-filter, .close-filter img, .default").click(function(){$(this).parent("div").removeClass("active")}),$("input.autocomplete").each(function(a){var b=$(this).attr("id");$("input.autocomplete").length>1&&(b+=a,$(this).attr("id",b));new AutoSuggest(b,{script:"/ajax/autocomplete/?",varname:"input"})})}),$(document).on("click",".scrolltotop",function(){return window.scrollTo(0,0),!1}),$(document).on("click",".page-overlay",function(){return $("#modal").modal("hide"),!1}),$(document).on("focus","input.autocomplete",function(){$(this).siblings().addClass("btn-primary")}),$(document).on("blur","input.autocomplete",function(){$(this).siblings().removeClass("btn-primary")}),$(document).keydown(handleKey),$(document).on("click",".share-button",function(a){a.preventDefault(),$(this).toggleClass("active")}),$(document).on("click",".if-twitter",function(a){return a.preventDefault(),showSharingWindow("http://www.twitter.com/share?text="+($('meta[name="twitter:title"]').attr("content")||$('meta[name="description"]').attr("content"))+"&url="+encodeURIComponent(getCampaignTrackingURL($(location).attr("href"),"twitter")),550,300),!1}),$(document).on("click",".if-facebook",function(a){return a.preventDefault(),showSharingWindow("https://www.facebook.com/dialog/feed?app_id="+FACEBOOK_APP_ID+"&link="+getCampaignTrackingURL($(location).attr("href"),"facebook"),700,320),!1}),$(document).on("click",".if-link",function(a){a.preventDefault();var b,c=($(this),getCampaignTrackingURL($(location).attr("href"),"link"));return $("body").prepend("<div class='bitly-short overlay escapable'><h1>Copy URL below</h1><input id='bitly-short-input' type='text' value='Generating short url ...' readonly /></div>"),$.getJSON("https://api-ssl.bitly.com/v3/shorten?callback=?",{format:"json",apiKey:"R_a2533566c06cbd8702c83c2d45b4bff9",login:"iconfinder",longUrl:c},function(a){"OK"==a.status_txt?(b=a.data.url,$("#bitly-short-input").eq(0).val(b).focus().select()):$.pnotify({pnotify_title:"Something went wrong when generating a shortened URL: "+a.status_txt,pnotify_history:!1})}),!1}),$(document).on("click",".bitly-short input[type='text']",function(){$(this).select()}),$.urlParam=function(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "))},$(document).click(function(){hideInfoMenu($(document).find(".infomenu"))}),$(document).on("click",".infolink",function(){return showInfoMenu($(this).closest("[data-icon-id]").attr("data-icon-id"),$(this).position().left),!1}),$(document).on("click","[data-action='video-play']",function(){$("body").find("video").get(0).pause(),videoPopUp($("#"+$(this).data("video-container")))}),$(document).on("click","a.external",function(){Nextfinder.tracking.trackEvent("Links","External",$(this).attr("href"))}),$(document).on("click",'[data-action="iconset-promote"]',function(a){a.preventDefault();var b=$(this).closest("[data-iconset-id]"),c=b.attr("data-iconset-id");nfx.services.iconsetPromotionService.promote(c),$('[data-action="iconset-promote"]').hide(),$('[data-action="iconset-demote"]').show()}),$(document).on("click",'[data-action="iconset-demote"]',function(a){a.preventDefault();var b=$(this).closest("[data-iconset-id]"),c=b.attr("data-iconset-id");nfx.services.iconsetPromotionService.demote(c),$('[data-action="iconset-demote"]').hide(),$('[data-action="iconset-promote"]').show()}),$(document).on("click",'[data-action="send-private-message"]',function(a){if(a.preventDefault(),!window.USER)return void nfx.app.modalStackController.present(new nfx.modules.SignUpModalModule({onAuthenticate:function(){location.reload()}}));nfx.app.modalStackController.present(new nfx.modules.PrivateMessageModalModule({toUserId:$(this).attr("data-to-user-id")}))}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates["comments/templates/not_logged_in.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<section class="newcomment reply">\n    <div class="user-actions">\n        <h4>Please log in or sign up to leave a comment</h4>\n        <a class="login-link btn" href="#">Log in</a>\n        <a class="signup-link btn" href="#">Sign up</a>\n        </div>\n</section>'},useData:!0}),this.Handlebars.templates["comments/templates/reply_form.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:{},h=c.helperMissing,i=a.escapeExpression;return'<form data-role="comment-form" action="'+i((f=null!=(f=c.submit_url||(null!=b?b.submit_url:b))?f:h,"function"==typeof f?f.call(g,{name:"submit_url",hash:{},data:e}):f))+'" method="post" class="newcomment reply">\n    <span><textarea rows="10" cols="40" name="text" placeholder="Post a reply"></textarea></span>\n    <span><input type="hidden" name="parent_comment" value="'+i((f=null!=(f=c.parent_comment_id||(null!=b?b.parent_comment_id:b))?f:h,"function"==typeof f?f.call(g,{name:"parent_comment_id",hash:{},data:e}):f))+'"></span>\n    <button type="submit" class="btn btn-primary">Post reply</button>\n</form>\n'},useData:!0}),this.Handlebars.templates["helpers/templates/latest_post.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=null!=b?b:{},h=c.helperMissing,i=a.escapeExpression;return'<a target="_blank" href="'+i((f=null!=(f=c.link||(null!=b?b.link:b))?f:h,"function"==typeof f?f.call(g,{name:"link",hash:{},data:e}):f))+'"><span class="muted">Latest from the blog:</span>  '+i((f=null!=(f=c.title||(null!=b?b.title:b))?f:h,"function"==typeof f?f.call(g,{name:"title",hash:{},data:e}):f))+"</a>\n"},useData:!0}),this.Handlebars.templates["iconsets/templates/edit_collection.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'<form action="/collections/'+h(g(null!=(f=null!=b?b.collection:b)?f.collection_id:f,b))+'/edit" method="post" class="horizontal-form">\n    <section>\n        <p>A collection can be used to group icon sets. E.g. if several icon sets are made in the same style.</p>\n        <p>\n            <label for="id_name">Collection name</label>\n            <span><input id="id_name" type="text" name="name" value="'+h(g(null!=(f=null!=b?b.collection:b)?f.name:f,b))+'" placeholder="E.g. Lovely icons" maxlength="100" /></span>\n        </p>\n        <p>\n            <label for="id_description">Description</label>\n            <span class="textarea">\n                <textarea placeholder="This description will be visible to the users." name="description" id="id_description">'+h(g(null!=(f=null!=b?b.collection:b)?f.description:f,b))+'</textarea>\n            </span>\n        </p>\n        <p>\n            <label for="id_name">Sort index</label>\n            <span><input id="id_sort_index" type="text" name="sort_index" value="'+h(g(null!=(f=null!=b?b.collection:b)?f.sort_index:f,b))+'" maxlength="2" style="width: 50px;" /></span>\n        </p>\n    </section>\n</form>\n'},useData:!0}),this.Handlebars.templates["iconsets/templates/edit_icons_icon.html"]=Handlebars.template({1:function(a,b,c,d,e){return"true"},3:function(a,b,c,d,e){return"false"},5:function(a,b,c,d,e){return" is-active"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j=a.escapeExpression;return'<div class="manage-icon" data-icon-id="new" data-iconset-id="'+j((g=null!=(g=c.iconset_id||(null!=b?b.iconset_id:b))?g:i,"function"==typeof g?g.call(h,{name:"iconset_id",hash:{},data:e}):g))+'" data-active="'+(null!=(f=c.if.call(h,null!=b?b.is_active:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?f:"")+'">\n    <table>\n        <tr>\n            <td class="versions">\n                <a href="#" class="activate'+(null!=(f=c.if.call(h,null!=b?b.is_active:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'" title="Toggle whether icon is active or not" data-action="toggle-icon-active"></a>\n                <div class="version-container"></div>\n            </td>\n            <td class="tags">\n                <a href="#" class="delete" title="Delete icon" data-action="delete-icon"></a>\n                <h3>Tags</h3>\n                <input type="text" value="'+j((g=null!=(g=c.tags||(null!=b?b.tags:b))?g:i,"function"==typeof g?g.call(h,{name:"tags",hash:{},data:e}):g))+'" />\n            </td>\n        </tr>\n    </table>\n</div>\n'},useData:!0}),this.Handlebars.templates["iconsets/templates/edit_tags.html"]=Handlebars.template({1:function(a,b,c,d,e){var f;return'            <div class="tagslist">\n                <h4>Suggestions:</h4>\n'+(null!=(f=c.each.call(null!=b?b:{},null!=b?b.suggested_tags:b,{name:"each",hash:{},fn:a.program(2,e,0),inverse:a.noop,data:e}))?f:"")+'                <div class="tags_clear"></div>\n            </div>\n'},2:function(a,b,c,d,e){var f=a.lambda,g=a.escapeExpression;return'                    <span class="tag" data-tag="'+g(f(b,b))+'">+ '+g(f(b,b))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h=a.lambda,i=a.escapeExpression,j=null!=b?b:{};return'<form action="/iconsets/'+i(h(null!=(f=null!=b?b.icon:b)?f.iconset_id:f,b))+"/icons/"+i(h(null!=(f=null!=b?b.icon:b)?f.icon_id:f,b))+'/tags" method="post" class="horizontal-form">\n    <section>\n        <p>Tags makes it possible for the users to find the icons. Please add as many meaningful tags as possible.</p>\n        <h3>Current tags:</h3>\n        <input name="tags" type="text" class="tags" value="'+i((g=null!=(g=c.tags||(null!=b?b.tags:b))?g:c.helperMissing,"function"==typeof g?g.call(j,{name:"tags",hash:{},data:e}):g))+'" />\n'+(null!=(f=c.if.call(j,null!=b?b.suggested_tags:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"    </section>\n</form>\n"},useData:!0}),this.Handlebars.templates["iconsets/templates/new_collection.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<section>\n    <form action="/collections/new" method="post" class="horizontal-form">\n        <p>A collection can be used to group icon sets. E.g. if several icon sets are made in the same style.</p>\n        <p>\n            <label for="id_name">Collection name</label>\n            <span><input id="id_name" type="text" name="name" value="" placeholder="E.g. Lovely icons" maxlength="100" /></span>\n        </p>\n        <p>\n            <label for="id_description">Description</label>\n            <span class="textarea">\n                <textarea placeholder="This description will be visible to the users." name="description" id="id_description"></textarea>\n            </span>\n        </p>\n        <p>\n            <label for="id_name">Sort index</label>\n            <span><input id="id_sort_index" type="text" name="sort_index" value="1" maxlength="2" style="width: 50px;" /></span>\n        </p>\n        <label>&nbsp;</label>\n        <span class="checkboxes">\n            <label class="checkbox">\n                <span><input checked type="checkbox" name="is_active" id="id_is_active" /></span>\n                This collection and icon sets are active.\n            </label>\n        </span>\n    </form>\n</section>\n'},useData:!0}),this.Handlebars.templates["modals/templates/change_cover_picture.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<section class="change-cover-picture-modal">\n    <article class="option option-upload">\n        <h3>Upload cover picture</h3>\n        <a href="#" class="btn btn-primary">Upload</a>\n    </article>\n    <article class="option option-reset">\n        <h3>Reset to default</h3>\n        <a href="#" class="btn btn-primary">Reset</a>\n    </article>\n</section>\n'},useData:!0}),this.Handlebars.templates["modals/templates/confirm.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return"<section>\n    <p>"+a.escapeExpression((f=null!=(f=c.message||(null!=b?b.message:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"message",hash:{},data:e}):f))+"</p>\n</section>\n            \n"},useData:!0}),this.Handlebars.templates["modals/templates/create_collection.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){return'<section>\n    <form id="create_collection_form" action="/collections/new" method="post" class="horizontal-form">\n        <p>A collection can be used to group icon sets. E.g. if several icon sets are made in the same style.</p>\n        <p>\n            <label for="id_name">Collection name</label>\n            <span><input id="id_name" type="text" name="name" value="" placeholder="E.g. Lovely icons" maxlength="100" /></span>\n        </p>\n        <p>\n            <label for="id_description">Description</label>\n            <span class="textarea">\n                <textarea placeholder="This description will be visible to the users." name="description" id="id_description"></textarea>\n            </span>\n        </p>\n        <p>\n            <label for="id_name">Sort index</label>\n            <span><input id="id_sort_index" type="text" name="sort_index" value="1" maxlength="2" style="width: 50px;" /></span>\n        </p>\n    </form>\n</section>\n'},useData:!0}),this.Handlebars.templates["modals/templates/error.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return"<article>\n    <section>\n        <p>"+a.escapeExpression((f=null!=(f=c.message||(null!=b?b.message:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"message",hash:{},data:e}):f))+"</p>\n    </section>\n</article>\n"},useData:!0}),this.Handlebars.templates["modals/templates/show_datauri.html"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<section>\n    <p>Copy the base64 encoded data URI below and insert it in HTML or CSS. For more information <a href="http://blog.iconfinder.com/base64-encoding-assets-the-what-when-and-how/">read this blog post about data URIs</a>.</p>\n    <textarea class="datauri">'+a.escapeExpression((f=null!=(f=c.datauri||(null!=b?b.datauri:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"datauri",hash:{},data:e}):f))+'</textarea>\n    <script>\n        $(".datauri").eq(0).focus().select();\n        $(".datauri").click(function(){\n            $(this).focus().select();\n        });\n    <\/script>\n</section>\n\n'},useData:!0}),this.Handlebars.templates["submissions/templates/submission_upload_files.html"]=Handlebars.template({1:function(a,b,c,d,e){var f,g,h=null!=b?b:{},i=c.helperMissing,j=a.escapeExpression;return(null!=(f=c.if.call(h,null!=b?b.error:b,{name:"if",hash:{},fn:a.program(2,e,0),inverse:a.program(4,e,0),data:e}))?f:"")+"\t\t\t\t\t\t\t<td>"+j((g=null!=(g=c.name||(null!=b?b.name:b))?g:i,"function"==typeof g?g.call(h,{name:"name",hash:{},data:e}):g))+'</td>\n\t\t\t\t\t\t\t<td style="width: 100px;">'+j((c.format_size||b&&b.format_size||i).call(h,null!=b?b.size:b,{name:"format_size",hash:{},data:e}))+'</td>\n\t\t\t\t\t\t\t<td style="width: 150px;">\n'+(null!=(f=c.if.call(h,null!=b?b.error:b,{name:"if",hash:{},fn:a.program(9,e,0),inverse:a.program(11,e,0),data:e}))?f:"")+"\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n"},2:function(a,b,c,d,e){return'                            <tr data-type="file" class="error">\n'},4:function(a,b,c,d,e){var f;return null!=(f=c.if.call(null!=b?b:{},null!=b?b.data:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.program(7,e,0),data:e}))?f:""},5:function(a,b,c,d,e){return'                                <tr data-type="file">\n'},7:function(a,b,c,d,e){return'                                <tr data-type="file" class="success">\n'},9:function(a,b,c,d,e){var f;return"\t\t\t\t\t\t\t\t\t"+a.escapeExpression((f=null!=(f=c.error||(null!=b?b.error:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"error",hash:{},data:e}):f))+"\n"},11:function(a,b,c,d,e){var f;return null!=(f=c.if.call(null!=b?b:{},null!=b?b.data:b,{name:"if",hash:{},fn:a.program(12,e,0),inverse:a.program(14,e,0),data:e}))?f:""},12:function(a,b,c,d,e){var f;return'\t\t\t\t\t\t\t\t\t\t<div class="progress small-progress progress-striped active"><div class="bar" style="width: '+a.escapeExpression(a.lambda(null!=(f=null!=b?b.progress:b)?f.percentage:f,b))+'%;"></div></div>\n'},14:function(a,b,c,d,e){return"\t\t\t\t\t\t\t\t\t\tUploaded\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f;return'<section>\n\t<div class="row-fluid">\n\t\t<div class="js-sticky table-actions">\n\t\t\t<h3>Files</h3>\n\t\t</div>\n\t\t<div class="span12">\n\t\t\t<table class="table table-striped table-actions table-bordered">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Filename</th>\n\t\t\t\t\t\t<th>Size</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n'+(null!=(f=c.each.call(null!=b?b:{},null!=b?b.files:b,{name:"each",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+"\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</section>\n"},useData:!0});
//# sourceMappingURL=iconfinder.js.map